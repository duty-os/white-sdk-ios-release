!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./",n(n.s=121)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26);t.Library=r.Library,t.transient=r.transient;var i=n(74);t.RoomMode=i.RoomMode;var o=n(75);t.AkkoVersion=o.AkkoVersion;var a=n(147);t.AkkoFactory=a.AkkoFactory;var s=n(11);t.__context=s.__context,t.__register=s.__register,t.isAkkoObject=s.isAkkoObject,t.getClassReflection=s.getClassReflection;var c=n(15);t.getContext=c.getContext,t.createElement=c.createElement;var u=n(46);t.noEffects=u.noEffects,t.event=u.event;var l=n(20);t.AdminObserverId=l.AdminObserverId;var p=n(90);t.FramesSequenceFactory=p.FramesSequenceFactory;var f=n(7);t.findIdentifierWith=f.findIdentifierWith,t.stringWithIdentifier=f.stringWithIdentifier,t.isNullIdentifier=f.isNullIdentifier,t.isIdentifierEquals=f.isIdentifierEquals,t.translateToAckFrame=f.translateToAckFrame,t.FramePicker=f.FramePicker,t.ActionFrameType=f.ActionFrameType,t.EventScope=f.EventScope;var d=n(80);t.KickReason=d.KickReason,t.ImagePhase=d.ImagePhase,t.MagixPhase=d.MagixPhase,t.ReconstructorPhase=d.ReconstructorPhase,t.ReconstructorFactory=d.ReconstructorFactory},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__context("framework/index","1.1.0");n(28),r.exportExternal("./MembersManager",{MemberInformation:"MemberInformation",MemberDisplayer:"MemberDisplayer"}),n(39),r.exportExternal("./TypeDefinitions"),n(23),r.exportExternal("./ApplianceComponent"),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(23)),r=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("impls/abstract/Editable","1.1.0"),a=o.creator,s=o.setter,c=o.caller,u=o.getter,l=n(0);n(0);var p=n(5);n(5);var f=n(1);n(1);var d=n(5);n(5);var h=n(8);n(8);var y=n(13);n(13),o.defineType("0",o.getCompoundType(o.TypeEnum.And,[o.getObjectType({properties:{selectedBy:o.getCompoundType(o.TypeEnum.Or,[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Undefined)]),context:o.getReferenceType("../../framework:ApplianceContext"),highlightAuthorIds:o.getObjectType({index:o.getSingletonType(o.TypeEnum.Number)})}}),o.getReferenceType("../../framework:ApplianceComponent")])),o.defineExport("0","Editable");var m=function(e){function t(t){var n=e.call(this)||this;return n.originX=0,n.originY=0,n.width=0,n.height=0,n.highlightAuthorIds=a([]),s(n,"context",t),n}return i(t,e),t.prototype.pointHitTestContent=function(e,t,n){return!0},t.prototype.rectHitTestContent=function(e,t,n,r,i,o){return e},t.prototype.pointHitTest=function(e,t,n){var r=c(Math,"max",[u(this,"hitTestingBoxMargin"),n]);if(c(this,"testInEditableRectangle",[e,t,r])){var i=e-u(this,"originX"),o=t-u(this,"originY");return c(this,"pointHitTestContent",[i,o,r])}return!1},t.prototype.rectHitTest=function(e,t,n,r){var i=u(this,"hitTestingBoxMargin"),o=c(this,"rectangleTester",[i]),a=c(o,"rectHitTest",[e,t,n,r]);if(a===u(d.RectangleTestingResult,"Disjoint")||a===u(d.RectangleTestingResult,"IncludeByRectangle"))return a;var s=e-u(this,"originX"),l=t-u(this,"originY"),p=e+n-u(this,"originX"),f=t+r-u(this,"originY"),h=c(Math,"min",[s,p]),y=c(Math,"min",[l,f]),m=c(Math,"abs",[s-p]),g=c(Math,"abs",[l-f]);return c(this,"rectHitTestContent",[a,h,y,m,g,i])},t.prototype.testInEditableRectangle=function(e,t,n){var r=u(this,"originX")-n,i=u(this,"originY")-n,o=u(this,"width")+2*n,a=u(this,"height")+2*n;return c(y.RectangleTester,"test",[r,i,o,a,e,t])},t.prototype.rectangleTester=function(e){var t=new p.ConvexPolygonTester,n=u(this,"originX")-e,r=u(this,"originY")-e,i=u(this,"width")+2*e,o=u(this,"height")+2*e;return c(t,"pushPoint",[a({x:n,y:r})]),c(t,"pushPoint",[a({x:n+i,y:r})]),c(t,"pushPoint",[a({x:n+i,y:r+o})]),c(t,"pushPoint",[a({x:n,y:r+o})]),t},t.prototype.isHighlightBy=function(e){return-1!==c(u(this,"highlightAuthorIds"),"indexOf",[e])},t.prototype.setHighlightBy=function(e,t){c(this,"authorsPropertySetValue",[u(this,"highlightAuthorIds"),e,t])},t.prototype.authorsPropertySetValue=function(e,t,n){var r=c(e,"indexOf",[n]);t?-1===r&&c(e,"push",[n]):-1!==r&&c(e,"splice",[r,1])},t.prototype.renderTagBoxes=function(){var e=c(l,"getContext",[]).observerId,t=c(this,"isHighlightBy",[e]);if(!t&&void 0===u(this,"selectedBy"))return null;var n=u(this,"hitTestingBoxMargin"),r=a({highlight:t,color:u(c(u(this,"context"),"getMemberState",[u(this,"selectedBy")]),"strokeColor"),selectedBy:void 0===u(this,"selectedBy")?u(h.BelongsTo,"None"):u(this,"selectedBy")===e?u(h.BelongsTo,"Me"):u(h.BelongsTo,"Others")});return a({key:u(this,"key"),type:"editable",payload:r,left:u(this,"originX")-n,top:u(this,"originY")-n,right:u(this,"originX")+u(this,"width")+n,bottom:u(this,"originY")+u(this,"height")+n})},t.prototype.renderSvg=function(){return l.createElement("g",{key:u(this,"key"),transform:"translate("+u(this,"originX")+","+u(this,"originY")+")"},c(this,"renderSvgContent",[]))},t}(o.wrapSuperClass(f.ApplianceComponent));t.Editable=m,o.defineClass("0",m,{superClass:"../../framework:ApplianceComponent",name:"Editable",properties:[{name:"selectedBy",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getCompoundType(o.TypeEnum.Or,[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Undefined)]),decorators:[]},{name:"context",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getReferenceType("../../framework:ApplianceContext"),decorators:[]},{name:"highlightAuthorIds",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getObjectType({index:o.getSingletonType(o.TypeEnum.Number)}),decorators:[]}],methods:[{name:"pointHitTestContent",isPublic:!1,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"rectHitTestContent",isPublic:!1,parameterTypes:[o.getReferenceType("../../hittest:RectangleTestingResult"),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getReferenceType("../../hittest:RectangleTestingResult"),decorators:[]},{name:"pointHitTest",isPublic:!0,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"rectHitTest",isPublic:!0,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getReferenceType("../../hittest:RectangleTestingResult"),decorators:[]},{name:"testInEditableRectangle",isPublic:!1,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"rectangleTester",isPublic:!1,parameterTypes:[o.getSingletonType(o.TypeEnum.Number)],returnType:o.getReferenceType("../../hittest:ConvexPolygonTester"),decorators:[]},{name:"isHighlightBy",isPublic:!0,parameterTypes:[o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"setHighlightBy",isPublic:!0,parameterTypes:[o.getSingletonType(o.TypeEnum.Boolean),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"authorsPropertySetValue",isPublic:!1,parameterTypes:[o.getObjectType({index:o.getSingletonType(o.TypeEnum.Number)}),o.getSingletonType(o.TypeEnum.Boolean),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"renderTagBoxes",isPublic:!0,parameterTypes:[],returnType:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("../../framework:TagBox"),o.getSingletonType(o.TypeEnum.Null)]),decorators:[]},{name:"renderSvg",isPublic:!0,parameterTypes:[],returnType:o.getCompoundType(o.TypeEnum.Or,[o.getSingletonType(o.TypeEnum.Any),o.getSingletonType(o.TypeEnum.Null)]),decorators:[]}]}),o=null},function(e,t,n){"use strict";e.exports=n(177)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__context("appState/index","1.1.0");n(47),n(47),r.exportExternal("./Color"),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(47)),r.defineType("0",r.getObjectType({properties:{currentSceneIndex:r.getSingletonType(r.TypeEnum.Number)}})),r.defineExport("0","GlobalState"),r.defineType("1",r.getObjectType({properties:{currentApplianceName:r.getSingletonType(r.TypeEnum.String),strokeColor:r.getReferenceType("./Color:Color"),strokeWidth:r.getSingletonType(r.TypeEnum.Number),textSize:r.getSingletonType(r.TypeEnum.Number)}})),r.defineExport("1","MemberState"),r.defineType("2",r.getSingletonType(r.TypeEnum.Any)),r.defineExport("2","ViewMode"),function(e){e.Freedom="freedom",e.Follower="follower",e.Broadcaster="broadcaster"}(t.ViewMode||(t.ViewMode={})),r.defineType("3",r.getObjectType({properties:{memberId:r.getSingletonType(r.TypeEnum.Number),mode:r.getSingletonType(r.TypeEnum.Any),centerX:r.getSingletonType(r.TypeEnum.Number),centerY:r.getSingletonType(r.TypeEnum.Number),scale:r.getSingletonType(r.TypeEnum.Number)}})),r.defineExport("3","ViewState"),r=null},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0).__context("hittest/index","1.1.0");n(37),i.exportExternal("./BasicTester",{inCircle:"inCircle"});var o=n(37);t.inCircle=o.inCircle,n(9),i.exportExternal("./TypeDefinitions",{RectangleTestingResult:"RectangleTestingResult"});var a=n(9);t.RectangleTestingResult=a.RectangleTestingResult,n(38),i.exportExternal("./ConvexPolygonTester"),r(n(38)),n(93),i.exportExternal("./SectorTester"),r(n(93)),n(94),i.exportExternal("./PolylineTester"),r(n(94)),i=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__context("impls/tools/index","1.1.0");n(100),r.exportExternal("./Gesture",{Gesture:"Gesture"});var i=n(100);t.Gesture=i.Gesture,n(21),r.exportExternal("./EditableSelector"),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(21)),r=null},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(35)),r(n(43)),r(n(150)),r(n(155));var i=n(44);t.findIdentifierWith=i.findIdentifierWith;var o=n(42);t.bindIdentifier=o.bindIdentifier},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__context("impls/types/index","1.1.0");n(48),n(96),n(48),r.exportExternal("./EditablePayload"),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(48)),n(96),r.exportExternal("./TextareaTypes"),r.defineType("0",r.getObjectType({properties:{myText:r.getReferenceType("./TextareaTypes:TextareaEditPayload"),otherText:r.getReferenceType("./TextareaTypes:TextareaStatePayload"),selectedGroup:r.getReferenceType("./EditablePayload:SelectedGroupPayload"),editable:r.getReferenceType("./EditablePayload:EditablePayload"),editor:r.getReferenceType("./EditablePayload:EditorPayload")}})),r.defineExport("0","TagDefinitions"),r=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__context("hittest/TypeDefinitions","1.1.0");r.defineType("0",r.getObjectType({properties:{x:r.getSingletonType(r.TypeEnum.Number),y:r.getSingletonType(r.TypeEnum.Number)}})),r.defineExport("0","Point"),r.defineType("1",r.getSingletonType(r.TypeEnum.Any)),r.defineExport("1","RectangleTestingResult"),function(e){e[e.Disjoint=0]="Disjoint",e[e.Cross=1]="Cross",e[e.IncludeRectangle=2]="IncludeRectangle",e[e.IncludeByRectangle=3]="IncludeByRectangle"}(t.RectangleTestingResult||(t.RectangleTestingResult={})),r=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__context("impls/TypeDefinitions","1.1.0");r.defineType("0",r.getObjectType({properties:{x:r.getSingletonType(r.TypeEnum.Number),y:r.getSingletonType(r.TypeEnum.Number)}})),r.defineExport("0","Point"),r.defineType("1",r.getObjectType({properties:{x:r.getSingletonType(r.TypeEnum.Number),y:r.getSingletonType(r.TypeEnum.Number),width:r.getSingletonType(r.TypeEnum.Number),height:r.getSingletonType(r.TypeEnum.Number)}})),r.defineExport("1","Rectangle"),r.defineType("2",r.getObjectType({properties:{uuid:r.getSingletonType(r.TypeEnum.String),centerX:r.getSingletonType(r.TypeEnum.Number),centerY:r.getSingletonType(r.TypeEnum.Number),width:r.getSingletonType(r.TypeEnum.Number),height:r.getSingletonType(r.TypeEnum.Number)}})),r.defineExport("2","ImageInformation"),r=null},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(76)),r(n(77)),r(n(149))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(25),s=n(3),c=n(0),u=n(178),l=n(186),p=n(188),f=n(56),d=n(223);!function(e){e.Desktop="desktop",e.Touch="touch"}(o=t.DeviceType||(t.DeviceType={})),t.Scope="cloud";var h,y,m,g=(h="wss://cloudhare.herewhite.com:8644",y=Object({NODE_ENV:"production",PUBLIC_URL:"."}).PERSISTENCE_ORIGIN,m=Object({NODE_ENV:"production",PUBLIC_URL:"."}).ASSETS_ORIGIN,h||(h="ws://*:3001"),h=h.replace(/\*/i,function(){return""+window.location.hostname}),y||(y="http://localhost:3002"),m||(m="https://cdnroom.herewhite.com"),Object.freeze({socketOrigin:h,persistenceServerOrigin:y,assetsPrefix:m})),v=function(){function e(e){void 0===e&&(e={}),this.deviceType=void 0===e.deviceType?o.Desktop:e.deviceType,this.akkoFactory=new c.AkkoFactory(a.default,{enableAnimationFrame:!0,persistenceServerOrigin:this.standardizeOrigin(g.persistenceServerOrigin),assetsPrefix:this.standardizeOrigin(g.assetsPrefix),jsxFactory:s.createElement,clientFactory:new u.WebSocketClientFactory(this.standardizeOrigin(g.socketOrigin))}),e.mediaPlayerFactory&&(this.mediaAdapterFactory=new p.MediaAdapterFactory(this.akkoFactory,e.mediaPlayerFactory)),this.animationTickGenFactory=new l.AnimationTickGenFactory,this.mouseCursorDefinition=d.getWholeMouseCursorDefinition(e.mouseCursorDefinition),this.zoomMaxScale=void 0===e.zoomMaxScale?10:e.zoomMaxScale,this.zoomMinScale=void 0===e.zoomMinScale?.1:e.zoomMinScale}return e.prototype.standardizeOrigin=function(e){return e.replace(/\/$/i,"")},e.prototype.joinRoom=function(e,n){return void 0===n&&(n={}),r(this,void 0,void 0,function(){var r;return i(this,function(i){switch(i.label){case 0:return[4,(r=new f.RoomImplement({akkoFactory:this.akkoFactory,mouseCursorDefinition:this.mouseCursorDefinition,deviceType:this.deviceType,disableOperations:!!e.disableOperations,animationTickGenFactory:this.animationTickGenFactory,zoomMaxScale:this.zoomMaxScale,zoomMinScale:this.zoomMinScale,callbacks:n})).connect({uuid:e.uuid,roomToken:e.roomToken,userToken:"cloud"===t.Scope?void 0:e.userToken})];case 1:return i.sent(),[2,r]}})})},e.prototype.replayRoom=function(e,t,n){return void 0===n&&(n={}),r(this,void 0,void 0,function(){var n;return i(this,function(r){switch(r.label){case 0:throw new Error("this method is not supported this version");case 1:return r.sent(),[3,4];case 2:return[4,n.setupMediaPlayer(e,t,this.akkoFactory)];case 3:r.sent(),r.label=4;case 4:return[2,n]}})})},e}();t.WhiteWebSdk=v},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("hittest/RectangleTester","1.1.0"),a=o.creator;n(9),o.defineType("0",o.getObjectType({})),o.defineExport("0","RectangleTester");var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.test=function(e,t,n,r,i,o){return i>=e&&i<=e+n&&o>=t&&o<=t+r},t.iterate=function(e,t,n,r,i){i(e,t),i(e+n,t),i(e+n,t+r),i(e,t+r)},t.allPoints=function(e,t,n,r){return a([a({x:e,y:t}),a({x:e+n,y:t}),a({x:e+n,y:t+r}),a({x:e,y:t+r})])},t}(o.baseClass());t.RectangleTester=s,o.defineClass("0",s,{name:"RectangleTester",properties:[],methods:[]}),o=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("impls/TextareaShape","1.1.0"),a=o.creator,s=o.setter,c=o.getter,u=o.caller,l=n(0);n(0),n(8);var p=n(2);n(2),n(1),n(4),o.defineType("0",o.getCompoundType(o.TypeEnum.And,[o.getObjectType({properties:{originX:o.getSingletonType(o.TypeEnum.Number),originY:o.getSingletonType(o.TypeEnum.Number),width:o.getSingletonType(o.TypeEnum.Number),height:o.getSingletonType(o.TypeEnum.Number),textSize:o.getSingletonType(o.TypeEnum.Number),editedBy:o.getCompoundType(o.TypeEnum.Or,[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Undefined)]),textColor:o.getReferenceType("../appState:Color"),textareaBox:o.getReferenceType("./types:TextareaBox"),isTextEmpty:o.getSingletonType(o.TypeEnum.Boolean),selectable:o.getSingletonType(o.TypeEnum.Boolean),hitTestingBoxMargin:o.getSingletonType(o.TypeEnum.Number),currentScale:o.getSingletonType(o.TypeEnum.Number)}}),o.getReferenceType("./abstract/Editable:Editable")])),o.defineExport("0","TextareaShape");var f=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.originX=0,i.originY=0,i.width=0,i.height=0,i.textSize=16,i.textareaBox=a({scale:1,width:0,height:0,originalText:"",textLines:a([])}),s(i,"originX",n),s(i,"originY",r),s(i,"textColor",c(u(t,"getMemberState",[]),"strokeColor")),i}return i(t,e),Object.defineProperty(t.prototype,"isTextEmpty",{get:function(){return""===c(c(this,"textareaBox"),"originalText")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectable",{get:function(){return c(this,"editedBy")!==c(u(l,"getContext",[]),"authorId")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitTestingBoxMargin",{get:function(){return c(this,"textSize")/4},enumerable:!0,configurable:!0}),t.prototype.setTextareaBox=function(e){s(this,"textareaBox",e),s(this,"width",c(e,"width")*c(e,"scale")),s(this,"height",c(e,"height")*c(e,"scale"))},t.prototype.adjustToKeepUniformScale=function(){if(0!==c(c(this,"textareaBox"),"width")&&0!==c(c(this,"textareaBox"),"height")){var e=c(this,"width")/c(c(this,"textareaBox"),"width"),t=c(this,"height")/c(c(this,"textareaBox"),"height"),n=u(Math,"min",[e,t]),r=c(c(this,"textareaBox"),"width")*n,i=c(c(this,"textareaBox"),"height")*n;s(this,"originX",c(this,"originX")+(c(this,"width")-r)/2),s(this,"originY",c(this,"originY")+(c(this,"height")-i)/2),s(this,"width",r),s(this,"height",i)}},Object.defineProperty(t.prototype,"currentScale",{get:function(){if(0===c(c(this,"textareaBox"),"width")||0===c(c(this,"textareaBox"),"height"))return 1;var e=c(this,"width")/c(c(this,"textareaBox"),"width"),t=c(this,"height")/c(c(this,"textareaBox"),"height");return u(Math,"min",[e,t])},enumerable:!0,configurable:!0}),t.prototype.renderTagBoxes=function(){return c(this,"editedBy")===c(u(l,"getContext",[]),"observerId")?u(this,"renderTagBoxesWhenEditedByMe",[]):void 0!==c(this,"editedBy")?u(this,"renderTagBoxesWhenEditedByOther",[]):u(this,"renderTagBoxes",[],e.prototype)},t.prototype.renderTagBoxesWhenEditedByMe=function(){var e=c(this,"hitTestingBoxMargin"),t=c(this,"currentScale"),n=a({margin:e,scale:t,color:c(u(c(this,"context"),"getMemberState",[]),"strokeColor"),textColor:c(this,"textColor"),textSize:c(this,"textSize"),originalText:c(c(this,"textareaBox"),"originalText")});return a({key:c(this,"key"),type:"myText",payload:n,left:c(this,"originX"),top:c(this,"originY"),right:c(this,"originX")+c(this,"width"),bottom:c(this,"originY")+c(this,"height")})},t.prototype.renderTagBoxesWhenEditedByOther=function(){var e=c(this,"hitTestingBoxMargin"),t=a({margin:e,editorId:c(this,"editedBy"),textSize:c(this,"textSize"),color:c(u(c(this,"context"),"getMemberState",[c(this,"editedBy")]),"strokeColor"),information:u(c(this,"context"),"getInformationWithMemberId",[c(this,"editedBy")])});return a({key:c(this,"key"),type:"otherText",payload:t,left:c(this,"originX"),top:c(this,"originY"),right:c(this,"originX")+c(this,"width"),bottom:c(this,"originY")+c(this,"height")})},t.prototype.renderSvgContent=function(){if(c(this,"editedBy")===c(u(l,"getContext",[]),"observerId"))return null;var e=this.currentScale,t=c(this,"textSize")*e,n=c(this,"textColor"),r=n[0],i=n[1],o=n[2];return l.createElement("g",{key:c(this,"key"),x:0,y:0},u(c(c(this,"textareaBox"),"textLines"),"map",[function(n,a){var s=n.dx,c=n.dy,u=n.text,p=n.textLength;return l.createElement("text",{key:""+a,x:s*e,y:c*e,textLength:p*e,fill:"rgb("+r+","+i+","+o+")",fontSize:t,dominantBaseline:"central"},u)}]))},t}(o.wrapSuperClass(p.Editable));t.TextareaShape=f,o.defineClass("0",f,{superClass:"./abstract/Editable:Editable",name:"TextareaShape",properties:[{name:"originX",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"originY",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"width",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"height",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"textSize",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"editedBy",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getCompoundType(o.TypeEnum.Or,[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Undefined)]),decorators:[]},{name:"textColor",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getReferenceType("../appState:Color"),decorators:[]},{name:"textareaBox",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getReferenceType("./types:TextareaBox"),decorators:[]},{name:"isTextEmpty",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"selectable",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"hitTestingBoxMargin",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"currentScale",isPublic:!1,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]}],methods:[{name:"setTextareaBox",isPublic:!0,parameterTypes:[o.getReferenceType("./types:TextareaBox")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"adjustToKeepUniformScale",isPublic:!0,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"renderTagBoxes",isPublic:!0,parameterTypes:[],returnType:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("../framework:TagBox"),o.getSingletonType(o.TypeEnum.Null)]),decorators:[]},{name:"renderTagBoxesWhenEditedByMe",isPublic:!1,parameterTypes:[],returnType:o.getReferenceType("../framework:TagBox"),decorators:[]},{name:"renderTagBoxesWhenEditedByOther",isPublic:!1,parameterTypes:[],returnType:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("../framework:TagBox"),o.getSingletonType(o.TypeEnum.Null)]),decorators:[]},{name:"renderSvgContent",isPublic:!1,parameterTypes:[],returnType:o.getCompoundType(o.TypeEnum.Or,[o.getSingletonType(o.TypeEnum.Any),o.getSingletonType(o.TypeEnum.Null)]),decorators:[]}]}),o=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);!function(e){e.Real="real",e.Illusion="illusion",e.NoEffects="noEffects"}(t.Environment||(t.Environment={}));var i=[],o=void 0;t.isInMagix=function(){return!!o},t.getContext=function(){if(!o)throw new Error("Context not found. maybe you called it out of Magix");return o.context},t.createElement=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!o)throw new Error("can't create JSX dom. maybe you called it out of Magix");if(!o.createElement)throw new Error("can't create JSX dom. you didn't set jsxFactory");return o.createElement.apply(o,e)},t.runWithContext=function(e,t,n,a){return r.runWithAccessorContext(e,function(){try{return o={context:t,createElement:n},i.push(o),a()}finally{i.pop(),o=i[i.length-1]}})}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("framework/Scene","1.1.0"),a=o.caller,s=o.getter,c=o.creator,u=n(0);n(0),n(23),n(39);var l=n(95);n(95),n(2),o.defineType("0",o.getCompoundType(o.TypeEnum.And,[o.getObjectType({}),o.getReferenceType("./ApplianceComponentContainer:ApplianceComponentContainer")])),o.defineExport("0","Scene");var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.editableWithHitIdentifies=function(e){var t=e[0];return void 0===t?void 0:a(this,"findComponentFromTop",[function(e){return a(u,"isIdentifierEquals",[t,s(e,"identifier")])}])},t.prototype.editablesWithHitIdentifies=function(e){for(var t=c([]),n=function(e){var n=a(r,"findComponentFromTop",[function(t){return a(u,"isIdentifierEquals",[e,s(t,"identifier")])}]);n&&a(t,"push",[n])},r=this,i=0,o=e;i<o.length;i++){n(o[i])}return t},t.prototype.renderTagBoxes=function(){for(var e=c([]),t=0,n=s(this,"components");t<n.length;t++){var r=n[t],i=a(r,"renderTagBoxes",[]);i&&a(e,"push",[i])}return e},t.prototype.renderSvg=function(){for(var e=c([]),t=0,n=s(this,"components");t<n.length;t++){var r=n[t],i=a(r,"renderSvg",[]);i&&(a(this,"isSvgElementLackOfKey",[i])&&a(console,"warn",["lack string key for component "+(r&&s(s(r,"constructor"),"name"))]),a(e,"push",[i]))}return e},t.prototype.isSvgElementLackOfKey=function(e){return"object"===typeof e&&null!==e&&(!(e instanceof Array)&&"string"!==typeof s(e,"key"))},t}(o.wrapSuperClass(l.ApplianceComponentContainer));t.Scene=p,o.defineClass("0",p,{superClass:"./ApplianceComponentContainer:ApplianceComponentContainer",name:"Scene",properties:[],methods:[{name:"editableWithHitIdentifies",isPublic:!0,parameterTypes:[o.getObjectType({index:o.getObjectType({index:o.getSingletonType(o.TypeEnum.Number)})})],returnType:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("../impls/abstract/Editable:Editable"),o.getSingletonType(o.TypeEnum.Undefined)]),decorators:[]},{name:"editablesWithHitIdentifies",isPublic:!0,parameterTypes:[o.getObjectType({index:o.getObjectType({index:o.getSingletonType(o.TypeEnum.Number)})})],returnType:o.getObjectType({index:o.getReferenceType("../impls/abstract/Editable:Editable")}),decorators:[]},{name:"renderTagBoxes",isPublic:!0,parameterTypes:[],returnType:o.getObjectType({index:o.getReferenceType("./TypeDefinitions:TagBox")}),decorators:[]},{name:"renderSvg",isPublic:!0,parameterTypes:[],returnType:o.getObjectType({index:o.getSingletonType(o.TypeEnum.Any)}),decorators:[]},{name:"isSvgElementLackOfKey",isPublic:!1,parameterTypes:[o.getSingletonType(o.TypeEnum.Any)],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]}]}),o=null},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(190)),r(n(110)),r(n(191)),r(n(192))},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))i.call(n,u)&&(s[u]=n[u]);if(r){a=r(n);for(var l=0;l<a.length;l++)o.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(136))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(156)),r(n(84)),r(n(85));var i=n(45);t.AdminObserverId=i.AdminObserverId},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__context("impls/tools/EditableSelector","1.1.0"),i=r.caller,o=r.creator,a=r.getter,s=n(2);n(2);var c=n(5);function u(e,t){return e<=1&&t<=1}n(5),n(16),t.willIgnoreSelectingBox=u,t.setHighlightNothing=function(e,t){i(e,"forEachComponents",[function(e){e instanceof s.Editable&&i(e,"setHighlightBy",[!1,t])}])},t.findHighlightComponent=function(e,t){return i(e,"findComponentFromTop",[function(e){return e instanceof s.Editable&&i(e,"isHighlightBy",[t])}])},t.searchEditableComponentsByPoint=function(e,t,n,r){var c=o([]);return i(e,"forEachComponents",[function(e){e instanceof s.Editable&&a(e,"selectable")&&i(e,"pointHitTest",[t,n,r])&&i(c,"push",[e])}]),c},t.searchEditableComponentsByRectangle=function(e,t,n,r,l){if(u(r,l))return o([]);var p=o([]);return i(e,"forEachComponents",[function(e){e instanceof s.Editable&&a(e,"selectable")&&i(e,"rectHitTest",[t,n,r,l])!==a(c.RectangleTestingResult,"Disjoint")&&i(p,"push",[e])}]),p},r=null},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0).__context("hittest/Geometry","1.1.0"),o=i.caller,a=i.getter,s=i.creator,c=i.setter;t.linearDistance=function(e,t){return o(Math,"abs",[a(e,"x")-a(t,"x")])+o(Math,"abs",[a(e,"y")-a(t,"y")])},t.distance=function(e,t){var n=a(e,"x")-a(t,"x"),r=a(e,"y")-a(t,"y");return o(Math,"sqrt",[n*n+r*r])},t.verticalVector=function(e){var t=e.x,n=e.y;return s({x:-n,y:t})},t.dotProduct=function(e,t){return a(e,"x")*a(t,"x")+a(e,"y")*a(t,"y")},t.isZero=function(e){return o(Math,"abs",[e])<1e-6},t.unitVector=function(e){var t=o(Math,"sqrt",[a(e,"x")*a(e,"x")+a(e,"y")*a(e,"y")]);return c(e,"x",a(e,"x")/t),c(e,"y",a(e,"y")/t),e},t.plus=function(e,t){return s({x:a(e,"x")+a(t,"x"),y:a(e,"y")+a(t,"y")})},t.multiply=function(e,t){return s({x:e*a(t,"x"),y:e*a(t,"y")})},t.triangleArea=function(e,t,n){var r=0;return r+=(a(t,"y")+a(e,"y"))*(a(t,"x")-a(e,"x")),r+=(a(n,"y")+a(t,"y"))*(a(n,"x")-a(t,"x")),r+=(a(e,"y")+a(n,"y"))*(a(e,"x")-a(n,"x")),o(Math,"abs",[r])/2},t.projectionPoint=function(e,t,n){return(a(n,"x")-a(e,"x"))*a(t,"x")+(a(n,"y")-a(e,"y"))*a(t,"y")},t.pointByProject=function(e,t,n){var i=s(r({},t));return c(i,"x",a(i,"x")*n),c(i,"y",a(i,"y")*n),c(i,"x",a(i,"x")+a(e,"x")),c(i,"y",a(i,"y")+a(e,"y")),i},t.meansOverlap=function(e){var t=e.x,n=e.y;return o(Number,"isNaN",[t])&&o(Number,"isNaN",[n])},i=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("framework/ApplianceComponent","1.1.0"),a=o.getter,s=n(0);n(0),n(39),o.defineType("0",o.getObjectType({properties:{key:o.getSingletonType(o.TypeEnum.String),identifier:o.getObjectType({index:o.getSingletonType(o.TypeEnum.Number)})}})),o.defineExport("0","ApplianceComponent");var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"key",{get:function(){return s.stringWithIdentifier(a(this,"identifier"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return s.findIdentifierWith(this)},enumerable:!0,configurable:!0}),t.prototype.renderTagBoxes=function(){return null},t.prototype.renderSvg=function(){return null},t}(o.baseClass());t.ApplianceComponent=c,o.defineClass("0",c,{name:"ApplianceComponent",properties:[{name:"key",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.String),decorators:[]},{name:"identifier",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getObjectType({index:o.getSingletonType(o.TypeEnum.Number)}),decorators:[]}],methods:[{name:"renderTagBoxes",isPublic:!0,parameterTypes:[],returnType:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("./TypeDefinitions:TagBox"),o.getSingletonType(o.TypeEnum.Null)]),decorators:[]},{name:"renderSvg",isPublic:!0,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.Any),decorators:[]}]}),o=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__context("impls/tools/TextareaManager","1.1.0"),i=r.getter,o=r.caller,a=r.setter,s=n(0);n(0),n(16),n(8);var c=n(14);function u(e,t){return o(e,"findComponentFromTop",[function(e){return e instanceof c.TextareaShape&&i(e,"editedBy")===t}])}n(14),t.updateTextarea=function(e,t){var n=u(e,i(o(s,"getContext",[]),"authorId"));n&&o(n,"setTextareaBox",[t])},t.releaseAllTextarea=function(e){o(e,"forEachComponents",[function(e){e instanceof c.TextareaShape&&a(e,"editedBy",void 0)}])},t.releaseTextareaEditedBy=function(e,t){var n=u(e,t);n&&(i(n,"isTextEmpty")?o(e,"removeComponent",[n]):a(n,"editedBy",void 0))},t.textareaEditedBy=u,r=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),n(0).__register();var o=n(0).__context("index","1.1.0"),a=o.creator,s=o.createLibrary,c=n(92);n(92),n(4);var u=n(49);n(49);var l=n(53);n(53);var p=n(50);n(50);var f=n(52);n(52);var d=n(54);n(54);var h=n(55);n(55);var y=n(51);n(51),n(104),o.exportExternal("./TypeDefinitions"),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(104));o.defineType("0",o.getCompoundType(o.TypeEnum.And,[o.getObjectType({}),o.getReferenceType("./abstractApplianceManasger:AbstractApplianceManager")])),o.defineExportDefault("0");var m=function(e){function t(){return e.call(this,a({currentSceneIndex:0}))||this}return i(t,e),t.prototype.createConstructors=function(){return a({selector:u.Selector,pencil:l.PencilAppliance,rectangle:p.RectangleAppliance,ellipse:f.EllipseAppliance,eraser:d.Eraser,arrow:h.ArrowAppliance,text:y.TextAppliance})},t.prototype.createMemberState=function(e){return a({currentApplianceName:"pencil",strokeColor:e,strokeWidth:4,textSize:16})},t}(o.wrapSuperClass(c.AbstractApplianceManager));o.defineClass("0",m,{superClass:"./abstractApplianceManasger:AbstractApplianceManager",name:"ApplianceManager",properties:[],methods:[{name:"createConstructors",isPublic:!1,parameterTypes:[],returnType:o.getObjectType({key:o.getReferenceType("./abstractApplianceManasger:ApplianceClass")}),decorators:[]},{name:"createMemberState",isPublic:!1,parameterTypes:[o.getReferenceType("./appState:Color")],returnType:o.getReferenceType("./appState:MemberState"),decorators:[]}]}),t.default=s(m),o=null},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(19)),r(n(68)),r(n(140)),r(n(72))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(164);t.playerBufferFactory=new r.PlayerBufferFactory,function(e){e.Realtime="realtime",e.Reconstruction="reconstruction"}(t.PlayerBufferMode||(t.PlayerBufferMode={})),function(e){e.Playing="playing",e.Pausing="pausing",e.Empty="empty"}(t.PlayerBufferPhase||(t.PlayerBufferPhase={}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0).__context("framework/MembersManager","1.1.0"),s=a.setter,c=a.getter,u=a.creator,l=a.caller,p=a.remover;n(1);var f=n(4);n(4);var d=n(0);n(0),a.defineType("0",a.getObjectType({properties:{id:a.getSingletonType(a.TypeEnum.Number),nickName:a.getSingletonType(a.TypeEnum.String),isOwner:a.getSingletonType(a.TypeEnum.Boolean),avatar:a.getCompoundType(a.TypeEnum.Or,[a.getSingletonType(a.TypeEnum.String),a.getSingletonType(a.TypeEnum.Undefined)])}})),a.defineExport("0","MemberInformation"),a.defineType("1",a.getCompoundType(a.TypeEnum.And,[a.getReferenceType("../appState:ViewState"),a.getObjectType({properties:{memberId:a.getSingletonType(a.TypeEnum.Number),isRtcConnected:a.getSingletonType(a.TypeEnum.Boolean),isPressed:a.getSingletonType(a.TypeEnum.Boolean),isHidingCursor:a.getSingletonType(a.TypeEnum.Boolean),isCursorInScene:a.getSingletonType(a.TypeEnum.Boolean),currentApplianceName:a.getSingletonType(a.TypeEnum.String),color:a.getReferenceType("../appState:Color"),cursorX:a.getSingletonType(a.TypeEnum.Number),cursorY:a.getSingletonType(a.TypeEnum.Number),information:a.getCompoundType(a.TypeEnum.Or,[a.getReferenceType("#0"),a.getSingletonType(a.TypeEnum.Undefined)])}})])),a.defineExport("1","MemberDisplayer"),a.defineType("2",a.getObjectType({properties:{memberId:a.getSingletonType(a.TypeEnum.Number),information:a.getCompoundType(a.TypeEnum.Or,[a.getReferenceType("#0"),a.getSingletonType(a.TypeEnum.Undefined)]),appliances:a.getObjectType({key:a.getReferenceType("./index:Appliance")}),memberState:a.getReferenceType("../appState:MemberState")}})),a.defineExport("2","MemberConstructParams"),a.defineType("3",a.getObjectType({properties:{isRtcConnected:a.getSingletonType(a.TypeEnum.Boolean),_memberId:a.getSingletonType(a.TypeEnum.Number),_information:a.getCompoundType(a.TypeEnum.Or,[a.getReferenceType("#0"),a.getSingletonType(a.TypeEnum.Undefined)]),appliances:a.getObjectType({key:a.getReferenceType("./index:Appliance")}),cursorX:a.getSingletonType(a.TypeEnum.Number),cursorY:a.getSingletonType(a.TypeEnum.Number),memberState:a.getReferenceType("../appState:MemberState"),viewState:a.getReferenceType("../appState:ViewState"),isPressed:a.getSingletonType(a.TypeEnum.Boolean),isCursorInScene:a.getSingletonType(a.TypeEnum.Boolean),information:a.getCompoundType(a.TypeEnum.Or,[a.getReferenceType("#0"),a.getSingletonType(a.TypeEnum.Undefined)]),memberId:a.getSingletonType(a.TypeEnum.Number),displayer:a.getReferenceType("#1"),currentAppliance:a.getReferenceType("./index:Appliance")}}));var h=function(e){function t(t,n,r,i,o){var a=e.call(this)||this;return a.isRtcConnected=!1,a.cursorX=0,a.cursorY=0,a.isPressed=!1,a.isCursorInScene=!1,s(a,"_memberId",t),s(a,"appliances",n),s(a,"memberState",r),s(a,"viewState",i),s(a,"_information",o),a}return i(t,e),Object.defineProperty(t.prototype,"information",{get:function(){return c(this,"_information")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"memberId",{get:function(){return c(this,"_memberId")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayer",{get:function(){return u(o({},c(this,"viewState"),{cursorX:c(this,"cursorX"),cursorY:c(this,"cursorY"),memberId:c(this,"_memberId"),isRtcConnected:c(this,"isRtcConnected"),isPressed:c(this,"isPressed"),isHidingCursor:c(c(this,"currentAppliance"),"hidingCursor"),isCursorInScene:c(this,"isCursorInScene"),currentApplianceName:c(c(this,"memberState"),"currentApplianceName"),color:c(c(this,"memberState"),"strokeColor"),information:c(this,"_information")}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentAppliance",{get:function(){return c(c(this,"appliances"),c(c(this,"memberState"),"currentApplianceName"))},enumerable:!0,configurable:!0}),t.prototype.setViewMode=function(e){s(c(this,"viewState"),"mode",e)},t.prototype.notifyAllThatSceneChanged=function(e){for(var t in c(this,"appliances"))l(c(c(this,"appliances"),t),"onSceneChanged",[e])},t.prototype.getMemberState=function(){return c(this,"memberState")},t.prototype.getViewState=function(){return c(this,"viewState")},t.prototype.setCursor=function(e,t,n,r){var i=e-c(c(this,"viewState"),"centerX"),o=t-c(c(this,"viewState"),"centerY");s(this,"cursorX",i*c(c(this,"viewState"),"scale")),s(this,"cursorY",o*c(c(this,"viewState"),"scale")),void 0!==r&&s(this,"isPressed",r),s(this,"isCursorInScene",n)},t.prototype.setMemberState=function(e){var t=c(this,"memberState");for(var n in s(this,"memberState",u(o({},t,e))),c(this,"appliances"))l(c(c(this,"appliances"),n),"onMemberStateChanged",[c(this,"memberState"),t]);return c(this,"memberState")},t.prototype.setViewState=function(e){var t=c(this,"viewState");return s(this,"viewState",u(o({},t,e))),c(this,"viewState")},t.prototype.dispatchMagixEvent=function(e,t){for(var n in c(this,"appliances"))l(c(c(this,"appliances"),n),"onMagixEvent",[e,t])},t.prototype.destroy=function(){for(var e in c(this,"appliances"))l(c(c(this,"appliances"),e),"onDestroy",[])},t}(a.baseClass());a.defineClass("3",h,{name:"Member",properties:[{name:"isRtcConnected",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:a.getSingletonType(a.TypeEnum.Boolean),decorators:[]},{name:"_memberId",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:a.getSingletonType(a.TypeEnum.Number),decorators:[]},{name:"_information",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:a.getCompoundType(a.TypeEnum.Or,[a.getReferenceType("#0"),a.getSingletonType(a.TypeEnum.Undefined)]),decorators:[]},{name:"appliances",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:a.getObjectType({key:a.getReferenceType("./index:Appliance")}),decorators:[]},{name:"cursorX",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:a.getSingletonType(a.TypeEnum.Number),decorators:[]},{name:"cursorY",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:a.getSingletonType(a.TypeEnum.Number),decorators:[]},{name:"memberState",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:a.getReferenceType("../appState:MemberState"),decorators:[]},{name:"viewState",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:a.getReferenceType("../appState:ViewState"),decorators:[]},{name:"isPressed",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:a.getSingletonType(a.TypeEnum.Boolean),decorators:[]},{name:"isCursorInScene",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:a.getSingletonType(a.TypeEnum.Boolean),decorators:[]},{name:"information",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:a.getCompoundType(a.TypeEnum.Or,[a.getReferenceType("#0"),a.getSingletonType(a.TypeEnum.Undefined)]),decorators:[]},{name:"memberId",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:a.getSingletonType(a.TypeEnum.Number),decorators:[]},{name:"displayer",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:a.getReferenceType("#1"),decorators:[]},{name:"currentAppliance",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:a.getReferenceType("./index:Appliance"),decorators:[]}],methods:[{name:"setViewMode",isPublic:!0,parameterTypes:[a.getReferenceType("../appState:ViewMode")],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"notifyAllThatSceneChanged",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number)],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"getMemberState",isPublic:!0,parameterTypes:[],returnType:a.getReferenceType("../appState:MemberState"),decorators:[]},{name:"getViewState",isPublic:!0,parameterTypes:[],returnType:a.getReferenceType("../appState:ViewState"),decorators:[]},{name:"setCursor",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Boolean),a.getCompoundType(a.TypeEnum.Or,[a.getSingletonType(a.TypeEnum.Boolean),a.getSingletonType(a.TypeEnum.Undefined)])],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"setMemberState",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Any)],returnType:a.getReferenceType("../appState:MemberState"),decorators:[]},{name:"setViewState",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Any)],returnType:a.getReferenceType("../appState:ViewState"),decorators:[]},{name:"dispatchMagixEvent",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.String),a.getSingletonType(a.TypeEnum.Any)],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"destroy",isPublic:!0,parameterTypes:[],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]}]}),a.defineType("4",a.getObjectType({properties:{initiativeColors:a.getObjectType({index:a.getReferenceType("../appState:Color")}),membersMap:a.getObjectType({index:a.getReferenceType("#3")}),directorId:a.getCompoundType(a.TypeEnum.Or,[a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Undefined)]),broadcasterId:a.getCompoundType(a.TypeEnum.Or,[a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Undefined)])}})),a.defineExport("4","MembersManager");var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.initiativeColors=f.getInitiativeColors(),t.membersMap=u({}),t}return i(t,e),t.prototype.isMemberExits=function(e){return!!c(c(this,"membersMap"),e)},t.prototype.getBroadcasterId=function(){return c(this,"broadcasterId")},t.prototype.findMemberIdWithUserId=function(e){for(var t in c(this,"membersMap")){var n=c(c(this,"membersMap"),t);if(e===(c(n,"information")&&c(c(n,"information"),"id")))return parseInt(t)}},t.prototype.getInformationWithMemberId=function(e){return c(c(this,"membersMap"),e)&&c(c(c(this,"membersMap"),e),"information")},t.prototype.getMemberDisplayers=function(){var e=u([]);for(var t in c(this,"membersMap")){var n=c(c(this,"membersMap"),t);l(e,"push",[c(n,"displayer")])}return e},t.prototype.memberEnter=function(e){var t=e.memberId,n=e.information,r=e.appliances,i=e.memberState;s(c(this,"membersMap"),t,new h(t,r,i,l(this,"enterMemberViewState",[t]),n)),l(this,"compareDirector",[t,c(this,"directorId")])<0&&s(this,"directorId",t)},t.prototype.enterMemberViewState=function(e){if(void 0===c(this,"broadcasterId"))return u({memberId:e,mode:c(f.ViewMode,"Freedom"),centerX:0,centerY:0,scale:1});var t=l(c(c(this,"membersMap"),c(this,"broadcasterId")),"getViewState",[]);return u({memberId:e,mode:c(f.ViewMode,"Follower"),centerX:c(t,"centerX"),centerY:c(t,"centerY"),scale:c(t,"scale")})},t.prototype.memberLeave=function(e){var t=c(c(this,"membersMap"),e);t&&(l(t,"destroy",[]),p(c(this,"membersMap"),e),c(this,"broadcasterId")===e&&l(this,"cancelBroadcaster",[]),l(this,"updateDirector",[]))},t.prototype.updateDirector=function(){var e=u([]);for(var t in c(this,"membersMap"))l(e,"push",[parseInt(t)]);0===c(e,"length")?s(this,"directorId",void 0):(l(e,"sort",[l(c(this,"compareDirector"),"bind",[this])]),s(this,"directorId",c(e,0)))},t.prototype.getMemberState=function(e){return l(c(c(this,"membersMap"),e),"getMemberState",[])},t.prototype.getViewStateWithUserId=function(e){if(void 0!==e)for(var t in c(this,"membersMap")){var n=c(c(this,"membersMap"),t);if(c(n,"information")&&c(c(n,"information"),"id")===e)return l(this,"getViewState",[c(n,"memberId")])}return l(this,"getViewState",[d.AdminObserverId])},t.prototype.getViewState=function(e){var t=c(c(this,"membersMap"),e);return t?l(t,"getViewState",[]):void 0!==c(this,"directorId")?l(c(c(this,"membersMap"),c(this,"directorId")),"getViewState",[]):u({memberId:e,mode:c(f.ViewMode,"Freedom"),centerX:0,centerY:0,scale:1})},t.prototype.setMemberState=function(e,t){return l(c(c(this,"membersMap"),e),"setMemberState",[t])},t.prototype.setViewState=function(e,t){var n=t.mode;n!==c(f.ViewMode,"Follower")||void 0!==c(this,"broadcasterId")&&c(this,"broadcasterId")!==e||(p(t,"mode"),n=void 0);var r=l(c(c(this,"membersMap"),e),"setViewState",[t]);return n===c(f.ViewMode,"Freedom")?c(this,"broadcasterId")===e&&l(this,"cancelBroadcaster",[]):n===c(f.ViewMode,"Broadcaster")?l(this,"becomeNewBroadcast",[e]):c(r,"mode")===c(f.ViewMode,"Broadcaster")&&l(this,"broadcastViewToAllRoom",[]),r},t.prototype.setCursor=function(e,t,n,r,i){l(c(c(this,"membersMap"),e),"setCursor",[t,n,r,i])},t.prototype.setRtcState=function(e,t){s(c(c(this,"membersMap"),e),"isRtcConnected",t)},t.prototype.dispatchMagixEvent=function(e,t,n){l(c(c(this,"membersMap"),e),"dispatchMagixEvent",[t,n])},t.prototype.notifyAllThatSceneChanged=function(e){for(var t in c(this,"membersMap"))l(c(c(this,"membersMap"),t),"notifyAllThatSceneChanged",[e])},t.prototype.currentAppliance=function(e){return c(c(c(this,"membersMap"),e),"currentAppliance")},t.prototype.cancelBroadcaster=function(){for(var e in c(this,"membersMap"))parseInt(e)!==c(this,"broadcasterId")&&l(c(c(this,"membersMap"),e),"setViewMode",[c(f.ViewMode,"Freedom")]);s(this,"broadcasterId",void 0)},t.prototype.becomeNewBroadcast=function(e){var t=l(c(c(this,"membersMap"),e),"getViewState",[]),n=t.centerX,r=t.centerY,i=t.scale,o=u({centerX:n,centerY:r,scale:i,mode:c(f.ViewMode,"Follower")});for(var a in c(this,"membersMap"))parseInt(a)!==e&&l(c(c(this,"membersMap"),a),"setViewState",[o]);s(this,"broadcasterId",e)},t.prototype.broadcastViewToAllRoom=function(){var e=l(c(c(this,"membersMap"),c(this,"broadcasterId")),"getViewState",[]),t=e.centerX,n=e.centerY,r=e.scale,i=u({centerX:t,centerY:n,scale:r});for(var o in c(this,"membersMap")){var a=c(c(this,"membersMap"),o);c(l(a,"getViewState",[]),"mode")===c(f.ViewMode,"Follower")&&l(a,"setViewState",[i])}},t.prototype.initiativeColor=function(){for(var e=0,t=c(this,"initiativeColors");e<t.length;e++){var n=t[e];if(!l(this,"anyMemberHasColor",[n]))return n}var r=c(l(Object,"keys",[c(this,"membersMap")]),"length")%c(c(this,"initiativeColors"),"length");return c(c(this,"initiativeColors"),r)},t.prototype.anyMemberHasColor=function(e){for(var n in c(this,"membersMap"))if(l(t,"isColorEquals",[e,c(l(c(c(this,"membersMap"),n),"getMemberState",[]),"strokeColor")]))return!0;return!1},t.isColorEquals=function(e,t){return c(e,0)===c(t,0)&&c(e,1)===c(t,1)&&c(e,2)===c(t,2)},t.prototype.compareDirector=function(e,t){if(e===t)return 0;if(void 0===e&&void 0!==t)return 1;if(void 0!==e&&void 0===t)return-1;if(e===c(this,"broadcasterId"))return-1;if(t===c(this,"broadcasterId"))return 1;var n=c(c(this,"membersMap"),e),r=c(c(this,"membersMap"),t);if(c(n,"information")&&!c(r,"information"))return-1;if(!c(n,"information")&&c(r,"information"))return 1;if(!c(n,"information")&&!c(r,"information"))return c(n,"memberId")-c(r,"memberId");var i=c(n,"information"),o=c(r,"information");if(c(i,"isOwner")&&!c(o,"isOwner"))return-1;if(!c(i,"isOwner")&&c(o,"isOwner"))return 1;var a=c(i,"id"),s=c(o,"id");return a===s?c(n,"memberId")-c(r,"memberId"):a-s},t}(a.baseClass());t.MembersManager=y,a.defineClass("4",y,{name:"MembersManager",properties:[{name:"initiativeColors",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:a.getObjectType({index:a.getReferenceType("../appState:Color")}),decorators:[]},{name:"membersMap",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:a.getObjectType({index:a.getReferenceType("#3")}),decorators:[]},{name:"directorId",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:a.getCompoundType(a.TypeEnum.Or,[a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Undefined)]),decorators:[]},{name:"broadcasterId",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:a.getCompoundType(a.TypeEnum.Or,[a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Undefined)]),decorators:[]}],methods:[{name:"isMemberExits",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number)],returnType:a.getSingletonType(a.TypeEnum.Boolean),decorators:[]},{name:"getBroadcasterId",isPublic:!0,parameterTypes:[],returnType:a.getCompoundType(a.TypeEnum.Or,[a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Undefined)]),decorators:[]},{name:"findMemberIdWithUserId",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number)],returnType:a.getCompoundType(a.TypeEnum.Or,[a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Undefined)]),decorators:[]},{name:"getInformationWithMemberId",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number)],returnType:a.getCompoundType(a.TypeEnum.Or,[a.getReferenceType("#0"),a.getSingletonType(a.TypeEnum.Undefined)]),decorators:[]},{name:"getMemberDisplayers",isPublic:!0,parameterTypes:[],returnType:a.getObjectType({index:a.getReferenceType("#1")}),decorators:[]},{name:"memberEnter",isPublic:!0,parameterTypes:[a.getReferenceType("#2")],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"enterMemberViewState",isPublic:!1,parameterTypes:[a.getSingletonType(a.TypeEnum.Number)],returnType:a.getReferenceType("../appState:ViewState"),decorators:[]},{name:"memberLeave",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number)],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"updateDirector",isPublic:!1,parameterTypes:[],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"getMemberState",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number)],returnType:a.getReferenceType("../appState:MemberState"),decorators:[]},{name:"getViewStateWithUserId",isPublic:!0,parameterTypes:[a.getCompoundType(a.TypeEnum.Or,[a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Undefined)])],returnType:a.getReferenceType("../appState:ViewState"),decorators:[]},{name:"getViewState",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number)],returnType:a.getReferenceType("../appState:ViewState"),decorators:[]},{name:"setMemberState",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Any)],returnType:a.getReferenceType("../appState:MemberState"),decorators:[]},{name:"setViewState",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Any)],returnType:a.getReferenceType("../appState:ViewState"),decorators:[]},{name:"setCursor",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Boolean),a.getCompoundType(a.TypeEnum.Or,[a.getSingletonType(a.TypeEnum.Boolean),a.getSingletonType(a.TypeEnum.Undefined)])],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"setRtcState",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Boolean)],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"dispatchMagixEvent",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.String),a.getSingletonType(a.TypeEnum.Any)],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"notifyAllThatSceneChanged",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number)],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"currentAppliance",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number)],returnType:a.getReferenceType("./index:Appliance"),decorators:[]},{name:"cancelBroadcaster",isPublic:!1,parameterTypes:[],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"becomeNewBroadcast",isPublic:!1,parameterTypes:[a.getSingletonType(a.TypeEnum.Number)],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"broadcastViewToAllRoom",isPublic:!1,parameterTypes:[],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"initiativeColor",isPublic:!0,parameterTypes:[],returnType:a.getReferenceType("../appState:Color"),decorators:[]},{name:"anyMemberHasColor",isPublic:!1,parameterTypes:[a.getReferenceType("../appState:Color")],returnType:a.getSingletonType(a.TypeEnum.Boolean),decorators:[]},{name:"compareDirector",isPublic:!1,parameterTypes:[a.getCompoundType(a.TypeEnum.Or,[a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Undefined)]),a.getCompoundType(a.TypeEnum.Or,[a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Undefined)])],returnType:a.getSingletonType(a.TypeEnum.Number),decorators:[]}]}),a=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findFixedRectangle=function(e,t){void 0===t&&(t=0);var n=e.rectangle,r=e.transform,i=r.deltaX,o=r.deltaY,a=r.scaleX,s=r.scaleY;return{left:Math.floor(n.left*a+i-t),right:Math.floor(n.right*a+i+t),top:Math.floor(n.top*s+o-t),bottom:Math.floor(n.bottom*s+o+t)}}},function(e,t,n){"use strict";e.exports=n(128)},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,i,o,a,s,c){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,o,a,s,c],p=0;(u=new Error(t.replace(/%s/g,function(){return l[p++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(144);function o(e){return e.scope===r.Public}function a(e){return e.scope===r.Private}function s(e,t){var n,r=((n=e.split("/")).pop(),n.join("/"));return i.resolve(r,t)}function c(e){var t=new String(e),n=t.indexOf(":");return[t.substr(0,n),t.substr(n+1)]}function u(e){return/^#/i.test(e)}!function(e){e.Public="public",e.Private="private"}(r=t.SymbolScope||(t.SymbolScope={})),t.isPublicSymbol=o,t.isPrivateSymbol=a,t.standardizeSymbolString=function(e,t){if(u(t))return e+":"+t;var n=c(t),r=n[0],i=n[1];if(!/^(\.){1,2}\//i.test(r))throw new Error('symbol require a file that is out of library "'+r+'"');var o=s(e,r);if(/^\.\.\//i.test(o))throw new Error('symbol require a file that is out of library "'+o+'"');return o+":"+i},t.covertRelativeModuleSignatureToAbsolution=s,t.convertStringToSymbol=function(e){var t=c(e),n=t[0],i=t[1];if(u(i)){var o=i.substr(1);return{scope:r.Private,moduleSignature:n,id:o}}return{scope:r.Public,moduleSignature:n,typeSignature:i}},t.convertSymbolToString=function(e){return o(e)?e.moduleSignature+":"+e.typeSignature:a(e)?e.moduleSignature+":"+e.id:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42),i=n(36),o=n(15);function a(e){return(e-e%i.Pow32)/i.Pow32}function s(e){return e%i.Pow32}function c(e,t){return u(e),function(e){if(e<0||e>i.UInt32Mask)throw new Error("generationId "+e+" is out of range 0 ~ "+i.UInt32Mask)}(t),e*i.Pow32+t}function u(e){if(e<0||e>i.UInt16Mask)throw new Error("observerId "+e+" is out of range 0 ~ "+i.UInt16Mask)}t.NullIdentifier=c(i.UInt16Mask,i.UInt32Mask),t.isIdentifierEquals=function(e,t){return e===t},t.isNullIdentifier=function(e){return e===t.NullIdentifier},t.observerIdWithIdentifier=a,t.generationIdWithIdentifier=s,t.generateIdentifier=c,t.stringWithIdentifier=function(e){var t=a(e),n=s(e);return t.toString(16)+"/"+n.toString(16)};var l=function(){function e(e){u(e),this.observerId=e,this._latestGenerationId=0}return Object.defineProperty(e.prototype,"latestGenerationId",{get:function(){return this._latestGenerationId},enumerable:!0,configurable:!0}),e.prototype.makeSureGenerationIdAfter=function(e){e>this._latestGenerationId&&(this._latestGenerationId=e)},e.checkIsNewObject=function(e){var t=o.getContext(),n=t.__identifierGenerator,r=t.__previousGenerationId,i=a(e);return n.observerId===i&&s(e)>r},e.prototype.generateIdentifier=function(){var e=c(this.observerId,this._latestGenerationId);return this._latestGenerationId=this._latestGenerationId+1,e},e.prototype.clone=function(){var t=new e(this.observerId);return t._latestGenerationId=this._latestGenerationId,t},e.prototype.bind=function(e){var t=e.__identifier;if("undefined"===typeof t){var n=this.generateIdentifier();r.bindIdentifier(e,n)}else if("number"!==typeof t)throw new Error("found illegal __identifier property");return e},e}();t.IdentifierGenerator=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pow32=Math.pow(2,32),t.Pow16=Math.pow(2,16),t.UInt32Mask=t.Pow32-1,t.UInt16Mask=t.Pow16-1,t.UInt8Mask=255},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__context("hittest/BasicTester","1.1.0"),i=r.getter;n(9),t.inCircle=function(e,t,n,r){var o=n-i(e,"x"),a=r-i(e,"y");return o*o+a*a<=t*t},r=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("hittest/ConvexPolygonTester","1.1.0"),a=o.creator,s=o.caller,c=o.getter,u=n(22);n(22);var l=n(9);n(9);var p=n(13);n(13),o.defineType("0",o.getObjectType({properties:{points:o.getObjectType({index:o.getReferenceType("./TypeDefinitions:Point")})}})),o.defineExport("0","ConvexPolygonTester");var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.points=a([]),t}return i(t,e),t.prototype.pushPoint=function(e){s(c(this,"points"),"push",[e])},t.prototype.pointHitTest=function(e,t){for(var n=0;n<c(c(this,"points"),"length");++n){var r=c(c(this,"points"),n),i=c(c(this,"points"),(n+1)%c(c(this,"points"),"length")),o=a({x:c(i,"x")-c(r,"x"),y:c(i,"y")-c(r,"y")});if(0!==c(o,"x")||0!==c(o,"y")){var l=s(u,"verticalVector",[o]),p=a({x:e-c(r,"x"),y:t-c(r,"y")});if(s(u,"dotProduct",[l,p])<0)return!1}}return!0},t.prototype.rectHitTest=function(e,t,n,r){var i=this,o=!1,a=!1;if(s(p.RectangleTester,"iterate",[e,t,n,r,function(e,t){s(i,"pointHitTest",[e,t])?o=!0:a=!0}]),o&&a)return c(l.RectangleTestingResult,"Cross");if(o)return c(l.RectangleTestingResult,"IncludeRectangle");if(a){for(var u=0;u<c(c(this,"points"),"length");++u)for(var f=c(c(this,"points"),u),d=c(c(this,"points"),(u+1)%c(c(this,"points"),"length")),h=s(p.RectangleTester,"allPoints",[e,t,n,r]),y=0;y<c(h,"length");++y){var m=c(h,y),g=c(h,(y+1)%c(h,"length"));if(s(this,"findCrossPoint",[f,d,m,g]))return c(l.RectangleTestingResult,"Cross")}for(var v=0,b=c(this,"points");v<b.length;v++){var T=b[v];if(s(p.RectangleTester,"test",[e,t,n,r,c(T,"x"),c(T,"y")]))return c(l.RectangleTestingResult,"IncludeByRectangle")}}return c(l.RectangleTestingResult,"Disjoint")},t.prototype.findCrossPoint=function(e,t,n,r){var i=c(t,"y")-c(e,"y"),o=c(e,"x")-c(t,"x"),u=c(e,"x")*(c(e,"y")-c(t,"y"))-c(e,"y")*(c(e,"x")-c(t,"x")),l=c(r,"y")-c(n,"y"),p=c(n,"x")-c(r,"x"),f=c(n,"x")*(c(n,"y")-c(r,"y"))-c(n,"y")*(c(n,"x")-c(r,"x")),d=i*p-l*o,h=(o*f-p*u)/d,y=(l*u-i*f)/d;if(s(Math,"abs",[h])===1/0||s(Math,"abs",[y])===1/0)return!1;if(s(Number,"isNaN",[h])||s(Number,"isNaN",[y]))return!1;var m=a({x:h,y:y});return!!(s(this,"isCrossPointBetweenSegment",[m,e,t])&&s(this,"isCrossPointBetweenSegment",[m,n,r]))},t.prototype.isCrossPointBetweenSegment=function(e,t,n){return(c(e,"x")-c(t,"x"))*(c(e,"x")-c(n,"x"))<=0&&(c(e,"y")-c(t,"y"))*(c(e,"y")-c(n,"y"))<=0},t}(o.baseClass());t.ConvexPolygonTester=f,o.defineClass("0",f,{name:"ConvexPolygonTester",properties:[{name:"points",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getObjectType({index:o.getReferenceType("./TypeDefinitions:Point")}),decorators:[]}],methods:[{name:"pushPoint",isPublic:!0,parameterTypes:[o.getReferenceType("./TypeDefinitions:Point")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"pointHitTest",isPublic:!0,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"rectHitTest",isPublic:!0,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getReferenceType("./TypeDefinitions:RectangleTestingResult"),decorators:[]},{name:"findCrossPoint",isPublic:!1,parameterTypes:[o.getReferenceType("./TypeDefinitions:Point"),o.getReferenceType("./TypeDefinitions:Point"),o.getReferenceType("./TypeDefinitions:Point"),o.getReferenceType("./TypeDefinitions:Point")],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"isCrossPointBetweenSegment",isPublic:!1,parameterTypes:[o.getReferenceType("./TypeDefinitions:Point"),o.getReferenceType("./TypeDefinitions:Point"),o.getReferenceType("./TypeDefinitions:Point")],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]}]}),o=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__context("framework/TypeDefinitions","1.1.0");n(0),n(16),n(4),n(28),r.defineType("0",r.getObjectType({properties:{src:r.getSingletonType(r.TypeEnum.String),width:r.getSingletonType(r.TypeEnum.Number),height:r.getSingletonType(r.TypeEnum.Number)}})),r.defineExport("0","PptPage"),r.defineType("1",r.getObjectType({key:r.getSingletonType(r.TypeEnum.String)})),r.defineExport("1","TargetsMap"),r.defineType("2",r.getObjectType({properties:{x:r.getSingletonType(r.TypeEnum.Number),y:r.getSingletonType(r.TypeEnum.Number),targetsMap:r.getReferenceType("#1"),hitTestIdentifies:r.getObjectType({index:r.getObjectType({index:r.getSingletonType(r.TypeEnum.Number)})})}})),r.defineExport("2","MouseEvent"),r.defineType("3",r.getObjectType({properties:{key:r.getSingletonType(r.TypeEnum.String),altKey:r.getSingletonType(r.TypeEnum.Boolean),ctrlKey:r.getSingletonType(r.TypeEnum.Boolean),shiftKey:r.getSingletonType(r.TypeEnum.Boolean)}})),r.defineExport("3","KeyEvent"),r.defineType("4",r.getObjectType({properties:{key:r.getSingletonType(r.TypeEnum.String),type:r.getSingletonType(r.TypeEnum.String),payload:r.getSingletonType(r.TypeEnum.Any),left:r.getSingletonType(r.TypeEnum.Number),right:r.getSingletonType(r.TypeEnum.Number),top:r.getSingletonType(r.TypeEnum.Number),bottom:r.getSingletonType(r.TypeEnum.Number)}})),r.defineExport("4","TagBox"),r.defineType("5",r.getObjectType({properties:{scene:r.getReferenceType("./Scene:Scene"),scenes:r.getObjectType({index:r.getReferenceType("./Scene:Scene")})}})),r.defineExport("5","ApplianceContext"),r.defineType("6",r.getObjectType({})),r.defineExport("6","OperateHandler"),r.defineType("7",r.getObjectType({})),r.defineExport("7","EventHandler"),r.defineType("8",r.getCompoundType(r.TypeEnum.And,[r.getReferenceType("#6"),r.getReferenceType("#7"),r.getObjectType({properties:{hidingCursor:r.getSingletonType(r.TypeEnum.Boolean)}})])),r.defineExport("8","Appliance"),r=null},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(58)),r(n(189)),r(n(195)),r(n(196)),r(n(198))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.nextId=0}return e.prototype.generate=function(){return""+this.nextId++},e.prototype.clone=function(){var t=new e;return t.nextId=this.nextId,t},e}();t.IdGenerator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindIdentifier=function(e,t){try{Object.defineProperty(e,"__identifier",{enumerable:!1,configurable:!1,writable:!1,value:t})}catch(e){throw new Error("bind identifier failed: "+e.message)}}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Invoker=0]="Invoker",e[e.Event=1]="Event",e[e.Ack=2]="Ack"}(r=t.ActionFrameType||(t.ActionFrameType={})),t.isInvokerFrame=function(e){return e.type===r.Invoker},t.isEventFrame=function(e){return e.type===r.Event},function(e){e[e.System=0]="System",e[e.App=1]="App",e[e.Custom=2]="Custom",e[e.Magix=3]="Magix"}(t.EventScope||(t.EventScope={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26);t.NeverSerializerObject=r.generateSelfloopSerializerObject(-1,[r.TypeEnum.Never]),function(e){e[e.Never=0]="Never",e[e.Undefined=1]="Undefined",e[e.Null=2]="Null",e[e.String=3]="String",e[e.Integer=4]="Integer",e[e.Float=5]="Float",e[e.Function=6]="Function",e[e.FlatObject=7]="FlatObject",e[e.AkkoObject=8]="AkkoObject",e[e.Array=9]="Array",e[e.True=10]="True",e[e.False=11]="False"}(t.AkkoPrimitiveType||(t.AkkoPrimitiveType={})),function(e){e[e.Array=0]="Array",e[e.FlatObject=1]="FlatObject",e[e.AkkoObject=2]="AkkoObject"}(t.ObjectType||(t.ObjectType={})),t.findIdentifierWith=function(e){var t=e.__identifier;if("number"!==typeof t)throw e instanceof Array?new Error("array don't have identifier"):new Error("object don't have identifier");return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.AdminObserverId=Math.pow(2,16)-1;var i=function(){function e(e){this._nextUserId=0,this.identifierMap={},this._nextUserId=e,this.putObserver(t.AdminObserverId,0)}return e.create=function(t){return void 0===t&&(t=0),new e(t)},Object.defineProperty(e.prototype,"nextUserId",{get:function(){return this._nextUserId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allObserverIds",{get:function(){var e=[];for(var t in this.identifierMap)e.push(parseInt(t));return e},enumerable:!0,configurable:!0}),e.prototype.hasObserver=function(e){return e in this.identifierMap},e.prototype.clone=function(){var t=new e(this._nextUserId);for(var n in this.identifierMap)t.identifierMap[n]=this.identifierMap[n].clone();return t},e.prototype.putObserver=function(e,n){void 0===n&&(n=0);var i=new r.IdentifierGenerator(e);return i.makeSureGenerationIdAfter(n),this.identifierMap[e]=i,e!==t.AdminObserverId&&e>this._nextUserId&&(this._nextUserId=e+1),i},e.prototype.removeObserver=function(e){delete this.identifierMap[e]},e.prototype.identifierGeneratorWithObserverId=function(e){var t=this.identifierMap[e];if(!t)throw new Error("observer not found "+e.toString(16));return t},e}();t.IdentifierContext=i},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(158)),r(n(159))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__context("appState/Color","1.1.0"),i=r.creator;r.defineType("0",r.getObjectType({index:r.getSingletonType(r.TypeEnum.Number)})),r.defineExport("0","Color"),t.getInitiativeColors=function(){return i([i([236,52,85]),i([0,91,246]),i([245,173,70]),i([104,171,93]),i([158,81,182])])},r=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__context("impls/types/EditablePayload","1.1.0");n(4),r.defineType("0",r.getSingletonType(r.TypeEnum.Any)),r.defineExport("0","BelongsTo"),function(e){e.None="none",e.Others="others",e.Me="me"}(t.BelongsTo||(t.BelongsTo={})),r.defineType("1",r.getObjectType({properties:{highlight:r.getSingletonType(r.TypeEnum.Boolean),selectedBy:r.getSingletonType(r.TypeEnum.Any),color:r.getReferenceType("../../appState:Color")}})),r.defineExport("1","EditablePayload"),r.defineType("2",r.getObjectType({properties:{belongs:r.getSingletonType(r.TypeEnum.Any),color:r.getReferenceType("../../appState:Color")}})),r.defineExport("2","SelectedGroupPayload"),r.defineType("3",r.getObjectType({properties:{belongs:r.getSingletonType(r.TypeEnum.Any),isDragging:r.getSingletonType(r.TypeEnum.Boolean),isUniformScale:r.getSingletonType(r.TypeEnum.Boolean),color:r.getReferenceType("../../appState:Color")}})),r.defineExport("3","EditorPayload"),r=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("impls/Selector","1.1.0"),a=o.getter,s=o.creator,c=o.setter,u=o.caller,l=o.remover,p=n(0);n(0);var f=n(21);n(21);var d=n(24);n(24);var h=n(6);n(6);var y=n(2);n(2),n(10);var m=n(1);n(1);var g=n(14);n(14),n(4);var v=n(8);n(8);var b,T=n(101);n(101),o.defineType("0",o.getSingletonType(o.TypeEnum.Any)),function(e){e[e.None=0]="None",e[e.Selected=1]="Selected",e[e.Highlight=2]="Highlight",e[e.OperationPoint=3]="OperationPoint"}(b||(b={})),o.defineType("2",o.getCompoundType(o.TypeEnum.And,[o.getObjectType({properties:{context:o.getReferenceType("../framework:ApplianceContext"),hidingCursor:o.getSingletonType(o.TypeEnum.Boolean),beginPressPoint:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("./TypeDefinitions:Point"),o.getSingletonType(o.TypeEnum.Null)]),draggingTarget:o.getSingletonType(o.TypeEnum.Any),draggedComponentOriginPoints:o.getObjectType({key:o.getReferenceType("./TypeDefinitions:Point")}),selectedGroup:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("#1"),o.getSingletonType(o.TypeEnum.Undefined)]),isShiftPress:o.getSingletonType(o.TypeEnum.Boolean),latestOperateX:o.getSingletonType(o.TypeEnum.Number),latestOperateY:o.getSingletonType(o.TypeEnum.Number)}}),o.getReferenceType("./tools:Gesture")])),o.defineExport("2","Selector");var S=function(e){function t(t){var n=e.call(this)||this;return n.hidingCursor=!1,n.beginPressPoint=null,n.draggingTarget=a(b,"None"),n.draggedComponentOriginPoints=s({}),n.isShiftPress=!1,n.latestOperateX=0,n.latestOperateY=0,c(n,"context",t),n}return i(t,e),t.prototype.onKeyUp=function(e){if("Shift"===a(e,"key"))c(this,"isShiftPress",!1),u(this,"refreshMyEditorRectangleSpaceDragToPoint",[]);else if("Backspace"===a(e,"key")){for(var t=0,n=u(this,"allSelectedComponents",[]);t<n.length;t++){var r=n[t];u(a(a(this,"context"),"scene"),"removeComponent",[r])}u(this,"refreshAllUsersEditorRectangleSpace",[])}},t.prototype.onKeyDown=function(e){"Shift"===a(e,"key")&&(c(this,"isShiftPress",!0),u(this,"refreshMyEditorRectangleSpaceDragToPoint",[]))},t.prototype.onMemberStateChanged=function(e,t){if("selector"!==a(e,"currentApplianceName")&&"selector"===a(t,"currentApplianceName")&&(u(this,"cleanAllSelectingInformation",[]),c(this,"isShiftPress",!1),u(this,"refreshMyEditorRectangleSpaceDragToPoint",[])),"selector"===a(e,"currentApplianceName")&&"text"===a(t,"currentApplianceName")){var n=u(p,"getContext",[]).authorId,r=u(a(a(this,"context"),"scene"),"findComponentFromTop",[function(e){return e instanceof g.TextareaShape}]);r&&a(r,"editedBy")===n&&c(this,"hidingCursor",!0)}},t.prototype.onSceneChanged=function(e){var t=a(a(a(this,"context"),"scenes"),e);u(d,"releaseAllTextarea",[t]),c(this,"isShiftPress",!1),u(this,"refreshMyEditorRectangleSpaceDragToPoint",[])},t.prototype.onDestroy=function(){u(this,"cleanAllSelectingInformation",[])},t.prototype.cleanAllSelectingInformation=function(){var e=u(p,"getContext",[]).authorId;a(this,"selectedGroup")&&(u(a(a(this,"context"),"scene"),"removeComponent",[a(this,"selectedGroup")]),c(this,"selectedGroup",void 0)),u(f,"setHighlightNothing",[a(a(this,"context"),"scene"),e]),u(this,"cleanSelectedComponents",[]),u(d,"releaseTextareaEditedBy",[a(a(this,"context"),"scene"),e])},t.prototype.makeSureItsDraggingEvent=function(e){var t=u(this,"findMyEditorRectangleSpace",[]);return!!t&&!!a(a(e,"targetsMap"),a(t,"key"))},t.prototype.onDraggingStateChanged=function(e){var t,n=e.x,r=e.y,i=e.targetsMap,o=e.hitTestIdentifies;if(a(this,"isDragging"))if((t=u(this,"findMyEditorRectangleSpace",[]))&&u(t,"tryToStartEdit",[n,r,i]))c(this,"draggingTarget",a(b,"OperationPoint"));else{if(t&&u(t,"isIncludePoint",[n,r]))u(this,"startDragWithSelectedMode",[]);else{u(d,"releaseTextareaEditedBy",[a(a(this,"context"),"scene"),a(u(p,"getContext",[]),"authorId")]),u(this,"updateHighlightComponent",[o]);var l=u(f,"findHighlightComponent",[a(a(this,"context"),"scene"),a(u(p,"getContext",[]),"authorId")]);l&&a(l,"selectedBy")!==a(u(p,"getContext",[]),"authorId")?u(this,"startDragWithHighlightMode",[l]):c(this,"draggingTarget",a(b,"None"))}c(this,"beginPressPoint",s({x:n,y:r}))}else(t=u(this,"findMyEditorRectangleSpace",[]))&&a(this,"draggingTarget")===a(b,"OperationPoint")&&u(t,"completeEdit",[]),a(this,"selectedGroup")&&(u(a(a(this,"context"),"scene"),"removeComponent",[a(this,"selectedGroup")]),c(this,"selectedGroup",void 0)),c(this,"draggingTarget",a(b,"None")),c(this,"beginPressPoint",null),c(this,"draggedComponentOriginPoints",s({})),u(this,"updateHighlightComponent",[o]),u(this,"refreshAllUsersEditorRectangleSpace",[])},t.prototype.startDragWithSelectedMode=function(){c(this,"draggingTarget",a(b,"Selected"));for(var e=0,t=u(this,"allSelectedComponents",[]);e<t.length;e++){var n=t[e];c(a(this,"draggedComponentOriginPoints"),a(n,"key"),s({x:a(n,"originX"),y:a(n,"originY")}))}},t.prototype.startDragWithHighlightMode=function(e){c(this,"draggingTarget",a(b,"Highlight")),c(a(this,"draggedComponentOriginPoints"),a(e,"key"),s({x:a(e,"originX"),y:a(e,"originY")}));var t=u(p,"getContext",[]).authorId;a(e,"selectedBy")!==t&&(u(this,"cleanSelectedComponents",[]),c(e,"selectedBy",t),u(this,"refreshAllUsersEditorRectangleSpace",[]))},t.prototype.onDrag=function(e){var t=e.x,n=e.y;e.hitTestIdentifies;switch(a(this,"draggingTarget")){case a(b,"Selected"):u(this,"dragComponents",[t,n].concat(u(this,"allSelectedComponents",[])));break;case a(b,"Highlight"):var r=u(f,"findHighlightComponent",[a(a(this,"context"),"scene"),a(u(p,"getContext",[]),"authorId")]);u(this,"dragComponents",[t,n,r]);break;case a(b,"OperationPoint"):c(this,"latestOperateX",t),c(this,"latestOperateY",n),u(this,"refreshMyEditorRectangleSpaceDragToPoint",[]);break;case a(b,"None"):a(this,"selectedGroup")||(c(this,"selectedGroup",new E(a(this,"context"),a(this,"beginPressPoint"))),u(a(a(this,"context"),"scene"),"addComponent",[a(this,"selectedGroup")])),u(a(this,"selectedGroup"),"updateEndPoint",[t,n]),u(this,"cleanSelectedComponents",[]);for(var i=a(this,"selectedGroup"),o=i.originX,s=i.originY,l=i.width,d=i.height,h=u(f,"searchEditableComponentsByRectangle",[a(a(this,"context"),"scene"),o,s,l,d]),y=u(p,"getContext",[]).authorId,m=0,g=h;m<g.length;m++){var v=g[m];c(v,"selectedBy",y)}u(this,"refreshAllUsersEditorRectangleSpace",[])}},t.prototype.refreshMyEditorRectangleSpaceDragToPoint=function(){var e=u(this,"findMyEditorRectangleSpace",[]);e&&(c(e,"isShiftPress",a(this,"isShiftPress")),a(this,"draggingTarget")===a(b,"OperationPoint")&&u(e,"dragToPoint",[a(this,"latestOperateX"),a(this,"latestOperateY")]))},t.prototype.dragComponents=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];for(var i=e-a(a(this,"beginPressPoint"),"x"),o=t-a(a(this,"beginPressPoint"),"y"),s=0;s<a(n,"length");++s){var l=a(n,s),p=a(a(this,"draggedComponentOriginPoints"),a(l,"key"));c(l,"originX",a(p,"x")+i),c(l,"originY",a(p,"y")+o)}u(this,"refreshAllUsersEditorRectangleSpace",[])},t.prototype.onHover=function(e){var t=e.hitTestIdentifies;u(this,"updateHighlightComponent",[t])},t.prototype.onClick=function(e){e.x,e.y;var t=e.hitTestIdentifies,n=u(a(a(this,"context"),"scene"),"editableWithHitIdentifies",[t]),r=u(p,"getContext",[]).authorId;if(n&&n instanceof g.TextareaShape&&a(n,"selectedBy")===r&&void 0===a(n,"editedBy")){var i=u(p,"getContext",[]).authorId;u(d,"releaseTextareaEditedBy",[a(a(this,"context"),"scene"),i]),c(n,"editedBy",i),u(this,"cleanSelectedComponents",[]),c(this,"hidingCursor",!0)}else u(d,"releaseTextareaEditedBy",[a(a(this,"context"),"scene"),a(u(p,"getContext",[]),"authorId")]),n?a(n,"selectedBy")!==r&&(u(this,"cleanSelectedComponents",[]),c(n,"selectedBy",r),u(this,"refreshAllUsersEditorRectangleSpace",[])):u(this,"cleanSelectedComponents",[]);u(this,"updateHighlightComponent",[t])},t.prototype.updateHighlightComponent=function(e){var t=u(a(a(this,"context"),"scene"),"editableWithHitIdentifies",[e]);u(f,"setHighlightNothing",[a(a(this,"context"),"scene"),a(u(p,"getContext",[]),"authorId")]),t&&u(t,"setHighlightBy",[!0,a(u(p,"getContext",[]),"authorId")])},t.prototype.cleanSelectedComponents=function(){var e=u(p,"getContext",[]).authorId;u(a(a(this,"context"),"scene"),"forEachComponents",[function(t){t instanceof y.Editable&&a(t,"selectedBy")===e&&c(t,"selectedBy",void 0)}]),u(this,"refreshAllUsersEditorRectangleSpace",[]),c(this,"hidingCursor",!1)},t.prototype.findMyEditorRectangleSpace=function(){var e=u(p,"getContext",[]).authorId;return u(a(a(this,"context"),"scene"),"findComponentFromTop",[function(t){return t instanceof T.EditorRectangleSpace&&a(t,"belongsToUserId")===e}])},t.prototype.refreshAllUsersEditorRectangleSpace=function(){var e=s({}),t=s([]);u(a(a(this,"context"),"scene"),"forEachComponents",[function(n){if(n instanceof T.EditorRectangleSpace)u(t,"push",[n]);else if(n instanceof y.Editable&&void 0!==a(n,"selectedBy")){var r=a(e,a(n,"selectedBy"));r||(r=s([]),c(e,a(n,"selectedBy"),r)),u(r,"push",[n])}}]);for(var n=0,r=t;n<r.length;n++){var i=r[n],o=a(i,"belongsToUserId");(f=a(e,o))&&a(f,"length")>0?u(i,"refreshWithIncludesComponents",[f]):u(a(a(this,"context"),"scene"),"removeComponent",[i]),l(e,o)}for(var p in e){o=parseInt(p);var f=a(e,o);i=new T.EditorRectangleSpace(a(this,"context"),o);u(i,"refreshWithIncludesComponents",[f]),u(a(a(this,"context"),"scene"),"addComponent",[i])}},t.prototype.allSelectedComponents=function(){var e=u(p,"getContext",[]).authorId;return u(a(a(this,"context"),"scene"),"componentsWithFilter",[function(t){return t instanceof y.Editable&&a(t,"selectedBy")===e}])},t}(o.wrapSuperClass(h.Gesture));t.Selector=S,o.defineClass("2",S,{superClass:"./tools:Gesture",name:"Selector",properties:[{name:"context",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getReferenceType("../framework:ApplianceContext"),decorators:[]},{name:"hidingCursor",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"beginPressPoint",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("./TypeDefinitions:Point"),o.getSingletonType(o.TypeEnum.Null)]),decorators:[]},{name:"draggingTarget",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Any),decorators:[]},{name:"draggedComponentOriginPoints",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getObjectType({key:o.getReferenceType("./TypeDefinitions:Point")}),decorators:[]},{name:"selectedGroup",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("#1"),o.getSingletonType(o.TypeEnum.Undefined)]),decorators:[]},{name:"isShiftPress",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"latestOperateX",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"latestOperateY",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]}],methods:[{name:"onKeyUp",isPublic:!0,parameterTypes:[o.getReferenceType("../framework:KeyEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onKeyDown",isPublic:!0,parameterTypes:[o.getReferenceType("../framework:KeyEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onMemberStateChanged",isPublic:!0,parameterTypes:[o.getReferenceType("../appState:MemberState"),o.getReferenceType("../appState:MemberState")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onSceneChanged",isPublic:!0,parameterTypes:[o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onDestroy",isPublic:!0,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"cleanAllSelectingInformation",isPublic:!1,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"makeSureItsDraggingEvent",isPublic:!1,parameterTypes:[o.getReferenceType("../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"onDraggingStateChanged",isPublic:!1,parameterTypes:[o.getReferenceType("../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"startDragWithSelectedMode",isPublic:!1,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"startDragWithHighlightMode",isPublic:!1,parameterTypes:[o.getReferenceType("./abstract/Editable:Editable")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onDrag",isPublic:!1,parameterTypes:[o.getReferenceType("../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"refreshMyEditorRectangleSpaceDragToPoint",isPublic:!1,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"dragComponents",isPublic:!1,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getObjectType({index:o.getReferenceType("./abstract/Editable:Editable")})],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onHover",isPublic:!1,parameterTypes:[o.getReferenceType("../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onClick",isPublic:!1,parameterTypes:[o.getReferenceType("../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"updateHighlightComponent",isPublic:!1,parameterTypes:[o.getObjectType({index:o.getObjectType({index:o.getSingletonType(o.TypeEnum.Number)})})],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"cleanSelectedComponents",isPublic:!1,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"findMyEditorRectangleSpace",isPublic:!1,parameterTypes:[],returnType:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("./EditorRectangleSpace:EditorRectangleSpace"),o.getSingletonType(o.TypeEnum.Undefined)]),decorators:[]},{name:"refreshAllUsersEditorRectangleSpace",isPublic:!1,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"allSelectedComponents",isPublic:!1,parameterTypes:[],returnType:o.getObjectType({index:o.getReferenceType("./abstract/Editable:Editable")}),decorators:[]}]}),o.defineType("1",o.getCompoundType(o.TypeEnum.And,[o.getObjectType({properties:{originX:o.getSingletonType(o.TypeEnum.Number),originY:o.getSingletonType(o.TypeEnum.Number),width:o.getSingletonType(o.TypeEnum.Number),height:o.getSingletonType(o.TypeEnum.Number),context:o.getReferenceType("../framework:ApplianceContext"),beginPoint:o.getReferenceType("./TypeDefinitions:Point"),belongsTo:o.getSingletonType(o.TypeEnum.Number)}}),o.getReferenceType("../framework:ApplianceComponent")]));var E=function(e){function t(t,n){var r=e.call(this)||this;return r.originX=0,r.originY=0,r.width=0,r.height=0,c(r,"context",t),c(r,"beginPoint",n),c(r,"originX",a(n,"x")),c(r,"originY",a(n,"y")),c(r,"width",0),c(r,"height",0),c(r,"belongsTo",a(u(p,"getContext",[]),"authorId")),r}return i(t,e),t.prototype.updateEndPoint=function(e,t){var n=this;u(this,"refreshWithPoints",[function(r){r(e,t),r(a(a(n,"beginPoint"),"x"),a(a(n,"beginPoint"),"y"))}])},t.prototype.refreshWithPoints=function(e){var t=a(Number,"MIN_SAFE_INTEGER"),n=a(Number,"MIN_SAFE_INTEGER"),r=a(Number,"MAX_SAFE_INTEGER"),i=a(Number,"MAX_SAFE_INTEGER");e(function(e,o){t=u(Math,"max",[t,e]),r=u(Math,"min",[r,e]),n=u(Math,"max",[n,o]),i=u(Math,"min",[i,o])}),c(this,"originX",r),c(this,"originY",i),c(this,"width",t-r),c(this,"height",n-i)},t.prototype.renderTagBoxes=function(){if(u(f,"willIgnoreSelectingBox",[a(this,"width"),a(this,"height")]))return null;var e=s({belongs:a(this,"belongsTo")===a(u(p,"getContext",[]),"observerId")?a(v.BelongsTo,"Me"):a(v.BelongsTo,"Others"),color:a(u(a(this,"context"),"getMemberState",[a(this,"belongsTo")]),"strokeColor")});return s({key:a(this,"key"),type:"selectedGroup",payload:e,left:a(this,"originX"),top:a(this,"originY"),right:a(this,"originX")+a(this,"width"),bottom:a(this,"originY")+a(this,"height")})},t}(o.wrapSuperClass(m.ApplianceComponent));o.defineClass("1",E,{superClass:"../framework:ApplianceComponent",name:"SelectedGroupRectangleSpace",properties:[{name:"originX",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"originY",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"width",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"height",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"context",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getReferenceType("../framework:ApplianceContext"),decorators:[]},{name:"beginPoint",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getReferenceType("./TypeDefinitions:Point"),decorators:[]},{name:"belongsTo",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]}],methods:[{name:"updateEndPoint",isPublic:!0,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"refreshWithPoints",isPublic:!0,parameterTypes:[o.getFunctionType()],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"renderTagBoxes",isPublic:!0,parameterTypes:[],returnType:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("../framework:TagBox"),o.getSingletonType(o.TypeEnum.Null)]),decorators:[]}]}),o=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("impls/Rectangle","1.1.0"),a=o.setter,s=o.getter,c=o.caller,u=o.creator,l=n(0);n(0);var p=n(6);n(6);var f=n(2);n(2),n(10),n(1);var d=n(5);n(5),n(4),o.defineType("1",o.getCompoundType(o.TypeEnum.And,[o.getObjectType({properties:{context:o.getReferenceType("../framework:ApplianceContext"),paintingRectangleShape:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("#0"),o.getSingletonType(o.TypeEnum.Null)]),beginPoint:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("./TypeDefinitions:Point"),o.getSingletonType(o.TypeEnum.Null)]),isShiftPress:o.getSingletonType(o.TypeEnum.Boolean),latestDragX:o.getSingletonType(o.TypeEnum.Number),latestDragY:o.getSingletonType(o.TypeEnum.Number),hidingCursor:o.getSingletonType(o.TypeEnum.Boolean)}}),o.getReferenceType("./tools:Gesture")])),o.defineExport("1","RectangleAppliance");var h=function(e){function t(t){var n=e.call(this)||this;return n.paintingRectangleShape=null,n.beginPoint=null,n.isShiftPress=!1,n.latestDragX=0,n.latestDragY=0,a(n,"context",t),n}return i(t,e),Object.defineProperty(t.prototype,"hidingCursor",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.onKeyUp=function(e){"Shift"===s(e,"key")&&(a(this,"isShiftPress",!1),c(this,"refreshPaintingRectangleShape",[]))},t.prototype.onKeyDown=function(e){"Shift"===s(e,"key")&&(a(this,"isShiftPress",!0),c(this,"refreshPaintingRectangleShape",[]))},t.prototype.onSceneChanged=function(e){a(this,"isShiftPress",!1)},t.prototype.onDraggingStateChanged=function(e){var t=e.x,n=e.y;s(this,"isDragging")?(a(this,"paintingRectangleShape",new y(s(this,"context"))),a(s(this,"paintingRectangleShape"),"originX",t),a(s(this,"paintingRectangleShape"),"originY",n),c(s(s(this,"context"),"scene"),"addComponent",[s(this,"paintingRectangleShape")]),a(this,"beginPoint",u({x:t,y:n}))):(c(s(this,"paintingRectangleShape"),"completePainting",[]),a(this,"paintingRectangleShape",null),a(this,"beginPoint",null))},t.prototype.onDrag=function(e){var t=e.x,n=e.y;a(this,"latestDragX",t),a(this,"latestDragY",n),c(this,"refreshPaintingRectangleShape",[])},t.prototype.refreshPaintingRectangleShape=function(){var e=s(this,"paintingRectangleShape");if(a(e,"originX",c(Math,"min",[s(this,"latestDragX"),s(s(this,"beginPoint"),"x")])),a(e,"originY",c(Math,"min",[s(this,"latestDragY"),s(s(this,"beginPoint"),"y")])),s(this,"isShiftPress")){var t=c(Math,"abs",[s(this,"latestDragX")-s(s(this,"beginPoint"),"x")]),n=c(Math,"abs",[s(this,"latestDragY")-s(s(this,"beginPoint"),"y")]),r=c(Math,"max",[t,n]);a(e,"width",r),a(e,"height",r)}else a(e,"width",c(Math,"abs",[s(this,"latestDragX")-s(s(this,"beginPoint"),"x")])),a(e,"height",c(Math,"abs",[s(this,"latestDragY")-s(s(this,"beginPoint"),"y")]))},t.prototype.onDestroy=function(){s(this,"paintingRectangleShape")&&c(s(this,"paintingRectangleShape"),"completePainting",[])},t}(o.wrapSuperClass(p.Gesture));t.RectangleAppliance=h,o.defineClass("1",h,{superClass:"./tools:Gesture",name:"RectangleAppliance",properties:[{name:"context",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getReferenceType("../framework:ApplianceContext"),decorators:[]},{name:"paintingRectangleShape",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("#0"),o.getSingletonType(o.TypeEnum.Null)]),decorators:[]},{name:"beginPoint",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("./TypeDefinitions:Point"),o.getSingletonType(o.TypeEnum.Null)]),decorators:[]},{name:"isShiftPress",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"latestDragX",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"latestDragY",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"hidingCursor",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]}],methods:[{name:"onKeyUp",isPublic:!0,parameterTypes:[o.getReferenceType("../framework:KeyEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onKeyDown",isPublic:!0,parameterTypes:[o.getReferenceType("../framework:KeyEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onSceneChanged",isPublic:!0,parameterTypes:[o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onDraggingStateChanged",isPublic:!1,parameterTypes:[o.getReferenceType("../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onDrag",isPublic:!1,parameterTypes:[o.getReferenceType("../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"refreshPaintingRectangleShape",isPublic:!1,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onDestroy",isPublic:!0,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]}]}),o.defineType("0",o.getCompoundType(o.TypeEnum.And,[o.getObjectType({properties:{originX:o.getSingletonType(o.TypeEnum.Number),originY:o.getSingletonType(o.TypeEnum.Number),width:o.getSingletonType(o.TypeEnum.Number),height:o.getSingletonType(o.TypeEnum.Number),state:o.getReferenceType("../appState:MemberState"),isPainting:o.getSingletonType(o.TypeEnum.Boolean),selectable:o.getSingletonType(o.TypeEnum.Boolean),hitTestingBoxMargin:o.getSingletonType(o.TypeEnum.Number)}}),o.getReferenceType("./abstract/Editable:Editable")]));var y=function(e){function t(t){var n=e.call(this,t)||this;return n.originX=0,n.originY=0,n.width=0,n.height=0,n.isPainting=!0,a(n,"state",c(t,"getMemberState",[])),n}return i(t,e),Object.defineProperty(t.prototype,"selectable",{get:function(){return!s(this,"isPainting")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitTestingBoxMargin",{get:function(){return s(s(this,"state"),"strokeWidth")/2},enumerable:!0,configurable:!0}),t.prototype.completePainting=function(){a(this,"isPainting",!1)},t.prototype.pointHitTestContent=function(e,t,n){var r=c(this,"innerRectangleTester",[n]);return!r||!c(r,"pointHitTest",[e,t])},t.prototype.rectHitTestContent=function(e,t,n,r,i,o){if(e===s(d.RectangleTestingResult,"IncludeRectangle")){var a=c(this,"innerRectangleTester",[o]);if(a)switch(c(a,"rectHitTest",[t,n,r,i])){case s(d.RectangleTestingResult,"Disjoint"):return s(d.RectangleTestingResult,"IncludeRectangle");case s(d.RectangleTestingResult,"IncludeByRectangle"):case s(d.RectangleTestingResult,"Cross"):return s(d.RectangleTestingResult,"Cross");case s(d.RectangleTestingResult,"IncludeRectangle"):return s(d.RectangleTestingResult,"Disjoint")}}return e},t.prototype.innerRectangleTester=function(e){var t=new d.ConvexPolygonTester,n=e,r=e,i=s(this,"width")-2*e,o=s(this,"height")-2*e;if(!(i<=0||o<=0))return c(t,"pushPoint",[u({x:n,y:r})]),c(t,"pushPoint",[u({x:n+i,y:r})]),c(t,"pushPoint",[u({x:n+i,y:r+o})]),c(t,"pushPoint",[u({x:n,y:r+o})]),t},t.prototype.renderSvgContent=function(){var e=s(s(this,"state"),"strokeColor"),t=e[0],n=e[1],r=e[2];return l.createElement("rect",{key:s(this,"key"),x:0,y:0,width:s(this,"width"),height:s(this,"height"),style:u({stroke:"rgb("+t+","+n+","+r+")",strokeWidth:s(s(this,"state"),"strokeWidth"),fill:"none",strokeLinejoin:"round",strokeLinecap:"round"})})},t}(o.wrapSuperClass(f.Editable));o.defineClass("0",y,{superClass:"./abstract/Editable:Editable",name:"RectangleShape",properties:[{name:"originX",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"originY",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"width",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"height",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"state",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getReferenceType("../appState:MemberState"),decorators:[]},{name:"isPainting",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"selectable",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"hitTestingBoxMargin",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]}],methods:[{name:"completePainting",isPublic:!0,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"pointHitTestContent",isPublic:!1,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"rectHitTestContent",isPublic:!1,parameterTypes:[o.getReferenceType("../hittest:RectangleTestingResult"),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getReferenceType("../hittest:RectangleTestingResult"),decorators:[]},{name:"innerRectangleTester",isPublic:!1,parameterTypes:[o.getSingletonType(o.TypeEnum.Number)],returnType:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("../hittest:ConvexPolygonTester"),o.getSingletonType(o.TypeEnum.Undefined)]),decorators:[]},{name:"renderSvgContent",isPublic:!1,parameterTypes:[],returnType:o.getCompoundType(o.TypeEnum.Or,[o.getSingletonType(o.TypeEnum.Any),o.getSingletonType(o.TypeEnum.Null)]),decorators:[]}]}),o=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("impls/Text","1.1.0"),a=o.setter,s=o.getter,c=o.caller,u=o.creator,l=n(0);n(0);var p=n(24);n(24);var f=n(6);n(6),n(1);var d=n(14);n(14),n(4),o.defineType("0",o.getCompoundType(o.TypeEnum.And,[o.getObjectType({properties:{context:o.getReferenceType("../framework:ApplianceContext"),hidingCursor:o.getSingletonType(o.TypeEnum.Boolean)}}),o.getReferenceType("./tools:Gesture")])),o.defineExport("0","TextAppliance");var h=function(e){function t(t){var n=e.call(this)||this;return a(n,"context",t),n}return i(t,e),Object.defineProperty(t.prototype,"hidingCursor",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.onMemberStateChanged=function(e,t){if(s(e,"strokeColor")!==s(t,"strokeColor")||s(e,"textSize")!==s(t,"textSize")){var n=c(p,"textareaEditedBy",[s(s(this,"context"),"scene"),s(c(l,"getContext",[]),"authorId")]);n&&a(n,"textSize",s(e,"textSize"))}},t.prototype.onClick=function(e){var t=e.x,n=e.y;c(p,"releaseTextareaEditedBy",[s(s(this,"context"),"scene"),s(c(l,"getContext",[]),"authorId")]);var r=new d.TextareaShape(s(this,"context"),t,n);a(r,"editedBy",s(c(l,"getContext",[]),"authorId")),a(r,"textSize",s(c(s(this,"context"),"getMemberState",[]),"textSize")),c(s(s(this,"context"),"scene"),"addComponent",[r]),c(s(this,"context"),"setMemberState",[u({currentApplianceName:"selector"})])},t}(o.wrapSuperClass(f.Gesture));t.TextAppliance=h,o.defineClass("0",h,{superClass:"./tools:Gesture",name:"TextAppliance",properties:[{name:"context",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getReferenceType("../framework:ApplianceContext"),decorators:[]},{name:"hidingCursor",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]}],methods:[{name:"onMemberStateChanged",isPublic:!0,parameterTypes:[o.getReferenceType("../appState:MemberState"),o.getReferenceType("../appState:MemberState")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onClick",isPublic:!0,parameterTypes:[o.getReferenceType("../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]}]}),o=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("impls/Ellipse","1.1.0"),a=o.setter,s=o.getter,c=o.caller,u=o.creator,l=n(0);n(0),n(1);var p=n(6);n(6);var f=n(2);n(2);var d=n(102);n(102);var h=n(5);n(5),n(4),n(10),o.defineType("1",o.getCompoundType(o.TypeEnum.And,[o.getObjectType({properties:{context:o.getReferenceType("../framework:ApplianceContext"),paintingEllipseShape:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("#0"),o.getSingletonType(o.TypeEnum.Null)]),beginPoint:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("./TypeDefinitions:Point"),o.getSingletonType(o.TypeEnum.Null)]),isShiftPress:o.getSingletonType(o.TypeEnum.Boolean),latestDragX:o.getSingletonType(o.TypeEnum.Number),latestDragY:o.getSingletonType(o.TypeEnum.Number),hidingCursor:o.getSingletonType(o.TypeEnum.Boolean)}}),o.getReferenceType("./tools:Gesture")])),o.defineExport("1","EllipseAppliance");var y=function(e){function t(t){var n=e.call(this)||this;return n.paintingEllipseShape=null,n.beginPoint=null,n.isShiftPress=!1,n.latestDragX=0,n.latestDragY=0,a(n,"context",t),n}return i(t,e),Object.defineProperty(t.prototype,"hidingCursor",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.onKeyUp=function(e){"Shift"===s(e,"key")&&(a(this,"isShiftPress",!1),c(this,"refreshPaintingEllipseShape",[]))},t.prototype.onKeyDown=function(e){"Shift"===s(e,"key")&&(a(this,"isShiftPress",!0),c(this,"refreshPaintingEllipseShape",[]))},t.prototype.onSceneChanged=function(e){a(this,"isShiftPress",!1)},t.prototype.onDraggingStateChanged=function(e){var t=e.x,n=e.y;s(this,"isDragging")?(a(this,"paintingEllipseShape",new m(s(this,"context"))),a(s(this,"paintingEllipseShape"),"originX",t),a(s(this,"paintingEllipseShape"),"originY",n),c(s(s(this,"context"),"scene"),"addComponent",[s(this,"paintingEllipseShape")]),a(this,"beginPoint",u({x:t,y:n}))):(c(s(this,"paintingEllipseShape"),"completePainting",[]),a(this,"paintingEllipseShape",null),a(this,"beginPoint",null))},t.prototype.onDrag=function(e){var t=e.x,n=e.y;a(this,"latestDragX",t),a(this,"latestDragY",n),c(this,"refreshPaintingEllipseShape",[])},t.prototype.refreshPaintingEllipseShape=function(){var e=s(this,"paintingEllipseShape");if(a(e,"originX",c(Math,"min",[s(this,"latestDragX"),s(s(this,"beginPoint"),"x")])),a(e,"originY",c(Math,"min",[s(this,"latestDragY"),s(s(this,"beginPoint"),"y")])),s(this,"isShiftPress")){var t=c(Math,"abs",[s(this,"latestDragX")-s(s(this,"beginPoint"),"x")]),n=c(Math,"abs",[s(this,"latestDragY")-s(s(this,"beginPoint"),"y")]),r=c(Math,"max",[t,n]);a(e,"width",r),a(e,"height",r)}else a(e,"width",c(Math,"abs",[s(this,"latestDragX")-s(s(this,"beginPoint"),"x")])),a(e,"height",c(Math,"abs",[s(this,"latestDragY")-s(s(this,"beginPoint"),"y")]))},t.prototype.onDestroy=function(){s(this,"paintingEllipseShape")&&c(s(this,"paintingEllipseShape"),"completePainting",[])},t}(o.wrapSuperClass(p.Gesture));t.EllipseAppliance=y,o.defineClass("1",y,{superClass:"./tools:Gesture",name:"EllipseAppliance",properties:[{name:"context",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getReferenceType("../framework:ApplianceContext"),decorators:[]},{name:"paintingEllipseShape",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("#0"),o.getSingletonType(o.TypeEnum.Null)]),decorators:[]},{name:"beginPoint",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("./TypeDefinitions:Point"),o.getSingletonType(o.TypeEnum.Null)]),decorators:[]},{name:"isShiftPress",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"latestDragX",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"latestDragY",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"hidingCursor",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]}],methods:[{name:"onKeyUp",isPublic:!0,parameterTypes:[o.getReferenceType("../framework:KeyEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onKeyDown",isPublic:!0,parameterTypes:[o.getReferenceType("../framework:KeyEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onSceneChanged",isPublic:!0,parameterTypes:[o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onDraggingStateChanged",isPublic:!1,parameterTypes:[o.getReferenceType("../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onDrag",isPublic:!1,parameterTypes:[o.getReferenceType("../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"refreshPaintingEllipseShape",isPublic:!1,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onDestroy",isPublic:!0,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]}]}),o.defineType("0",o.getCompoundType(o.TypeEnum.And,[o.getObjectType({properties:{originX:o.getSingletonType(o.TypeEnum.Number),originY:o.getSingletonType(o.TypeEnum.Number),width:o.getSingletonType(o.TypeEnum.Number),height:o.getSingletonType(o.TypeEnum.Number),state:o.getReferenceType("../appState:MemberState"),isPainting:o.getSingletonType(o.TypeEnum.Boolean),selectable:o.getSingletonType(o.TypeEnum.Boolean),hitTestingBoxMargin:o.getSingletonType(o.TypeEnum.Number)}}),o.getReferenceType("./abstract/Editable:Editable")]));var m=function(e){function t(t){var n=e.call(this,t)||this;return n.originX=0,n.originY=0,n.width=0,n.height=0,n.isPainting=!0,a(n,"state",c(t,"getMemberState",[])),n}return i(t,e),Object.defineProperty(t.prototype,"selectable",{get:function(){return!s(this,"isPainting")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitTestingBoxMargin",{get:function(){return s(s(this,"state"),"strokeWidth")/2},enumerable:!0,configurable:!0}),t.prototype.completePainting=function(){a(this,"isPainting",!1)},t.prototype.pointHitTestContent=function(e,t,n){var r=c(this,"outerEllipseTester",[n]);if(!c(r,"pointHitTest",[e,t]))return!1;var i=c(this,"innerEllipseTester",[n]);return!i||!c(i,"pointHitTest",[e,t])},t.prototype.rectHitTestContent=function(e,t,n,r,i,o){var a=c(this,"outerEllipseTester",[o]),u=c(a,"rectHitTest",[t,n,r,i]);if(u===s(h.RectangleTestingResult,"IncludeRectangle")){var l=c(this,"innerEllipseTester",[o]);if(l)switch(c(l,"rectHitTest",[t,n,r,i])){case s(h.RectangleTestingResult,"Disjoint"):return s(h.RectangleTestingResult,"IncludeRectangle");case s(h.RectangleTestingResult,"IncludeByRectangle"):case s(h.RectangleTestingResult,"Cross"):return s(h.RectangleTestingResult,"Cross");case s(h.RectangleTestingResult,"IncludeRectangle"):return s(h.RectangleTestingResult,"Disjoint")}}return u},t.prototype.outerEllipseTester=function(e){var t=s(this,"width")+2*e,n=s(this,"height")+2*e,r=s(this,"width")/2,i=s(this,"height")/2;return new d.EllipseTester(r,i,t,n)},t.prototype.innerEllipseTester=function(e){var t=s(this,"width")-2*e,n=s(this,"height")-2*e;if(!(t<=0||n<=0)){var r=s(this,"width")/2,i=s(this,"height")/2;return new d.EllipseTester(r,i,t,n)}},t.prototype.renderSvgContent=function(){var e=s(s(this,"state"),"strokeColor"),t=e[0],n=e[1],r=e[2];return l.createElement("ellipse",{key:s(this,"key"),style:u({stroke:"rgb("+t+","+n+","+r+")",fill:"none",strokeWidth:s(s(this,"state"),"strokeWidth")}),cx:""+s(this,"width")/2,cy:""+s(this,"height")/2,rx:""+s(this,"width")/2,ry:""+s(this,"height")/2})},t}(o.wrapSuperClass(f.Editable));o.defineClass("0",m,{superClass:"./abstract/Editable:Editable",name:"EllipseShape",properties:[{name:"originX",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"originY",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"width",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"height",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"state",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getReferenceType("../appState:MemberState"),decorators:[]},{name:"isPainting",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"selectable",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"hitTestingBoxMargin",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]}],methods:[{name:"completePainting",isPublic:!0,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"pointHitTestContent",isPublic:!1,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"rectHitTestContent",isPublic:!1,parameterTypes:[o.getReferenceType("../hittest:RectangleTestingResult"),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getReferenceType("../hittest:RectangleTestingResult"),decorators:[]},{name:"outerEllipseTester",isPublic:!1,parameterTypes:[o.getSingletonType(o.TypeEnum.Number)],returnType:o.getReferenceType("../hittest/EllipseTester:EllipseTester"),decorators:[]},{name:"innerEllipseTester",isPublic:!1,parameterTypes:[o.getSingletonType(o.TypeEnum.Number)],returnType:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("../hittest/EllipseTester:EllipseTester"),o.getSingletonType(o.TypeEnum.Undefined)]),decorators:[]},{name:"renderSvgContent",isPublic:!1,parameterTypes:[],returnType:o.getCompoundType(o.TypeEnum.Or,[o.getSingletonType(o.TypeEnum.Any),o.getSingletonType(o.TypeEnum.Any)]),decorators:[]}]}),o=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("impls/Pencil","1.1.0"),a=o.getter,s=o.setter,c=o.caller,u=o.creator,l=o.postfix,p=n(0);n(0);var f=n(6);n(6),n(10);var d=n(2);n(2);var h=n(5);n(5),n(1);var y=n(103);n(103),n(4);a(Math,"PI"),a(Math,"PI");function m(e,t){return 0===e&&0===t?1:e/t}o.defineType("1",o.getCompoundType(o.TypeEnum.And,[o.getObjectType({properties:{context:o.getReferenceType("../framework:ApplianceContext"),paintingCurveShape:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("#0"),o.getSingletonType(o.TypeEnum.Null)]),hidingCursor:o.getSingletonType(o.TypeEnum.Boolean)}}),o.getReferenceType("./tools:Gesture")])),o.defineExport("1","PencilAppliance");var g=function(e){function t(t){var n=e.call(this)||this;return n.paintingCurveShape=null,s(n,"context",t),n}return i(t,e),Object.defineProperty(t.prototype,"hidingCursor",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.onDraggingStateChanged=function(){a(this,"isDragging")?(s(this,"paintingCurveShape",new v(a(this,"context"))),c(a(a(this,"context"),"scene"),"addComponent",[a(this,"paintingCurveShape")])):a(this,"paintingCurveShape")&&(c(a(this,"paintingCurveShape"),"completePainting",[]),s(this,"paintingCurveShape",null))},t.prototype.onDrag=function(e){var t=e.x,n=e.y;c(a(this,"paintingCurveShape"),"pushPoint",[u({x:t,y:n})])},t.prototype.onDestroy=function(){a(this,"paintingCurveShape")&&c(a(this,"paintingCurveShape"),"completePainting",[])},t}(o.wrapSuperClass(f.Gesture));t.PencilAppliance=g,o.defineClass("1",g,{superClass:"./tools:Gesture",name:"PencilAppliance",properties:[{name:"context",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getReferenceType("../framework:ApplianceContext"),decorators:[]},{name:"paintingCurveShape",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("#0"),o.getSingletonType(o.TypeEnum.Null)]),decorators:[]},{name:"hidingCursor",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]}],methods:[{name:"onDraggingStateChanged",isPublic:!1,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onDrag",isPublic:!1,parameterTypes:[o.getReferenceType("../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onDestroy",isPublic:!0,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]}]}),o.defineType("0",o.getCompoundType(o.TypeEnum.And,[o.getObjectType({properties:{originX:o.getSingletonType(o.TypeEnum.Number),originY:o.getSingletonType(o.TypeEnum.Number),initializedWidth:o.getSingletonType(o.TypeEnum.Number),initializedHeight:o.getSingletonType(o.TypeEnum.Number),_width:o.getSingletonType(o.TypeEnum.Number),_height:o.getSingletonType(o.TypeEnum.Number),state:o.getReferenceType("../appState:MemberState"),points:o.getObjectType({index:o.getReferenceType("./TypeDefinitions:Point")}),isPainting:o.getSingletonType(o.TypeEnum.Boolean),pushedPointsCount:o.getSingletonType(o.TypeEnum.Number),lastVacuateIndex:o.getSingletonType(o.TypeEnum.Number),pathDefinitionCache:o.getCompoundType(o.TypeEnum.Or,[o.getSingletonType(o.TypeEnum.String),o.getSingletonType(o.TypeEnum.Undefined)]),width:o.getSingletonType(o.TypeEnum.Number),height:o.getSingletonType(o.TypeEnum.Number),selectable:o.getSingletonType(o.TypeEnum.Boolean),hitTestingBoxMargin:o.getSingletonType(o.TypeEnum.Number)}}),o.getReferenceType("./abstract/Editable:Editable")]));var v=function(e){function t(t){var n=e.call(this,t)||this;return n.originX=0,n.originY=0,n.initializedWidth=0,n.initializedHeight=0,n._width=0,n._height=0,n.points=u([]),n.isPainting=!0,n.pushedPointsCount=0,n.lastVacuateIndex=0,s(n,"state",c(t,"getMemberState",[])),n}return i(t,e),Object.defineProperty(t.prototype,"width",{get:function(){return a(this,"_width")},set:function(e){a(this,"_width")!==e&&(s(this,"_width",e),s(this,"pathDefinitionCache",void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return a(this,"_height")},set:function(e){a(this,"_height")!==e&&(s(this,"_height",e),s(this,"pathDefinitionCache",void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectable",{get:function(){return!a(this,"isPainting")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitTestingBoxMargin",{get:function(){return a(a(this,"state"),"strokeWidth")/2},enumerable:!0,configurable:!0}),t.prototype.pushPoint=function(e){c(a(this,"points"),"push",[e]),l(this,"pushedPointsCount",1),s(this,"pathDefinitionCache",void 0),a(this,"pushedPointsCount")%60===0&&c(this,"vacuatePoints",[50])},t.prototype.completePainting=function(){c(this,"vacuatePoints",[0]);for(var e=a(Number,"POSITIVE_INFINITY"),t=a(Number,"POSITIVE_INFINITY"),n=a(Number,"NEGATIVE_INFINITY"),r=a(Number,"NEGATIVE_INFINITY"),i=0,o=a(this,"points");i<o.length;i++){var u=o[i],l=u.x,p=u.y;e=c(Math,"min",[l,e]),t=c(Math,"min",[p,t]),n=c(Math,"max",[l,n]),r=c(Math,"max",[p,r])}s(this,"originX",e),s(this,"originY",t),s(this,"_width",n-e),s(this,"_height",r-t),s(this,"initializedWidth",a(this,"_width")),s(this,"initializedHeight",a(this,"_height"));for(var f=0,d=a(this,"points");f<d.length;f++){var h=d[f];s(h,"x",a(h,"x")-e),s(h,"y",a(h,"y")-t)}s(this,"isPainting",!1),s(this,"pathDefinitionCache",void 0)},t.prototype.pointHitTestContent=function(e,t,n){for(var r=new h.PolylineTester,i=0,o=c(this,"displayPoints",[]);i<o.length;i++){var s=o[i];c(r,"pushPoint",[s])}return c(r,"hitTest",[a(a(this,"state"),"strokeWidth")+n,e,t])},t.prototype.renderSvgContent=function(){var e=a(a(this,"state"),"strokeColor"),t=e[0],n=e[1],r=e[2];return p.createElement("path",{key:a(this,"key"),d:c(this,"getPathDefinition",[]),style:u({stroke:"rgb("+t+","+n+","+r+")",strokeWidth:a(a(this,"state"),"strokeWidth"),fill:"none",strokeLinejoin:"round",strokeLinecap:"round"})})},t.prototype.getPathDefinition=function(){return a(this,"pathDefinitionCache")||s(this,"pathDefinitionCache",c(this,"createPathDefinition",[])),a(this,"pathDefinitionCache")},t.prototype.createPathDefinition=function(){var e=u([]),t=c(this,"displayPoints",[]),n=a(t,0),r=n.x,i=n.y;if(a(t,"length")>2){c(e,"push",["M "+r+" "+i]);for(var o=0;o<a(t,"length")-2;++o){if(a(t,"length")>3&&o<a(t,"length")-3&&c(this,"needKeepLineAngle",[a(t,o),a(t,o+1),a(t,o+2)])){var s=a(t,o),l=s.x,p=s.y,f=a(t,o+1),d=f.x,h=f.y,y=a(t,o+2),m=y.x,g=y.y;c(e,"push",["L "+l+" "+p]),c(e,"push",["L "+d+" "+h]),c(e,"push",["L "+m+" "+g]),o+=2}else{var v=a(t,o),b=(l=v.x,p=v.y,a(t,o+1));d=b.x,h=b.y;c(e,"push",["Q "+l+" "+p+", "+(l+d)/2+" "+(p+h)/2])}}var T=a(t,"length")-2;c(e,"push",["Q "+a(a(t,T),"x")+" "+a(a(t,T),"y")+", "+a(a(t,T+1),"x")+" "+a(a(t,T+1),"y")])}else for(o=0;o<a(t,"length");++o){var S=a(t,o);l=S.x,p=S.y;c(e,"push",0===o?["M"+l+" "+p]:["L"+l+" "+p])}return c(e,"join",[" "])},t.prototype.displayPoints=function(){if(a(this,"isPainting"))return a(this,"points");var e=m(a(this,"_width"),a(this,"initializedWidth")),t=m(a(this,"_height"),a(this,"initializedHeight"));return 1===e&&1===t?a(this,"points"):c(a(this,"points"),"map",[function(n){return u({x:a(n,"x")*e,y:a(n,"y")*t})}])},t.prototype.needKeepLineAngle=function(e,t,n){return!1},t.prototype.vacuatePoints=function(e){var t=c(Math,"max",[1.5,1]),n=c(Math,"max",[0,a(this,"lastVacuateIndex")-30]),r=c(Math,"max",[0,a(a(this,"points"),"length")-e-1]);if(r>=n+2){var i=y.pointsWithDouglasPeucker(u({threshold:t,beginIndex:n,endIndex:r,points:a(this,"points")})),o=r-n+1;a(i,"length")!==o&&c(a(this,"points"),"splice",[n,o].concat(i))}s(this,"lastVacuateIndex",c(Math,"max",[a(this,"lastVacuateIndex"),r]))},t}(o.wrapSuperClass(d.Editable));o.defineClass("0",v,{superClass:"./abstract/Editable:Editable",name:"CurveShape",properties:[{name:"originX",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"originY",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"initializedWidth",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"initializedHeight",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"_width",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"_height",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"state",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getReferenceType("../appState:MemberState"),decorators:[]},{name:"points",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getObjectType({index:o.getReferenceType("./TypeDefinitions:Point")}),decorators:[]},{name:"isPainting",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"pushedPointsCount",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"lastVacuateIndex",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"pathDefinitionCache",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getCompoundType(o.TypeEnum.Or,[o.getSingletonType(o.TypeEnum.String),o.getSingletonType(o.TypeEnum.Undefined)]),decorators:[p.transient]},{name:"width",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"height",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"selectable",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"hitTestingBoxMargin",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]}],methods:[{name:"pushPoint",isPublic:!0,parameterTypes:[o.getReferenceType("./TypeDefinitions:Point")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"completePainting",isPublic:!0,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"pointHitTestContent",isPublic:!1,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"renderSvgContent",isPublic:!1,parameterTypes:[],returnType:o.getCompoundType(o.TypeEnum.Or,[o.getSingletonType(o.TypeEnum.Any),o.getSingletonType(o.TypeEnum.Null)]),decorators:[]},{name:"getPathDefinition",isPublic:!1,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.String),decorators:[]},{name:"createPathDefinition",isPublic:!1,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.String),decorators:[]},{name:"displayPoints",isPublic:!1,parameterTypes:[],returnType:o.getObjectType({index:o.getReferenceType("./TypeDefinitions:Point")}),decorators:[]},{name:"needKeepLineAngle",isPublic:!1,parameterTypes:[o.getReferenceType("./TypeDefinitions:Point"),o.getReferenceType("./TypeDefinitions:Point"),o.getReferenceType("./TypeDefinitions:Point")],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"vacuatePoints",isPublic:!1,parameterTypes:[o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]}]}),o=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("impls/Eraser","1.1.0"),a=o.setter,s=o.caller,c=o.getter;n(0);var u=n(6);n(6),n(1),o.defineType("0",o.getCompoundType(o.TypeEnum.And,[o.getObjectType({properties:{context:o.getReferenceType("../framework:ApplianceContext"),hidingCursor:o.getSingletonType(o.TypeEnum.Boolean)}}),o.getReferenceType("./tools:Gesture")])),o.defineExport("0","Eraser");var l=function(e){function t(t){var n=e.call(this)||this;return a(n,"context",t),n}return i(t,e),Object.defineProperty(t.prototype,"hidingCursor",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.onClick=function(e){s(this,"removeHitComponents",[e])},t.prototype.onDrag=function(e){s(this,"removeHitComponents",[e])},t.prototype.removeHitComponents=function(e){for(var t=e.hitTestIdentifies,n=0,r=s(c(c(this,"context"),"scene"),"editablesWithHitIdentifies",[t]);n<r.length;n++){var i=r[n];s(c(c(this,"context"),"scene"),"removeComponent",[i])}},t}(o.wrapSuperClass(u.Gesture));t.Eraser=l,o.defineClass("0",l,{superClass:"./tools:Gesture",name:"Eraser",properties:[{name:"context",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getReferenceType("../framework:ApplianceContext"),decorators:[]},{name:"hidingCursor",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]}],methods:[{name:"onClick",isPublic:!1,parameterTypes:[o.getReferenceType("../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onDrag",isPublic:!1,parameterTypes:[o.getReferenceType("../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"removeHitComponents",isPublic:!1,parameterTypes:[o.getReferenceType("../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]}]}),o=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("impls/Arraw","1.1.0"),a=o.setter,s=o.getter,c=o.caller,u=o.creator,l=n(0);n(0),n(1);var p=n(6);n(6);var f=n(2);n(2),n(1);var d=n(5);n(5),n(4),n(10),o.defineType("1",o.getCompoundType(o.TypeEnum.And,[o.getObjectType({properties:{context:o.getReferenceType("../framework:ApplianceContext"),paintingRectangleShape:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("#0"),o.getSingletonType(o.TypeEnum.Null)]),beginPoint:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("./TypeDefinitions:Point"),o.getSingletonType(o.TypeEnum.Null)]),isShiftPress:o.getSingletonType(o.TypeEnum.Boolean),hidingCursor:o.getSingletonType(o.TypeEnum.Boolean)}}),o.getReferenceType("./tools:Gesture")])),o.defineExport("1","ArrowAppliance");var h=function(e){function t(t){var n=e.call(this)||this;return n.paintingRectangleShape=null,n.beginPoint=null,n.isShiftPress=!1,a(n,"context",t),n}return i(t,e),Object.defineProperty(t.prototype,"hidingCursor",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.onDraggingStateChanged=function(e){var t=e.x,n=e.y;s(this,"isDragging")?(a(this,"paintingRectangleShape",new y(s(this,"context"))),a(s(this,"paintingRectangleShape"),"originX",t),a(s(this,"paintingRectangleShape"),"originY",n),c(s(s(this,"context"),"scene"),"addComponent",[s(this,"paintingRectangleShape")]),a(this,"beginPoint",u({x:t,y:n}))):(c(s(this,"paintingRectangleShape"),"completePainting",[]),a(this,"paintingRectangleShape",null),a(this,"beginPoint",null))},t.prototype.onDrag=function(e){var t=e.x,n=e.y,r=s(this,"paintingRectangleShape");a(r,"originX",c(Math,"min",[t,s(s(this,"beginPoint"),"x")])),a(r,"originY",c(Math,"min",[n,s(s(this,"beginPoint"),"y")])),a(r,"directionX",s(s(this,"beginPoint"),"x")-s(r,"originX")===0?1:0),a(r,"directionY",s(s(this,"beginPoint"),"y")-s(r,"originY")===0?1:0),a(r,"width",c(Math,"abs",[t-s(s(this,"beginPoint"),"x")])),a(r,"height",c(Math,"abs",[n-s(s(this,"beginPoint"),"y")]))},t.prototype.onDestroy=function(){s(this,"paintingRectangleShape")&&c(s(this,"paintingRectangleShape"),"completePainting",[])},t}(o.wrapSuperClass(p.Gesture));t.ArrowAppliance=h,o.defineClass("1",h,{superClass:"./tools:Gesture",name:"ArrowAppliance",properties:[{name:"context",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getReferenceType("../framework:ApplianceContext"),decorators:[]},{name:"paintingRectangleShape",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("#0"),o.getSingletonType(o.TypeEnum.Null)]),decorators:[]},{name:"beginPoint",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("./TypeDefinitions:Point"),o.getSingletonType(o.TypeEnum.Null)]),decorators:[]},{name:"isShiftPress",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"hidingCursor",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]}],methods:[{name:"onDraggingStateChanged",isPublic:!1,parameterTypes:[o.getReferenceType("../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onDrag",isPublic:!1,parameterTypes:[o.getReferenceType("../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onDestroy",isPublic:!0,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]}]}),o.defineType("0",o.getCompoundType(o.TypeEnum.And,[o.getObjectType({properties:{originX:o.getSingletonType(o.TypeEnum.Number),originY:o.getSingletonType(o.TypeEnum.Number),width:o.getSingletonType(o.TypeEnum.Number),height:o.getSingletonType(o.TypeEnum.Number),state:o.getReferenceType("../appState:MemberState"),isPainting:o.getSingletonType(o.TypeEnum.Boolean),directionX:o.getSingletonType(o.TypeEnum.Number),directionY:o.getSingletonType(o.TypeEnum.Number),selectable:o.getSingletonType(o.TypeEnum.Boolean),hitTestingBoxMargin:o.getSingletonType(o.TypeEnum.Number)}}),o.getReferenceType("./abstract/Editable:Editable")]));var y=function(e){function t(t){var n=e.call(this,t)||this;return n.originX=0,n.originY=0,n.width=0,n.height=0,n.isPainting=!0,n.directionX=0,n.directionY=0,a(n,"state",c(t,"getMemberState",[])),n}return i(t,e),Object.defineProperty(t.prototype,"selectable",{get:function(){return!s(this,"isPainting")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitTestingBoxMargin",{get:function(){return s(s(this,"state"),"strokeWidth")/2},enumerable:!0,configurable:!0}),t.prototype.completePainting=function(){a(this,"isPainting",!1)},t.prototype.pointHitTestContent=function(e,t,n){var r=new d.PolylineTester,i=u({x:s(this,"directionX")?0:s(this,"width"),y:s(this,"directionY")?0:s(this,"height")}),o=u({x:s(this,"directionX")?s(this,"width"):0,y:s(this,"directionY")?s(this,"height"):0});return c(r,"pushPoint",[i]),c(r,"pushPoint",[o]),c(r,"hitTest",[n+12,e,t])},t.prototype.renderSvgContent=function(){var e=u({x:s(this,"directionX")?0:s(this,"width"),y:s(this,"directionY")?0:s(this,"height")}),t=u({x:s(this,"directionX")?s(this,"width"):0,y:s(this,"directionY")?s(this,"height"):0}),n=s(s(this,"state"),"strokeColor"),r=n[0],i=n[1],o=n[2];return l.createElement("g",null,l.createElement("defs",null,l.createElement("marker",{id:"arrow"+s(this,"key"),markerWidth:"5",markerHeight:"6",refX:"3",refY:"3",orient:"auto"},l.createElement("polyline",{points:"0,0 3,3 0,6",fill:"none",stroke:"rgb("+r+","+i+","+o+")",key:s(this,"key"),strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"1"}))),l.createElement("line",{x1:s(e,"x"),y1:s(e,"y"),x2:s(t,"x"),y2:s(t,"y"),stroke:"rgb("+r+","+i+","+o+")",key:s(this,"key"),strokeWidth:"4",markerEnd:"url(#arrow"+s(this,"key")+")",fill:"none",strokeLinejoin:"round",strokeLinecap:"round"}))},t}(o.wrapSuperClass(f.Editable));o.defineClass("0",y,{superClass:"./abstract/Editable:Editable",name:"ArrowShape",properties:[{name:"originX",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"originY",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"width",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"height",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"state",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getReferenceType("../appState:MemberState"),decorators:[]},{name:"isPainting",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"directionX",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"directionY",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"selectable",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"hitTestingBoxMargin",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]}],methods:[{name:"completePainting",isPublic:!0,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"pointHitTestContent",isPublic:!1,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"renderSvgContent",isPublic:!1,parameterTypes:[],returnType:o.getCompoundType(o.TypeEnum.Or,[o.getSingletonType(o.TypeEnum.Any),o.getSingletonType(o.TypeEnum.Null)]),decorators:[]}]}),o=null},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(57)),r(n(60)),r(n(200)),r(n(120)),r(n(222)),r(n(108))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(109),i=n(40),o=n(199),a=n(60),s=function(){function e(e,t,n,i,s){var c=this;this.magixEventsManager=new o.MagixEventsManager,this.onAnimationTick=function(){c.shouldDisplayNow()&&c.svgNodesCache&&c.tagBoxesCache&&(c._displayerSyncNode.setProps({svgNodes:c.svgNodesCache,tagBoxes:c.tagBoxesCache,transform:c._camera.transform,cursorViews:c.cursorsManager.cursorViews,appliance:c.currentAppliance}),c.onCameraTransformChanged(c._camera.transform))},this.deviceType=t,this._callbacks=Object.freeze(Object.assign({},n)),this.willHideSelfCursor=s,this._displayerSyncNode=r.createPropsSyncNode({phase:a.RoomPhase.Connected,svgNodes:[],tagBoxes:[],cursorViews:[],appliance:"",disableOperations:i,transform:{deltaX:0,deltaY:0,scaleX:1,scaleY:1}}),this.animationTickGen=e.create(),this.animationTickGen.onAfterTick=this.onAnimationTick}return e.prototype.setup=function(){var e=this.animationTickGen.createChildTickBeforeMe(),t=this.animationTickGen.createChildTickBeforeMe(),n=this.applianceManager.getViewState();this._camera=new i.Camera(e,{centerX:n.centerX,centerY:n.centerY,scale:n.scale}),this.cursorsManager=new i.CursorsManager(this,t,this._camera,this.willHideSelfCursor,this.applianceManager.getMemberDisplayers())},e.prototype.dispose=function(){this.cursorsManager.dispose()},Object.defineProperty(e.prototype,"callbacks",{get:function(){return this._callbacks},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"camera",{get:function(){return this._camera},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayerSyncNode",{get:function(){return this._displayerSyncNode},enumerable:!0,configurable:!0}),e.prototype.setViewSize=function(e,t){!this._camera||this._camera.width===e&&this._camera.height===t||(this._camera.setSize(e,t),this.animationTickGen.invokeOnce())},e.prototype.convertToPointInWorld=function(e){return this._camera.calculatePointInScreenToScene(e)},e.prototype.refreshDisplayer=function(){var e=this.applianceManager;this.svgNodesCache=e.renderSvg(),this.tagBoxesCache=e.renderTagBoxes(),this.cursorsManager.refreshMemberDisplayers(e.getMemberDisplayers()),this.animationTickGen.invokeOnce()},e.prototype.dispatchMagixEventWithObject=function(e){this.magixEventsManager.dispatchMagixEvent(e)},e.prototype.addMagixEventListener=function(e,t){this.magixEventsManager.addMagiEventListener(e,t)},e.prototype.removeMagixEventListener=function(e,t){this.magixEventsManager.removeMagixEventListener(e,t)},e.prototype.waitMagixEvent=function(e){return this.magixEventsManager.waitMagixEvent(e)},e.covertMemberDisplayerToMember=function(e){return{memberId:e.memberId,isRtcConnected:e.isRtcConnected,currentApplianceName:e.currentApplianceName,information:e.information}},e}();t.DisplayerImplement=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HoverMouseEventLimitTimeInterval=100,t.TransformLimitTimeInterval=100},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(193),i=function(){function e(e){var t=this;this.onLimiterInvoke=function(){if(t.nextInvoker)try{t.nextInvoker()}finally{t.nextInvoker=void 0}},this.limiter=new r.InvokeFrequencyLimiter(e,this.onLimiterInvoke)}return e.prototype.invoke=function(e){this.nextInvoker=e,this.limiter.invoke()},e.prototype.cancel=function(){this.nextInvoker=void 0,this.limiter.cancel()},e}();t.UnderclockingInvoker=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Connecting="connecting",e.Connected="connected",e.Reconnecting="reconnecting",e.Disconnecting="disconnecting",e.Disconnected="disconnected"}(t.RoomPhase||(t.RoomPhase={}))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(205)),r(n(206)),r(n(29))},function(e,t,n){"use strict";var r=n(124);function i(){}var o=null,a={};function s(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==i&&d(e,this)}function c(e,t){for(;3===e._83;)e=e._18;if(s._47&&s._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);!function(e,t){r(function(){var n=1===e._83?t.onFulfilled:t.onRejected;if(null!==n){var r=function(e,t){try{return e(t)}catch(e){return o=e,a}}(n,e._18);r===a?l(t.promise,o):u(t.promise,r)}else 1===e._83?u(t.promise,e._18):l(t.promise,e._18)})}(e,t)}function u(e,t){if(t===e)return l(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===typeof t||"function"===typeof t)){var n=function(e){try{return e.then}catch(e){return o=e,a}}(t);if(n===a)return l(e,o);if(n===e.then&&t instanceof s)return e._83=3,e._18=t,void p(e);if("function"===typeof n)return void d(n.bind(t),e)}e._83=1,e._18=t,p(e)}function l(e,t){e._83=2,e._18=t,s._71&&s._71(e,t),p(e)}function p(e){if(1===e._75&&(c(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)c(e,e._38[t]);e._38=null}}function f(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function d(e,t){var n=!1,r=function(e,t,n){try{e(t,n)}catch(e){return o=e,a}}(e,function(e){n||(n=!0,u(t,e))},function(e){n||(n=!0,l(t,e))});n||r!==a||(n=!0,l(t,o))}e.exports=s,s._47=null,s._71=null,s._44=i,s.prototype.then=function(e,t){if(this.constructor!==s)return function(e,t,n){return new e.constructor(function(r,o){var a=new s(i);a.then(r,o),c(e,new f(t,n,a))})}(this,e,t);var n=new s(i);return c(this,new f(e,t,n)),n}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=!("undefined"===typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},function(e,t,n){"use strict";e.exports=function(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}e.exports=function(e,t){if(i(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(t,n[a])||!i(e[n[a]],t[n[a]]))return!1;return!0}},function(e,t,n){"use strict";var r=n(131);e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(137);t.Serializer=r.Serializer},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Indeterminate=0]="Indeterminate",e[e.Circular=1]="Circular",e[e.Noncircular=2]="Noncircular"}(t.HandleState||(t.HandleState={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(19);!function(e){e[e.Border=0]="Border",e[e.Compound=1]="Compound",e[e.Object=2]="Object",e[e.Handle=3]="Handle"}(r=t.ExpandedNodeClass||(t.ExpandedNodeClass={}));var o=function(){function e(e,t,n){this.templateEnvironment=e,this.templateType=t,this.params=n,this.expandedParamNodes=[],this.convertTypeToGeneratorParam=this.convertTypeToGeneratorParam.bind(this);for(var r=0;r<n.length;++r)this.expandedParamNodes[r]=void 0}return e.prototype.getExpandedExpression=function(){return this.expandNode(this.templateType)},e.prototype.expandNode=function(e){switch(e.typeEnum){case i.TypeEnum.Any:case i.TypeEnum.Never:case i.TypeEnum.Undefined:case i.TypeEnum.Null:case i.TypeEnum.String:case i.TypeEnum.Number:case i.TypeEnum.Boolean:case i.TypeEnum.Function:return{type:e,clazz:r.Border};case i.TypeEnum.Object:var t=e,n={};for(var o in t.properties){var a=t.properties[o];n[o]=this.expandNode(a)}return{type:t,clazz:r.Object,key:this.expandNode(t.key),index:this.expandNode(t.index),properties:n};case i.TypeEnum.And:case i.TypeEnum.Or:for(var s=e,c=[],u=0,l=s.children;u<l.length;u++){var p=l[u];c.push(this.expandNode(p))}return{type:s,clazz:r.Compound,children:c};case i.TypeEnum.Generator:return this.expandGeneratorType(e);case i.TypeEnum.Generic:return this.expandGenericType(e);case i.TypeEnum.Reference:var f=(0,this.templateEnvironment.serializerContext.referenceTypeReplacer)(e);return this.expandNode(f)}throw new Error("unrecognized enum type "+e.typeEnum)},e.prototype.expandGeneratorType=function(e){var t=e.params.map(this.convertTypeToGeneratorParam),n=this.templateEnvironment.getTemplate(e.template);return{clazz:r.Handle,handle:n.getHandle(t)}},e.prototype.convertTypeToGeneratorParam=function(e){var t=this.expandNode(e);return t.clazz===r.Handle?t.handle:t.type},e.prototype.expandGenericType=function(e){var t=e.index,n=this.expandedParamNodes[t];if(!n){var r=this.params[t];if(!r)throw new Error("generic index "+t+" is out of range: 0 ~ "+(this.params.length-1));n=this.covertParamTypeToExpandedNode(r),this.expandedParamNodes[t]=n}return n},e.prototype.covertParamTypeToExpandedNode=function(e){return"id"in e?this.expandNode(e):{clazz:r.Handle,handle:e}},e}();t.ExpandedExpressionGenerator=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.rootClass=e,this.classReflectionsMap=Object.freeze(t.classReflectionsMap),this.serializerObjectsMap=Object.freeze(t.serializerObjectsMap)}return e.prototype.classReflectionWithId=function(e){if(!(e in this.classReflectionsMap))throw new Error("ClassReflection not found with id "+e);return this.classReflectionsMap[e]},e.prototype.serializerObjectWithId=function(e){if(!(e in this.serializerObjectsMap))throw new Error("SerializerObject not found with id "+e);return this.serializerObjectsMap[e]},e}();t.Library=r},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(73)),r(n(146))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(){}}();t.AkkoMethodDecorator=r;var i=function(){return function(){}}();t.AkkoPropertyDecorator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Transitory="transitory",e.Persistent="persistent",e.Historied="historied"}(t.RoomMode||(t.RoomMode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AkkoVersion="1.1.0"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),i=function(){return function(){if(!r.isInMagix()){var e=this.constructor&&this.constructor.name;throw e?new Error("can't construct "+e+" out of Magix, it's an AkkoObject"):new Error("can't construct an AkkoObject out of Magix")}r.getContext().__identifierGenerator.bind(this)}}();t.AkkoObject=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=n(15),o=n(148),a=[],s=void 0;t.setClassReflectionGetter=function(e){s=e};var c=!1,u=!1;function l(e){c=e.willRejectSet,u=e.foundModify}t.runWithAccessorContext=function(e,t){try{return a.push(e),l(e),t()}finally{!function(e){e.willRejectSet=c,e.foundModify=u}(e),a.pop(),l(a[a.length-1]||{willRejectSet:!1,foundModify:!1})}},t.creator=function(e){return i.getContext().__identifierGenerator.bind(e)},t.getter=function(e,t){return e[t]},t.setter=function(e,t,n){if(u||"object"!==typeof e||null===e||function(e){return r.IdentifierGenerator.checkIsNewObject(r.findIdentifierWith(e))}(e)||function(e,t){var n=s(e);if(n){var r=n.properties[t];if(r)return r.isTransient}return!1}(e,t)||(u=!0),c&&u)throw new Error("Magix is frozen, you can't modify anything");return e[t]=n},t.remover=function(e,t){if(!u&&"object"===typeof e&&null!==e){var n=r.findIdentifierWith(e);r.IdentifierGenerator.checkIsNewObject(n)||(u=!0)}if(c&&u)throw new Error("Magix is frozen, you can't modify anything");return delete e[t]},t.caller=function(e,t,n,r){var i;return e===Object?i=o.ObjectInterceptProxy[t]:e instanceof Array&&(i=o.ArrayPrototypeInterceptProxy[t]),(i||(r||e)[t]).apply(e,n)},t.prefix=function(e,t,n){return e[t]+=n},t.postfix=function(e,t,n){var r=e[t];return e[t]+=n,r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.length=function(e){for(var t=new String(e),n=0,r=0,i=0;i<t.length;++i)(r=t.charCodeAt(i))<128?n+=1:r<2048?n+=2:55296===(64512&r)&&56320===(64512&t.charCodeAt(i+1))?(++i,n+=4):n+=3;return n},t.read=function(e,t,n){if(n<1)return"";for(var r,i=t+n,o=[],a=null,s=0;t<i;)(r=e.getUint8(t++))<128?o[s++]=r:r>191&&r<224?o[s++]=(31&r)<<6|63&e.getUint8(t++):r>239&&r<365?(r=((7&r)<<18|(63&e.getUint8(t++))<<12|(63&e.getUint8(t++))<<6|63&e.getUint8(t++))-65536,o[s++]=55296+(r>>10),o[s++]=56320+(1023&r)):o[s++]=(15&r)<<12|(63&e.getUint8(t++))<<6|63&e.getUint8(t++),s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0);return a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))},t.write=function(e,t){for(var n,r,i=new String(e),o=0;o<i.length;++o)(n=i.charCodeAt(o))<128?t.pushUInt8(n):n<2048?(t.pushUInt8(n>>6|192),t.pushUInt8(63&n|128)):55296===(64512&n)&&56320===(64512&(r=i.charCodeAt(o+1)))?(n=65536+((1023&n)<<10)+(1023&r),++o,t.pushUInt8(n>>18|240),t.pushUInt8(n>>12&63|128),t.pushUInt8(n>>6&63|128),t.pushUInt8(63&n|128)):(t.pushUInt8(n>>12|224),t.pushUInt8(n>>6&63|128),t.pushUInt8(63&n|128))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(78),i=n(35),o=n(36),a=function(){function e(e){this.dataView=e,this.index=0}return e.prototype.readByte=function(){var e=this.dataView.getUint8(this.index);return this.index+=1,e},e.prototype.readUnsignedInteger16=function(){var e=this.dataView.getUint16(this.index,!0);return this.index+=2,e},e.prototype.readInteger32=function(){var e=this.dataView.getInt32(this.index,!0);return this.index+=4,e},e.prototype.readUnsignedInteger32=function(){var e=this.dataView.getUint32(this.index,!0);return this.index+=4,e},e.prototype.readInteger53=function(){var e=this.dataView.getInt32(this.index,!0);this.index+=4;var t=this.dataView.getInt32(this.index,!0);return this.index+=4,t*o.Pow32+e},e.prototype.readFloat64=function(){var e=this.dataView.getFloat64(this.index,!0);return this.index+=8,e},e.prototype.readString=function(){var e=this.readInteger32(),t=r.read(this.dataView,this.index,e);return this.index+=e,t},e.prototype.readIdentifier=function(){var e=this.readUnsignedInteger16(),t=this.readUnsignedInteger32();return i.generateIdentifier(e,t)},e.prototype.skipBytes=function(e){this.index+=e},e}();t.Reader=a},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(81)),r(n(162)),r(n(89)),r(n(174)),r(n(175))},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(11),a=n(20),s=n(7),c=700;!function(e){e.Real="real",e.Illusion="illusion",e.Persistence="persistence"}(i=t.ImagePhase||(t.ImagePhase={}));var u=function(){function e(e,t,n){void 0===n&&(n=!1),this.stateFactory=new a.StateFactory(e,t,n)}return Object.defineProperty(e.prototype,"library",{get:function(){return this.stateFactory.library},enumerable:!0,configurable:!0}),e.prototype.createWithParameters=function(e){var t=e.observerId,n=e.args,r=e.callbacks,i=this.stateFactory.library,o=this.stateFactory.createWithParameters(n,t),s=new a.Trigger(i),c=o.createOperator({escapeObjectFilter:r&&r.escapeObjectFilter});return new l({library:i,stateOperator:c,trigger:s,nextObserverFrameId:0,callbacks:r})},e.prototype.createWithSnapshot=function(e){var t=e.observerId,n=e.snapshotFrame,r=e.actionFrames,i=e.triggerSourceImage,o=e.nextObserverFrameId,s=e.callbacks,c=this.stateFactory.library,u=this.stateFactory.createWithSnapshot(t,n,r),p=i?i.trigger:new a.Trigger(c),f=u.createOperator({escapeObjectFilter:s&&s.escapeObjectFilter});return new l({library:c,stateOperator:f,trigger:p,nextObserverFrameId:o,callbacks:s})},e}();t.ImageFactory=u;var l=function(){function e(e){var t=this;this.modifiable=!0,this.nextBeginGenerationId=0,this._phase=i.Real,this.illusionQueue=[],this.receiveEventFrame=function(e){t.callbacks.onEventFire&&e.authorId!==t.observerId&&t.callbacks.onEventFire({event:e.event,payload:e.payload,scope:e.scope,authorId:e.authorId})},this.invokeByTrigger=function(e,n,r){if(!t.modifiable&&r===a.TriggerInvokeMode.Modifiable){var i=t.forkStateOperator.state.library.rootClass,s=o.getClassReflection(i).methods[e].name;throw new Error("disable to invoke method "+s+" of trigger object. it's modifiable method. you can only invoke no-effects methods")}try{return t.findCurrentStateOperatorToModify(r).invoke(e,n,r)}finally{t.callbacks.onAfterInvokedByTrigger&&t.callbacks.onAfterInvokedByTrigger(r)}},this.onCatchDisplayStateActionFrame=function(e){var n=new s.FramePicker(e);t.illusionQueue.length>=c?t.changePhase(i.Persistence):(n.frameId=t.nextGeneratedFrameId,n.originalFrameId=t.nextGeneratedFrameId,t.nextGeneratedFrameId++,t.illusionQueue.push(n),t.changePhase(i.Illusion),t.callbacks.onCatchActionFrame&&t.callbacks.onCatchActionFrame(e))},this.forkStateOperator=e.stateOperator,this.forkStateOperator.state.eventFrameReceiver=this.receiveEventFrame,this.library=e.library,this.trigger=e.trigger,this.nextGeneratedFrameId=e.nextObserverFrameId,this.callbacks=Object.freeze(r({},e.callbacks)),this.observerId=this.forkStateOperator.state.observerId,this.trigger.receiver=this.invokeByTrigger}return e.prototype.clone=function(t){void 0===t&&(t={});var n=this.forkStateOperator.state.clone().createOperator({escapeObjectFilter:t.escapeObjectFilter}),r=new a.Trigger(this.library),i=new e({library:this.library,stateOperator:n,trigger:r,nextObserverFrameId:this.nextGeneratedFrameId,callbacks:t});i._phase=this._phase;for(var o=0,s=this.illusionQueue;o<s.length;o++){var c=s[o];i.illusionQueue.push(c)}return i},Object.defineProperty(e.prototype,"phase",{get:function(){return this._phase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"triggerObject",{get:function(){return this.trigger.object},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frameId",{get:function(){return this.forkStateOperator.state.frameId+this.illusionQueue.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextUserId",{get:function(){return this.displayStateOperator?this.displayStateOperator.state.nextUserId:this.forkStateOperator.state.nextUserId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verifiedFrameId",{get:function(){return this.forkStateOperator.state.frameId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timestamp",{get:function(){var e=this.illusionQueue[this.illusionQueue.length-1];return e?e.timestamp:this.forkStateOperator.state.timestamp},enumerable:!0,configurable:!0}),e.prototype.changePhase=function(e){if(this._phase!==e&&(this._phase=e,this.callbacks.onPhaseChanged))try{this.callbacks.onPhaseChanged(e)}catch(e){console.error(e)}},e.prototype.dispatch=function(e){if(!this.modifiable)throw new Error("disable to dispatch event. you can only invoke no-effects methods for trigger object");try{this.findCurrentStateOperatorToModify(a.TriggerInvokeMode.Modifiable).dispatch(e)}finally{if(this.callbacks.onEventFire)try{this.callbacks.onEventFire(e)}catch(e){console.error(e)}}},e.prototype.findCurrentStateOperatorToModify=function(e){return 0===this.illusionQueue.length||this.displayStateOperator||this.displayStateOperatorAndCreateIfNotExists(),e===a.TriggerInvokeMode.NoEffects?this.displayStateOperator||this.forkStateOperator:this.displayStateOperatorAndCreateIfNotExists()},e.prototype.appendActionFrame=function(e){var t=new s.FramePicker(e);this.assertAppendFrameId(t);var n,r,o=!1;if(t.authorId===this.observerId){var a=this.illusionQueue.findIndex(function(e){return e.originalFrameId===t.originalFrameId});a>0&&(console.warn("received frame can't touch first illusion frame"),o=!0);var c=void 0;if(-1!==a&&(c=this.illusionQueue.splice(a,1)[0],r=Date.now()-c.timestamp),t.type===s.ActionFrameType.Ack){if(!c)throw new Error("not found frameId "+t.originalFrameId+" match to ACK frameId");c.frameId=t.frameId,c.originalFrameId=t.originalFrameId,c.timestamp=t.timestamp,n=c.frameBuffer}else n=e;this.phase===i.Persistence&&(o=!0)}else{if(t.type===s.ActionFrameType.Ack)throw new Error("received others' ACK frame");o=!0,n=e}if(this.appendActionFrameWithState(this.forkStateOperator.state,n),o&&this.displayStateOperator){var u=this.displayStateOperator.state.observerLatestGenerationId;u>this.nextBeginGenerationId&&(this.nextBeginGenerationId=u),this.displayStateOperator=void 0}this.changePhase(this.illusionQueue.length>0?i.Illusion:i.Real),this.callbacks.onReceivedRttReport&&void 0!==r&&this.callbacks.onReceivedRttReport(r)},e.prototype.assertAppendFrameId=function(e){var t=e.frameId,n=this.forkStateOperator.state.frameId+1;if(n!==t)throw new Error("find unexpected frame id "+t+", wanna "+n)},e.prototype.appendActionFrameWithState=function(e,t){try{e.appendActionFrame(t)}catch(e){if(this.callbacks.onCatchErrorWhenAppendFrame){var n=new s.FramePicker(t);this.callbacks.onCatchErrorWhenAppendFrame(n.authorId,e)}}},e.prototype.displayStateOperatorAndCreateIfNotExists=function(){if(!this.displayStateOperator){for(var e=this.forkStateOperator.state.clone(),t=e.frameId+1,n=0,r=this.illusionQueue;n<r.length;n++){var o=r[n];o.frameId=t,this.appendActionFrameWithState(e,o.frameBuffer),t++}e.makeSureObserverGenerationIdAfter(this.nextBeginGenerationId),this.phase===i.Persistence?this.displayStateOperator=e.createOperator({escapeObjectFilter:this.callbacks.escapeObjectFilter}):this.displayStateOperator=e.createOperator({actionFrameCatcher:this.onCatchDisplayStateActionFrame,escapeObjectFilter:this.callbacks.escapeObjectFilter})}return this.displayStateOperator},e.prototype.destroy=function(){this.phase!==i.Persistence&&(this.changePhase(i.Persistence),this.displayStateOperator&&(this.displayStateOperator=this.displayStateOperator.state.createOperator({escapeObjectFilter:this.callbacks.escapeObjectFilter})))},e.prototype.snapshot=function(){return this.displayStateOperatorAndCreateIfNotExists().state.snapshot()},Object.defineProperty(e.prototype,"allUserIds",{get:function(){return this.displayStateOperatorAndCreateIfNotExists().state.allUserIds},enumerable:!0,configurable:!0}),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(11),o=n(7),a="__copiedTarget",s="__copiedMark",c="__identifier";function u(e){return a!==e&&s!==e&&c!==e}!function(e){e.Copy="copy",e.Reference="reference"}(r=t.AkkoValueCopierBehavior||(t.AkkoValueCopierBehavior={}));var l=function(){function e(e){void 0===e&&(e=!0),this.willCopyIdentifier=e,this.copiedOriginObjects=[],this.copiedTargetObjects=[]}return e.copy=function(t,n){void 0===n&&(n=!0);var r=new e(n);try{return r.copyValue(t)}finally{r.complete()}},e.prototype.complete=function(){for(var e=0,t=this.copiedOriginObjects;e<t.length;e++){delete t[e][a]}for(var n=0,r=this.copiedTargetObjects;n<r.length;n++){delete r[n][s]}},e.prototype.copyValue=function(e){if("function"===typeof e)throw new Error("AkkoObject's properties can't be function");if("object"!==typeof e||null===e)return e;switch(this.behaviorDecider?this.behaviorDecider(e):r.Copy){case r.Reference:return e;case r.Copy:if(e[s])return e;var t=e[a];return t||(t=this.copyObject(e),this.copiedOriginObjects.push(e),this.copiedTargetObjects.push(t),this.afterCopiedObject&&this.afterCopiedObject(t)),t}},e.prototype.copyObject=function(e){if(e.constructor===Object)return this.copyFlatObject(e);if(e instanceof Array)return this.copyArrayObject(e);if(i.isAkkoObject(e))return this.copyAkkoObject(e);throw new Error("akko can only copy FlatObject or AkkoObject or Array")},e.prototype.copyFlatObject=function(e){var t={};for(var n in this.setCopiedTarget(e,t),e)u(n)&&(t[n]=this.copyValue(e[n]));return this.willCopyIdentifier&&c in e&&o.bindIdentifier(t,e[c]),t},e.prototype.copyArrayObject=function(e){var t=[];this.setCopiedTarget(e,t);for(var n=0;n<e.length;++n)t[n]=this.copyValue(e[n]);return this.willCopyIdentifier&&c in e&&o.bindIdentifier(t,e[c]),t},e.prototype.copyAkkoObject=function(e){if(!this.willCopyIdentifier)throw new Error("it's must to copy identifier when copy AkkoObject");var t={},n=i.getClassReflection(e),r=n.clazz,a=n.properties;for(var s in this.setCopiedTarget(e,t),a)u(s)&&(t[s]=this.copyValue(e[s]));return c in e&&o.bindIdentifier(t,e[c]),t.constructor=r,Object.setPrototypeOf(t,r.prototype),t},e.prototype.setCopiedTarget=function(e,t){try{e[a]=t}catch(e){throw new Error("can't modify "+a+" when copy object: "+e.message)}t[s]=!0},e}();t.AkkoValueCopier=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(82);t.filterParameters=function(e,t){return new i(t).filterParameters(e)},t.filterResult=function(e,t){return new i(t).filterResult(e)};var i=function(){function e(e){var t=this;this.decideCopierBehavior=function(e){if("function"===typeof e)throw new Error("can't let it pass Magix border: "+e);if("object"!==typeof e||null===e)return r.AkkoValueCopierBehavior.Reference;if(t.customObjectFilter&&t.customObjectFilter(e))return r.AkkoValueCopierBehavior.Reference;if(e.constructor===Object)return r.AkkoValueCopierBehavior.Copy;if(e instanceof Array)return r.AkkoValueCopierBehavior.Copy;throw new Error("can't let it pass Magix border: "+e)},this.identifierGenerator=e.identifierGenerator,this.customObjectFilter=e.customObjectFilter}return e.prototype.filterParameters=function(e){var t=this,n=new r.AkkoValueCopier(!1);n.afterCopiedObject=function(e){return t.identifierGenerator.bind(e)};try{e=e.slice();for(var i=0;i<e.length;++i)e[i]=n.copyValue(e[i]);return e}finally{n.complete()}},e.prototype.filterResult=function(e){var t=new r.AkkoValueCopier(!1);t.behaviorDecider=this.decideCopierBehavior;try{return t.copyValue(e)}finally{t.complete()}},e}()},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),o=n(85),a=n(83),s=n(7),c=function(){function e(e,t,n,s,c){var u=this;this.state=e,this.jsxFactory=t,this.identifierContext=n,this.nextFrameId=s,this.callbacks=c,this.invoke=function(e,t,n){var r,s,c=u.identifierGeneratorForInvoker(n);return n===o.TriggerInvokeMode.Modifiable?(r=u.createMagixContext(i.Environment.Illusion,c,u.state.observerId),s={willRejectSet:!1,foundModify:!1}):(r=u.createMagixContext(i.Environment.NoEffects,c,u.state.observerId),s={willRejectSet:!0,foundModify:!1}),i.runWithContext(s,r,u.jsxFactory,function(){var r=t.slice(),i=a.filterParameters(t,{identifierGenerator:c}),s=c.latestGenerationId;try{var l=u.callbacks.invoke(e,i);return a.filterResult(l,{identifierGenerator:c,customObjectFilter:u.callbacks.escapeObjectFilter})}finally{n===o.TriggerInvokeMode.Modifiable&&u.callbacks.catchActionFrame&&u.sendInvokerActionFrame(e,r,s)}})},this.callbacks=Object.freeze(r({},c))}return e.prototype.identifierGeneratorForInvoker=function(e){var t=this.identifierContext.identifierGeneratorWithObserverId(this.state.observerId);return e===o.TriggerInvokeMode.NoEffects?t.clone():t},e.prototype.sendInvokerActionFrame=function(e,t,n){var r=i.getContext(),o=r.timestamp,a=r.observerId,c={frameId:this.nextFrameId,originalFrameId:this.nextFrameId,timestamp:o,authorId:a,type:s.ActionFrameType.Invoker,beginGenerationId:n,methodId:e,parameters:t};this.nextFrameId++;try{this.callbacks.catchActionFrame(c)}catch(e){console.error(e)}},e.prototype.dispatch=function(e){var t=this,n=e.event,r=e.payload,o=e.scope,c=e.authorId;o===s.EventScope.System&&"Enter"===n&&this.callbacks.addObserver(c);try{var u=this.identifierContext.identifierGeneratorWithObserverId(c),l=a.filterParameters([r],{identifierGenerator:u})[0],p=u.latestGenerationId,f=this.createMagixContext(i.Environment.Illusion,u,c);i.runWithContext({willRejectSet:!1,foundModify:!1},f,this.jsxFactory,function(){try{t.callbacks.dispatch(n,l,o)}finally{t.callbacks.catchActionFrame&&t.sendEventActionFrame(e,p)}})}finally{o===s.EventScope.System&&"Leave"===n&&this.callbacks.removeObserver(c)}},e.prototype.sendEventActionFrame=function(e,t){var n=e.event,r=e.payload,o=e.scope;"object"===typeof r&&null!==r&&delete r.__identifier;var a=i.getContext(),c=a.timestamp,u=a.authorId,l={frameId:this.nextFrameId,originalFrameId:this.nextFrameId,timestamp:c,authorId:u,type:s.ActionFrameType.Event,beginGenerationId:t,scope:o,event:n,payload:r};this.nextFrameId++;try{this.callbacks.catchActionFrame(l)}catch(e){console.error(e)}},e.prototype.createMagixContext=function(e,t,n){return Object.freeze({__identifierGenerator:t,__previousGenerationId:t.latestGenerationId,environment:e,timestamp:Date.now(),authorId:n,observerId:this.state.observerId})},e}();t.StateOperator=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(11),o=n(46);!function(e){e.NoEffects="noEffects",e.Modifiable="modifiable"}(r=t.TriggerInvokeMode||(t.TriggerInvokeMode={}));var a=function(){function e(e){var t=this,n=i.getClassReflection(e.rootClass),r={},o=function(e){Object.defineProperty(r,e,{enumerable:!0,get:function(){throw new Error('cannot access property "'+e+'" of trigger object')},set:function(){throw new Error('cannot access property "'+e+'" of trigger object')}})};for(var a in n.serializerObject.properties)o(a);n.methodNames.forEach(function(e,i){r[e]=t.createInvoker(n,i,n.methods[e])}),this.object=Object.freeze(r)}return e.prototype.createInvoker=function(e,t,n){var i=this,a=n.isPublic,s=n.name,c=n.decorators;if(c.length>1)throw new Error(e.name+"."+s+" have more than 1 decorators: "+c.length);if(c.some(function(e){return e instanceof o.EventDecorator}))return function(){throw new Error("cannot call "+e.name+"."+s+", you should call dispatch()")};if(a){var u=c.some(function(e){return e===o.noEffects})?r.NoEffects:r.Modifiable;return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!i.receiver)throw new Error("trigger not bind any receiver");return i.receiver(t,e,u)}}return function(){throw new Error("cannot call "+e.name+"."+s+", it's private method")}},e}();t.Trigger=a},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(27),o=n(166),a=n(87),s=12e3,c=function(){function e(e){this.framesBuffer=[],this.latestReceivedFrameId=-1,this.isPlaying=!1,this.mode=e.mode,this.callbacks=Object.freeze(r({},e.callbacks));var t=e.enableAnimationFrame,n=e.frameInterval,i=void 0===n?17:n,c=e.remainLowTimeInterval,u=void 0===c?s:c;if(t){var l=new a.AnimationFrameTicker(this.handleTickEvent.bind(this));this.tickLimiter=new o.InvokeFrequencyLimiter(i,function(){return l.invoke()})}else this.tickLimiter=new o.InvokeFrequencyLimiter(i,this.handleTickEvent.bind(this));this.remainLowTimeInterval=u}return Object.defineProperty(e.prototype,"newestPushFrame",{get:function(){return this.framesBuffer[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextFrame",{get:function(){return this.framesBuffer[this.framesBuffer.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"framesBufferLength",{get:function(){return this.framesBuffer.length},enumerable:!0,configurable:!0}),e.prototype.takeNextFrame=function(){return this.framesBuffer.pop()},Object.defineProperty(e.prototype,"currentBufferInterval",{get:function(){return this.framesBufferLength>0?this.newestPushFrame.timestamp-this.nextFrame.timestamp:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frameInterval",{get:function(){return this.tickLimiter.limitDuration},set:function(e){this.tickLimiter.limitDuration=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"phase",{get:function(){return this._phase},enumerable:!0,configurable:!0}),e.prototype.handleTickEvent=function(){try{this.onTick()}finally{this.isPlaying&&this.framesBuffer.length>0&&this.tickLimiter.invoke(),this.refreshPhase()}},e.prototype.pushFrames=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];this.assertReceivedFrameId(r.frameId),this.framesBuffer.unshift(r)}e.length>0&&this.isPlaying&&this.tickLimiter.invoke(),this.refreshPhase()},e.prototype.assertReceivedFrameId=function(e){if(-1===this.latestReceivedFrameId)this.latestReceivedFrameId=e;else{var t=this.latestReceivedFrameId+1;if(e!==t)throw new Error("PlayBuffer want frameId "+t+", instead of "+e);this.latestReceivedFrameId=e}},e.prototype.play=function(){this.isPlaying||(this.isPlaying=!0,this.framesBuffer.length>0&&this.tickLimiter.invoke(),this.refreshPhase())},e.prototype.pause=function(){this.isPlaying&&(this.isPlaying=!1,this.tickLimiter.cancel(),this.refreshPhase())},e.prototype.refreshPhase=function(){var e=this.currentPhase(),t=this._phase;e!==t&&(this._phase=e,t===i.PlayerBufferPhase.Playing&&e!==i.PlayerBufferPhase.Playing?this.onPlayingStop():t!==i.PlayerBufferPhase.Playing&&e===i.PlayerBufferPhase.Playing&&this.onPlayingContinue(),this.callbacks.onPhaseChanged&&this.callbacks.onPhaseChanged(e))},e.prototype.currentPhase=function(){return this.isPlaying?this.framesBuffer.length>0?i.PlayerBufferPhase.Playing:i.PlayerBufferPhase.Empty:i.PlayerBufferPhase.Pausing},e}();t.AbstractPlayerBuffer=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=this;this.invoker=e,this.animationFrameId=null,this.shouldInvokeNextFrame=!1,this.blockInvoke=!1,this.fireTick=function(){if(t.shouldInvokeNextFrame)try{t.invoker()}catch(e){console.error(e)}t.shouldInvokeNextFrame=!1,t.blockInvoke=!1,t.animationFrameId=null}}return e.prototype.invoke=function(){if(this.blockInvoke)this.shouldInvokeNextFrame=!0;else{try{this.invoker()}catch(e){console.error(e)}null===this.animationFrameId&&(this.animationFrameId=window.requestAnimationFrame(this.fireTick)),this.blockInvoke=!0}},e}();t.AnimationFrameTicker=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapCallbacks=function(e){var t={},n=function(n){var r=e[n];t[n]="function"===typeof r?function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.apply(t,e)}catch(e){console.error(e)}}:r};for(var r in e)n(r);return Object.freeze(t)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(74),a=n(90),s=n(20),c=n(172),u=function(){function e(e,t,n,r,i){this.stateFactory=new s.StateFactory(e,t,!0),this.persistenceServerOrigin=r,this.framesSequenceFactory=new a.FramesSequenceFactory(r,i),this.enableAnimationFrame=n}return e.prototype.createReconstructor=function(e,t){return void 0===t&&(t={}),r(this,void 0,void 0,function(){var n,r,a,s,u;return i(this,function(i){switch(i.label){case 0:return n=this.persistenceServerOrigin+"/v1/rooms/"+e+"/reconstruction",[4,fetch(n,{method:"get",headers:{"content-type":"application/json",Accept:"application/json"}})];case 1:if(404!==(r=i.sent()).status)return[3,2];throw new Error('room "'+e+'" not exits');case 2:if(200===r.status)return[3,7];a=void 0,i.label=3;case 3:return i.trys.push([3,5,,6]),[4,r.json()];case 4:return a=i.sent(),[3,6];case 5:return i.sent(),[3,6];case 6:throw(s=a&&a.error)?new Error("can't get room \""+e+": "+s+'"'):new Error("can't get room \""+e+'". response status code '+r.status);case 7:return[4,r.json()];case 8:if((u=i.sent()).mode!==o.RoomMode.Historied)throw new Error('room "'+u.uuid+"\" isn't historied mode");return[2,new c.ReconstructorImplement(u,this.stateFactory,this.framesSequenceFactory,this.enableAnimationFrame,t)]}})})},e}();t.ReconstructorFactory=u,function(e){e.WaitingFirstFrame="waitingFirstFrame",e.Playing="playing",e.Pause="pause",e.Stop="stop",e.TouchedEnding="touchedEnding",e.Buffering="buffering",e.Seeking="seeking"}(t.ReconstructorPhase||(t.ReconstructorPhase={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(169))},function(e,t,n){"use strict";var r=n(170),i=n(18),o=n(171);function a(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function s(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function c(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=i({arrayFormat:"none"},t)),r=Object.create(null);return"string"!==typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:o(a),n(o(i),a,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"===typeof t?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(n):e[t]=n,e},Object.create(null))):r}t.extract=s,t.parse=c,t.stringify=function(e,t){!1===(t=i({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[a(t,e),"[",r,"]"].join(""):[a(t,e),"[",a(r,e),"]=",a(n,e)].join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map(function(r){var i=e[r];if(void 0===i)return"";if(null===i)return a(r,t);if(Array.isArray(i)){var o=[];return i.slice().forEach(function(e){void 0!==e&&o.push(n(r,e,o.length))}),o.join("&")}return a(r,t)+"="+a(i,t)}).filter(function(e){return e.length>0}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:c(s(e),t)}}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0).__context("abstractApplianceManasger/index","1.1.0"),s=a.setter,c=a.creator,u=a.caller,l=a.getter,p=n(0);n(0),n(30);var f=n(21);n(21);var d=n(24);n(24);var h=n(97);n(97);var y=n(28);n(28);var m=n(16);n(16);var g=n(98);n(98),n(99),n(4),n(8),n(1);var v=n(0);n(0),a.defineType("0",a.getObjectType({})),a.defineExport("0","ApplianceClass"),a.defineType("1",a.getObjectType({properties:{scenes:a.getObjectType({index:a.getReferenceType("../framework/Scene:Scene")}),pptHandler:a.getReferenceType("../framework/PptHandler:PptHandler"),membersManager:a.getReferenceType("../framework/MembersManager:MembersManager"),adminObserverMemberState:a.getReferenceType("../appState:MemberState"),_globalState:a.getReferenceType("../appState:GlobalState"),scene:a.getReferenceType("../framework/Scene:Scene")}})),a.defineExport("1","AbstractApplianceManager");var b=function(e){function t(t){var n=e.call(this)||this;return s(n,"_globalState",t),s(n,"pptHandler",new h.PptHandler(n)),s(n,"scenes",c([new m.Scene])),s(n,"membersManager",new y.MembersManager),s(n,"adminObserverMemberState",u(n,"createMemberState",[c([0,0,0])])),n}return i(t,e),Object.defineProperty(t.prototype,"scene",{get:function(){return l(l(this,"scenes"),l(l(this,"_globalState"),"currentSceneIndex"))},enumerable:!0,configurable:!0}),t.prototype.createAppliances=function(){var e=c({}),t=u(this,"createConstructors",[]);for(var n in t){var r=l(t,n);s(e,n,new r(this))}return e},t.prototype.onMemberEnterRoom=function(e,t){var n=u(p,"getContext",[]).authorId,r=u(l(this,"membersManager"),"initiativeColor",[]);u(l(this,"membersManager"),"memberEnter",[c({memberId:n,information:t,appliances:u(this,"createAppliances",[]),memberState:u(this,"createMemberState",[r])})])},t.prototype.onMemberLeaveRoom=function(){var e=u(p,"getContext",[]).authorId;u(l(this,"membersManager"),"memberLeave",[e])},t.prototype.onRtcConnected=function(e,t){u(console,"log",[e,t]);var n=u(l(this,"membersManager"),"findMemberIdWithUserId",[l(t,"userId")]);void 0!==n&&u(l(this,"membersManager"),"setRtcState",[n,l(t,"isConnected")])},t.prototype.onOthersEvent=function(e,t,n){var r=u(p,"getContext",[]).authorId;n!==l(l(p,"EventScope"),"System")&&u(l(this,"membersManager"),"isMemberExits",[r])&&u(l(this,"membersManager"),"dispatchMagixEvent",[r,e,t])},t.prototype.pushPptPages=function(e){u(l(this,"pptHandler"),"pushPptPages",[e])},t.prototype.insertNewPage=function(e){u(l(this,"pptHandler"),"insertNewPage",[e])},t.prototype.removePage=function(e){u(l(this,"pptHandler"),"removePage",[e])},t.prototype.insertImage=function(e){var t=new g.ImageShape(this,e);u(l(this,"scene"),"addComponent",[t])},t.prototype.completeImageUpload=function(e,t){var n=u(l(this,"scene"),"findComponentFromTop",[function(t){return t instanceof g.ImageShape&&l(t,"uuid")===e}]);if(!n)throw new Error("uuid "+e+" not found");u(n,"setImageSrc",[t])},t.prototype.setGlobalState=function(e){var t=l(this,"_globalState");return s(this,"_globalState",c(o({},t,e))),l(t,"currentSceneIndex")!==l(l(this,"_globalState"),"currentSceneIndex")&&u(l(this,"membersManager"),"notifyAllThatSceneChanged",[l(t,"currentSceneIndex")]),l(this,"_globalState")},t.prototype.setMemberState=function(e){return u(l(this,"membersManager"),"setMemberState",[l(u(p,"getContext",[]),"authorId"),e])},t.prototype.setViewState=function(e){return u(l(this,"membersManager"),"setViewState",[l(u(p,"getContext",[]),"authorId"),e])},t.prototype.renderTagBoxes=function(){return u(l(this,"scene"),"renderTagBoxes",[])},t.prototype.renderSvg=function(){return u(l(this,"scene"),"renderSvg",[])},t.prototype.getInformationWithMemberId=function(e){return u(l(this,"membersManager"),"getInformationWithMemberId",[e])},t.prototype.getMemberState=function(e){return void 0===e&&(e=l(u(p,"getContext",[]),"authorId")),e===v.AdminObserverId?l(this,"adminObserverMemberState"):u(l(this,"membersManager"),"getMemberState",[e])},t.prototype.getViewState=function(e){return void 0===e&&(e=l(u(p,"getContext",[]),"authorId")),u(l(this,"membersManager"),"getViewState",[e])},t.prototype.getViewStateWithUserId=function(e){return u(l(this,"membersManager"),"getViewStateWithUserId",[e])},t.prototype.getBroadcasterId=function(){return u(l(this,"membersManager"),"getBroadcasterId",[])},t.prototype.updateTextarea=function(e){u(d,"updateTextarea",[l(this,"scene"),e])},t.prototype.getGlobalState=function(){return l(this,"_globalState")},t.prototype.getPptImages=function(){return l(l(this,"pptHandler"),"pptImages")},t.prototype.getMemberDisplayers=function(){return u(l(this,"membersManager"),"getMemberDisplayers",[])},t.prototype.hitTest=function(e,t,n){var r=n/l(u(this,"getViewState",[]),"scale"),i=u(f,"searchEditableComponentsByPoint",[l(this,"scene"),e,t,r]);return u(u(i,"map",[function(e){return l(e,"identifier")}]),"reverse",[])},t.prototype.onMouseDown=function(e){var t=u(p,"getContext",[]).authorId;u(u(l(this,"membersManager"),"currentAppliance",[t]),"onMouseDown",[e]),u(l(this,"membersManager"),"setCursor",[t,l(e,"x"),l(e,"y"),!0,!0])},t.prototype.onMouseMove=function(e){var t=u(p,"getContext",[]).authorId;u(u(l(this,"membersManager"),"currentAppliance",[t]),"onMouseMove",[e]),u(l(this,"membersManager"),"setCursor",[t,l(e,"x"),l(e,"y"),!0])},t.prototype.onMouseUp=function(e){var t=u(p,"getContext",[]).authorId;u(u(l(this,"membersManager"),"currentAppliance",[t]),"onMouseUp",[e]),u(l(this,"membersManager"),"setCursor",[t,l(e,"x"),l(e,"y"),!0,!1])},t.prototype.onMouseLeave=function(e){var t=u(p,"getContext",[]).authorId;u(u(l(this,"membersManager"),"currentAppliance",[t]),"onMouseLeave",[e]),u(l(this,"membersManager"),"setCursor",[t,l(e,"x"),l(e,"y"),!1])},t.prototype.onKeyDown=function(e){u(u(l(this,"membersManager"),"currentAppliance",[l(u(p,"getContext",[]),"authorId")]),"onKeyDown",[e])},t.prototype.onKeyUp=function(e){u(u(l(this,"membersManager"),"currentAppliance",[l(u(p,"getContext",[]),"authorId")]),"onKeyUp",[e])},t}(a.baseClass());t.AbstractApplianceManager=b,a.defineClass("1",b,{name:"AbstractApplianceManager",properties:[{name:"scenes",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!1,type:a.getObjectType({index:a.getReferenceType("../framework/Scene:Scene")}),decorators:[]},{name:"pptHandler",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:a.getReferenceType("../framework/PptHandler:PptHandler"),decorators:[]},{name:"membersManager",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:a.getReferenceType("../framework/MembersManager:MembersManager"),decorators:[]},{name:"adminObserverMemberState",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:a.getReferenceType("../appState:MemberState"),decorators:[]},{name:"_globalState",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:a.getReferenceType("../appState:GlobalState"),decorators:[]},{name:"scene",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:a.getReferenceType("../framework/Scene:Scene"),decorators:[]}],methods:[{name:"createAppliances",isPublic:!1,parameterTypes:[],returnType:a.getObjectType({key:a.getReferenceType("../framework:Appliance")}),decorators:[]},{name:"onMemberEnterRoom",isPublic:!1,parameterTypes:[a.getSingletonType(a.TypeEnum.String),a.getCompoundType(a.TypeEnum.Or,[a.getReferenceType("../framework/MembersManager:MemberInformation"),a.getSingletonType(a.TypeEnum.Undefined)])],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[p.event("Enter")]},{name:"onMemberLeaveRoom",isPublic:!1,parameterTypes:[],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[p.event("Leave")]},{name:"onRtcConnected",isPublic:!1,parameterTypes:[a.getSingletonType(a.TypeEnum.String),a.getObjectType({properties:{userId:a.getSingletonType(a.TypeEnum.Number),isConnected:a.getSingletonType(a.TypeEnum.Boolean)}})],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[p.event("RtcState")]},{name:"onOthersEvent",isPublic:!1,parameterTypes:[a.getSingletonType(a.TypeEnum.String),a.getSingletonType(a.TypeEnum.Any),a.getSingletonType(a.TypeEnum.Any)],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[p.event(/./i)]},{name:"pushPptPages",isPublic:!0,parameterTypes:[a.getObjectType({index:a.getReferenceType("../framework:PptPage")})],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"insertNewPage",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number)],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"removePage",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number)],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"insertImage",isPublic:!0,parameterTypes:[a.getReferenceType("../impls:ImageInformation")],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"completeImageUpload",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.String),a.getSingletonType(a.TypeEnum.String)],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"setGlobalState",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Any)],returnType:a.getReferenceType("../appState:GlobalState"),decorators:[]},{name:"setMemberState",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Any)],returnType:a.getReferenceType("../appState:MemberState"),decorators:[]},{name:"setViewState",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Any)],returnType:a.getReferenceType("../appState:ViewState"),decorators:[]},{name:"renderTagBoxes",isPublic:!0,parameterTypes:[],returnType:a.getObjectType({index:a.getReferenceType("../framework:TagBox")}),decorators:[p.noEffects]},{name:"renderSvg",isPublic:!0,parameterTypes:[],returnType:a.getObjectType({index:a.getSingletonType(a.TypeEnum.Any)}),decorators:[p.noEffects]},{name:"getInformationWithMemberId",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number)],returnType:a.getCompoundType(a.TypeEnum.Or,[a.getReferenceType("../framework/MembersManager:MemberInformation"),a.getSingletonType(a.TypeEnum.Undefined)]),decorators:[p.noEffects]},{name:"getMemberState",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number)],returnType:a.getReferenceType("../appState:MemberState"),decorators:[p.noEffects]},{name:"getViewState",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number)],returnType:a.getReferenceType("../appState:ViewState"),decorators:[p.noEffects]},{name:"getViewStateWithUserId",isPublic:!0,parameterTypes:[a.getCompoundType(a.TypeEnum.Or,[a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Undefined)])],returnType:a.getReferenceType("../appState:ViewState"),decorators:[p.noEffects]},{name:"getBroadcasterId",isPublic:!0,parameterTypes:[],returnType:a.getCompoundType(a.TypeEnum.Or,[a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Undefined)]),decorators:[p.noEffects]},{name:"updateTextarea",isPublic:!0,parameterTypes:[a.getReferenceType("../impls/types:TextareaBox")],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"getGlobalState",isPublic:!0,parameterTypes:[],returnType:a.getReferenceType("../appState:GlobalState"),decorators:[p.noEffects]},{name:"getPptImages",isPublic:!0,parameterTypes:[],returnType:a.getObjectType({index:a.getSingletonType(a.TypeEnum.String)}),decorators:[p.noEffects]},{name:"getMemberDisplayers",isPublic:!0,parameterTypes:[],returnType:a.getObjectType({index:a.getReferenceType("../framework/MembersManager:MemberDisplayer")}),decorators:[p.noEffects]},{name:"hitTest",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Number)],returnType:a.getObjectType({index:a.getObjectType({index:a.getSingletonType(a.TypeEnum.Number)})}),decorators:[p.noEffects]},{name:"onMouseDown",isPublic:!0,parameterTypes:[a.getReferenceType("../framework:MouseEvent")],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"onMouseMove",isPublic:!0,parameterTypes:[a.getReferenceType("../framework:MouseEvent")],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"onMouseUp",isPublic:!0,parameterTypes:[a.getReferenceType("../framework:MouseEvent")],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"onMouseLeave",isPublic:!0,parameterTypes:[a.getReferenceType("../framework:MouseEvent")],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"onKeyDown",isPublic:!0,parameterTypes:[a.getReferenceType("../framework:KeyEvent")],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"onKeyUp",isPublic:!0,parameterTypes:[a.getReferenceType("../framework:KeyEvent")],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]}]}),a=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("hittest/SectorTester","1.1.0"),a=o.setter,s=o.creator,c=o.getter,u=o.caller,l=n(22);n(22),n(9),o.defineType("0",o.getObjectType({properties:{beginVector:o.getReferenceType("./TypeDefinitions:Point"),endVector:o.getReferenceType("./TypeDefinitions:Point")}})),o.defineExport("0","SectorTester");var p=function(e){function t(t,n,r){var i=e.call(this)||this;return i.originPoint=r,a(i,"beginVector",s({x:c(t,"x")-c(r,"x"),y:c(t,"y")-c(r,"y")})),a(i,"endVector",s({x:c(n,"x")-c(r,"x"),y:c(n,"y")-c(r,"y")})),i}return i(t,e),t.prototype.hitTest=function(e,t){var n=s({x:e-c(c(this,"originPoint"),"x"),y:t-c(c(this,"originPoint"),"y")}),r=u(Math,"atan2",[c(c(this,"beginVector"),"y"),c(c(this,"beginVector"),"x")]),i=u(Math,"atan2",[c(c(this,"endVector"),"y"),c(c(this,"endVector"),"x")]),o=u(Math,"atan2",[c(n,"y"),c(n,"x")]),a=u(this,"radiusIncrement",[o,r]),p=u(this,"radiusIncrement",[i,r]);if(a>p)return!1;var f=s({x:0,y:0}),d=u(l,"distance",[s({x:e,y:t}),c(this,"originPoint")]),h=u(l,"distance",[c(this,"beginVector"),f]);return d<=h+a/p*(u(l,"distance",[c(this,"endVector"),f])-h)},t.prototype.radiusIncrement=function(e,t){var n=t-e;return n>=2*c(Math,"PI")?n-=2*c(Math,"PI"):n<0&&(n+=2*c(Math,"PI")),n},t}(o.baseClass());t.SectorTester=p,o.defineClass("0",p,{name:"SectorTester",properties:[{name:"beginVector",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getReferenceType("./TypeDefinitions:Point"),decorators:[]},{name:"endVector",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getReferenceType("./TypeDefinitions:Point"),decorators:[]}],methods:[{name:"hitTest",isPublic:!0,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"radiusIncrement",isPublic:!1,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Number),decorators:[]}]}),o=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("hittest/PolylineTester","1.1.0"),a=o.creator,s=o.caller,c=o.getter,u=n(22);n(22),n(9);var l=n(38);n(38);var p=n(37);n(37),o.defineType("0",o.getObjectType({properties:{points:o.getObjectType({index:o.getReferenceType("./TypeDefinitions:Point")})}})),o.defineExport("0","PolylineTester");var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.points=a([]),t}return i(t,e),t.prototype.pushPoint=function(e){s(c(this,"points"),"push",[e])},t.prototype.hitTest=function(e,t,n){return s(this,"hitAnySegments",[e,t,n])||s(this,"hitAnyNodeCircles",[e,t,n])},t.prototype.hitAnySegments=function(e,t,n){for(var r=e/2,i=1;i<c(c(this,"points"),"length");++i){var o=c(c(this,"points"),i-1),p=c(c(this,"points"),i),f=a({x:c(p,"x")-c(o,"x"),y:c(p,"y")-c(o,"y")});if(!s(u,"isZero",[c(f,"x")])||!s(u,"isZero",[c(f,"y")])){var d=s(u,"unitVector",[s(u,"verticalVector",[f])]),h=new l.ConvexPolygonTester,y=s(u,"multiply",[-r,d]),m=s(u,"multiply",[r,d]);if(s(h,"pushPoint",[s(u,"plus",[o,m])]),s(h,"pushPoint",[s(u,"plus",[o,y])]),s(h,"pushPoint",[s(u,"plus",[p,y])]),s(h,"pushPoint",[s(u,"plus",[p,m])]),s(h,"pointHitTest",[t,n]))return!0}}return!1},t.prototype.hitAnyNodeCircles=function(e,t,n){for(var r=0;r<c(c(this,"points"),"length");++r){var i=c(c(this,"points"),r);if(p.inCircle(i,e/2,t,n))return!0}return!1},t}(o.baseClass());t.PolylineTester=f,o.defineClass("0",f,{name:"PolylineTester",properties:[{name:"points",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getObjectType({index:o.getReferenceType("./TypeDefinitions:Point")}),decorators:[]}],methods:[{name:"pushPoint",isPublic:!0,parameterTypes:[o.getReferenceType("./TypeDefinitions:Point")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"hitTest",isPublic:!0,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"hitAnySegments",isPublic:!1,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"hitAnyNodeCircles",isPublic:!1,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]}]}),o=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("framework/ApplianceComponentContainer","1.1.0"),a=o.creator,s=o.getter,c=o.caller;n(23),o.defineType("0",o.getObjectType({properties:{components:o.getObjectType({index:o.getReferenceType("./ApplianceComponent:ApplianceComponent")}),componentsLength:o.getSingletonType(o.TypeEnum.Number)}})),o.defineExport("0","ApplianceComponentContainer");var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.components=a([]),t}return i(t,e),Object.defineProperty(t.prototype,"componentsLength",{get:function(){return s(s(this,"components"),"length")},enumerable:!0,configurable:!0}),t.prototype.componentAt=function(e){return s(s(this,"components"),e)},t.prototype.addComponent=function(e){c(s(this,"components"),"push",[e])},t.prototype.addComponentAt=function(e,t){if(t<0||t>s(s(this,"components"),"length"))throw new Error("index should be 0~"+s(s(this,"components"),"length")+", instead of "+t);c(s(this,"components"),"splice",[t,0,e])},t.prototype.indexOfComponent=function(e){return c(s(this,"components"),"indexOf",[e])},t.prototype.removeComponent=function(e){var t=c(s(this,"components"),"indexOf",[e]);-1!==t&&c(s(this,"components"),"splice",[t,1])},t.prototype.forEachComponents=function(e){c(s(this,"components"),"forEach",[e])},t.prototype.componentsWithFilter=function(e){return c(s(this,"components"),"filter",[e])},t.prototype.findComponentFromBottom=function(e){for(var t=0;t<s(s(this,"components"),"length");++t){var n=s(s(this,"components"),t);if(e(n,t))return n}},t.prototype.findComponentFromTop=function(e){for(var t=s(s(this,"components"),"length")-1;t>=0;--t){var n=s(s(this,"components"),t);if(e(n,t))return n}},t.prototype.removeComponentAt=function(e){if(e<0||e>=s(s(this,"components"),"length"))throw new Error("index should be 0~"+(s(s(this,"components"),"length")-1)+", instead of "+e);return s(c(s(this,"components"),"splice",[e,1]),0)},t}(o.baseClass());t.ApplianceComponentContainer=u,o.defineClass("0",u,{name:"ApplianceComponentContainer",properties:[{name:"components",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getObjectType({index:o.getReferenceType("./ApplianceComponent:ApplianceComponent")}),decorators:[]},{name:"componentsLength",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]}],methods:[{name:"componentAt",isPublic:!0,parameterTypes:[o.getSingletonType(o.TypeEnum.Number)],returnType:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("./ApplianceComponent:ApplianceComponent"),o.getSingletonType(o.TypeEnum.Undefined)]),decorators:[]},{name:"addComponent",isPublic:!0,parameterTypes:[o.getReferenceType("./ApplianceComponent:ApplianceComponent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"addComponentAt",isPublic:!0,parameterTypes:[o.getReferenceType("./ApplianceComponent:ApplianceComponent"),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"indexOfComponent",isPublic:!0,parameterTypes:[o.getReferenceType("./ApplianceComponent:ApplianceComponent")],returnType:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"removeComponent",isPublic:!0,parameterTypes:[o.getReferenceType("./ApplianceComponent:ApplianceComponent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"forEachComponents",isPublic:!0,parameterTypes:[o.getFunctionType()],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"componentsWithFilter",isPublic:!0,parameterTypes:[o.getFunctionType()],returnType:o.getObjectType({index:o.getReferenceType("./ApplianceComponent:ApplianceComponent")}),decorators:[]},{name:"findComponentFromBottom",isPublic:!0,parameterTypes:[o.getFunctionType()],returnType:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("./ApplianceComponent:ApplianceComponent"),o.getSingletonType(o.TypeEnum.Undefined)]),decorators:[]},{name:"findComponentFromTop",isPublic:!0,parameterTypes:[o.getFunctionType()],returnType:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("./ApplianceComponent:ApplianceComponent"),o.getSingletonType(o.TypeEnum.Undefined)]),decorators:[]},{name:"removeComponentAt",isPublic:!0,parameterTypes:[o.getSingletonType(o.TypeEnum.Number)],returnType:o.getReferenceType("./ApplianceComponent:ApplianceComponent"),decorators:[]}]}),o=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__context("impls/types/TextareaTypes","1.1.0");n(4),n(28),r.defineType("0",r.getObjectType({properties:{dx:r.getSingletonType(r.TypeEnum.Number),dy:r.getSingletonType(r.TypeEnum.Number),text:r.getSingletonType(r.TypeEnum.String),textLength:r.getSingletonType(r.TypeEnum.Number)}})),r.defineExport("0","TextareaLine"),r.defineType("1",r.getObjectType({properties:{scale:r.getSingletonType(r.TypeEnum.Number),width:r.getSingletonType(r.TypeEnum.Number),height:r.getSingletonType(r.TypeEnum.Number),originalText:r.getSingletonType(r.TypeEnum.String),textLines:r.getObjectType({index:r.getReferenceType("#0")})}})),r.defineExport("1","TextareaBox"),r.defineType("2",r.getObjectType({properties:{margin:r.getSingletonType(r.TypeEnum.Number),scale:r.getSingletonType(r.TypeEnum.Number),originalText:r.getSingletonType(r.TypeEnum.String),color:r.getReferenceType("../../appState:Color"),textColor:r.getReferenceType("../../appState:Color"),textSize:r.getSingletonType(r.TypeEnum.Number)}})),r.defineExport("2","TextareaEditPayload"),r.defineType("3",r.getObjectType({properties:{margin:r.getSingletonType(r.TypeEnum.Number),editorId:r.getSingletonType(r.TypeEnum.Number),color:r.getReferenceType("../../appState:Color"),textSize:r.getSingletonType(r.TypeEnum.Number),information:r.getCompoundType(r.TypeEnum.Or,[r.getReferenceType("../../framework/MembersManager:MemberInformation"),r.getSingletonType(r.TypeEnum.Undefined)])}})),r.defineExport("3","TextareaStatePayload"),r=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("framework/PptHandler","1.1.0"),a=o.creator,s=o.setter,c=o.getter,u=o.caller,l=n(0);n(0),n(39);var p=n(16);n(16);var f=n(23);n(23),n(1),o.defineType("0",o.getObjectType({properties:{context:o.getReferenceType("./TypeDefinitions:ApplianceContext"),_hasSetPpt:o.getSingletonType(o.TypeEnum.Boolean),_pptImages:o.getObjectType({index:o.getSingletonType(o.TypeEnum.String)}),hasSetPpt:o.getSingletonType(o.TypeEnum.Boolean),pptImages:o.getObjectType({index:o.getSingletonType(o.TypeEnum.String)})}})),o.defineExport("0","PptHandler");var d=function(e){function t(t){var n=e.call(this)||this;return n._hasSetPpt=!1,n._pptImages=a([""]),s(n,"context",t),n}return i(t,e),Object.defineProperty(t.prototype,"hasSetPpt",{get:function(){return c(this,"_hasSetPpt")},enumerable:!0,configurable:!0}),t.prototype.readImageFromScenes=function(e){for(var t=a([]),n=0,r=e;n<r.length;n++){var i=r[n],o=u(i,"componentAt",[0]);u(t,"push",o&&o instanceof h?[c(o,"imageSrc")]:[""])}return t},t.prototype.pushPptPages=function(e){s(this,"_hasSetPpt",!0);var t=c(c(this,"context"),"scenes");u(t,"push",u(e,"map",[function(e){var t=new p.Scene,n=new h(e);return u(t,"addComponentAt",[n,0]),t}]).slice()),s(this,"_pptImages",u(this,"readImageFromScenes",[t]))},t.prototype.insertNewPage=function(e){var t=c(c(this,"context"),"scenes"),n=new p.Scene;u(t,"splice",[e,0,n]),s(this,"_pptImages",u(this,"readImageFromScenes",[t]))},t.prototype.removePage=function(e){var t=c(c(this,"context"),"scenes");if(1===c(t,"length"))u(t,"pop",[]),u(t,"push",[new p.Scene]);else{var n=u(c(this,"context"),"getGlobalState",[]).currentSceneIndex;(e<n||e===n&&e===c(t,"length")-1)&&u(c(this,"context"),"setGlobalState",[a({currentSceneIndex:n-1})]),u(t,"splice",[e,1])}s(this,"_pptImages",u(this,"readImageFromScenes",[t]))},Object.defineProperty(t.prototype,"pptImages",{get:function(){return c(this,"_pptImages")},enumerable:!0,configurable:!0}),t}(o.baseClass());t.PptHandler=d,o.defineClass("0",d,{name:"PptHandler",properties:[{name:"context",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getReferenceType("./TypeDefinitions:ApplianceContext"),decorators:[]},{name:"_hasSetPpt",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"_pptImages",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getObjectType({index:o.getSingletonType(o.TypeEnum.String)}),decorators:[]},{name:"hasSetPpt",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"pptImages",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getObjectType({index:o.getSingletonType(o.TypeEnum.String)}),decorators:[]}],methods:[{name:"readImageFromScenes",isPublic:!1,parameterTypes:[o.getObjectType({index:o.getReferenceType("./Scene:Scene")})],returnType:o.getObjectType({index:o.getSingletonType(o.TypeEnum.String)}),decorators:[]},{name:"pushPptPages",isPublic:!0,parameterTypes:[o.getObjectType({index:o.getReferenceType("./index:PptPage")})],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"insertNewPage",isPublic:!0,parameterTypes:[o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"removePage",isPublic:!0,parameterTypes:[o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]}]}),o.defineType("1",o.getCompoundType(o.TypeEnum.And,[o.getObjectType({properties:{_imageSrc:o.getSingletonType(o.TypeEnum.String),width:o.getSingletonType(o.TypeEnum.Number),height:o.getSingletonType(o.TypeEnum.Number),imageSrc:o.getSingletonType(o.TypeEnum.String)}}),o.getReferenceType("./ApplianceComponent:ApplianceComponent")]));var h=function(e){function t(t){var n=t.src,r=t.width,i=t.height,o=e.call(this)||this;return s(o,"_imageSrc",n),s(o,"width",r),s(o,"height",i),o}return i(t,e),Object.defineProperty(t.prototype,"imageSrc",{get:function(){return c(this,"_imageSrc")},enumerable:!0,configurable:!0}),t.prototype.renderSvg=function(){return l.createElement("image",{key:c(this,"key"),xlinkHref:c(this,"_imageSrc"),x:-c(this,"width")/2,y:-c(this,"height")/2,width:c(this,"width"),height:c(this,"height")})},t}(o.wrapSuperClass(f.ApplianceComponent));o.defineClass("1",h,{superClass:"./ApplianceComponent:ApplianceComponent",name:"BackgroundImage",properties:[{name:"_imageSrc",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.String),decorators:[]},{name:"width",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"height",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"imageSrc",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.String),decorators:[]}],methods:[{name:"renderSvg",isPublic:!0,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.Any),decorators:[]}]}),o=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("impls/Image","1.1.0"),a=o.setter,s=o.getter,c=o.creator,u=n(0);n(0);var l=n(2);n(2),n(10),n(1),o.defineType("0",o.getCompoundType(o.TypeEnum.And,[o.getObjectType({properties:{uuid:o.getSingletonType(o.TypeEnum.String),originX:o.getSingletonType(o.TypeEnum.Number),originY:o.getSingletonType(o.TypeEnum.Number),width:o.getSingletonType(o.TypeEnum.Number),height:o.getSingletonType(o.TypeEnum.Number),imageSrc:o.getCompoundType(o.TypeEnum.Or,[o.getSingletonType(o.TypeEnum.String),o.getSingletonType(o.TypeEnum.Undefined)]),hitTestingBoxMargin:o.getSingletonType(o.TypeEnum.Number),selectable:o.getSingletonType(o.TypeEnum.Boolean)}}),o.getReferenceType("./abstract/Editable:Editable")])),o.defineExport("0","ImageShape");var p=function(e){function t(t,n){var r=e.call(this,t)||this;return r.originX=0,r.originY=0,r.width=0,r.height=0,a(r,"uuid",s(n,"uuid")),a(r,"originX",s(n,"centerX")-s(n,"width")/2),a(r,"originY",s(n,"centerY")-s(n,"height")/2),a(r,"width",s(n,"width")),a(r,"height",s(n,"height")),r}return i(t,e),t.prototype.setImageSrc=function(e){a(this,"imageSrc",e)},Object.defineProperty(t.prototype,"hitTestingBoxMargin",{get:function(){return 4},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectable",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.renderSvgContent=function(){return s(this,"imageSrc")?u.createElement("image",{key:s(this,"key"),preserveAspectRatio:"none meet",xlinkHref:s(this,"imageSrc"),width:s(this,"width"),height:s(this,"height")}):u.createElement("rect",{strokeDasharray:"5,5",key:s(this,"key"),x:0,y:0,width:s(this,"width"),height:s(this,"height"),style:c({stroke:"#EEEEEE",strokeWidth:3,fill:"#F5F5F5",strokeLinejoin:"round",strokeLinecap:"round"})})},t}(o.wrapSuperClass(l.Editable));t.ImageShape=p,o.defineClass("0",p,{superClass:"./abstract/Editable:Editable",name:"ImageShape",properties:[{name:"uuid",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.String),decorators:[]},{name:"originX",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"originY",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"width",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"height",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"imageSrc",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getCompoundType(o.TypeEnum.Or,[o.getSingletonType(o.TypeEnum.String),o.getSingletonType(o.TypeEnum.Undefined)]),decorators:[]},{name:"hitTestingBoxMargin",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Number),decorators:[]},{name:"selectable",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]}],methods:[{name:"setImageSrc",isPublic:!0,parameterTypes:[o.getSingletonType(o.TypeEnum.String)],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"renderSvgContent",isPublic:!0,parameterTypes:[],returnType:o.getCompoundType(o.TypeEnum.Or,[o.getSingletonType(o.TypeEnum.Any),o.getSingletonType(o.TypeEnum.Null)]),decorators:[]}]}),o=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__context("impls/index","1.1.0");n(176),r.exportExternal("./Bundles",{BundleTypes:"BundleTypes"}),n(10),r.exportExternal("./TypeDefinitions",{ImageInformation:"ImageInformation"}),r=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("impls/tools/Gesture","1.1.0"),a=o.getter,s=o.caller,c=o.setter,u=o.creator;n(1),n(10),n(4);o.defineType("0",o.getObjectType({properties:{pressedPoint:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("../TypeDefinitions:Point"),o.getSingletonType(o.TypeEnum.Null)]),dragEventsBuffer:o.getCompoundType(o.TypeEnum.Or,[o.getObjectType({index:o.getReferenceType("../../framework:MouseEvent")}),o.getSingletonType(o.TypeEnum.Null)]),_isLeaving:o.getSingletonType(o.TypeEnum.Boolean),isDragging:o.getSingletonType(o.TypeEnum.Boolean),needBufferDragEvent:o.getSingletonType(o.TypeEnum.Boolean),isPressDown:o.getSingletonType(o.TypeEnum.Boolean),isLeaving:o.getSingletonType(o.TypeEnum.Boolean)}})),o.defineExport("0","Gesture");var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pressedPoint=null,t.dragEventsBuffer=null,t._isLeaving=!1,t}return i(t,e),Object.defineProperty(t.prototype,"isDragging",{get:function(){return!!a(this,"pressedPoint")&&!a(this,"dragEventsBuffer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"needBufferDragEvent",{get:function(){return!!a(this,"dragEventsBuffer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPressDown",{get:function(){return!!a(this,"pressedPoint")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLeaving",{get:function(){return a(this,"_isLeaving")},enumerable:!0,configurable:!0}),t.prototype.onKeyUp=function(e){},t.prototype.onKeyDown=function(e){},t.prototype.onDestroy=function(){},t.prototype.onDraggingStateChanged=function(e){},t.prototype.onDrag=function(e){},t.prototype.onHover=function(e){},t.prototype.onClick=function(e){},t.prototype.makeSureItsDraggingEvent=function(e){return!1},t.prototype.onMemberStateChanged=function(e,t){},t.prototype.onMagixEvent=function(e,t){},t.prototype.onSceneChanged=function(e){},t.prototype.onPressedAndDrag=function(e){a(this,"needBufferDragEvent")?(s(a(this,"dragEventsBuffer"),"push",[e]),s(this,"checkShouldChangeGestureToDrag",[e])):s(this,"invokeCallback",[a(this,"onDrag"),e])},t.prototype.onMouseDown=function(e){c(this,"pressedPoint",u({x:a(e,"x"),y:a(e,"y")})),s(this,"makeSureItsDraggingEvent",[e])?s(this,"invokeCallback",[a(this,"onDraggingStateChanged"),e]):c(this,"dragEventsBuffer",u([])),s(this,"onPressedAndDrag",[e])},t.prototype.onMouseMove=function(e){a(this,"isPressDown")?(c(this,"_isLeaving",!1),s(this,"onPressedAndDrag",[e])):s(this,"invokeCallback",[a(this,"onHover"),e])},t.prototype.onMouseUp=function(e){var t=!1;c(this,"_isLeaving",!1),s(this,"onPressedAndDrag",[e]),a(this,"needBufferDragEvent")&&(c(this,"dragEventsBuffer",null),s(this,"invokeCallback",[a(this,"onClick"),e]),t=!0),c(this,"pressedPoint",null),t||s(this,"invokeCallback",[a(this,"onDraggingStateChanged"),e])},t.prototype.onMouseLeave=function(e){c(this,"_isLeaving",!0),a(this,"isPressDown")&&a(this,"needBufferDragEvent")&&s(this,"checkShouldChangeGestureToDrag",[e])},t.prototype.checkShouldChangeGestureToDrag=function(e){if(s(this,"shouldChangeGestureToDrag",[a(e,"x"),a(e,"y")])){var t=a(this,"dragEventsBuffer");if(c(this,"dragEventsBuffer",null),a(t,"length")>0){var n=t[0];s(this,"invokeCallback",[a(this,"onDraggingStateChanged"),n]);for(var r=0,i=t;r<i.length;r++){var o=i[r];s(this,"invokeCallback",[a(this,"onDrag"),o])}}}},t.prototype.shouldChangeGestureToDrag=function(e,t){var n=a(a(this,"pressedPoint"),"x")-e,r=a(a(this,"pressedPoint"),"y")-t;return 16<n*n+r*r},t.prototype.invokeCallback=function(e,t){try{s(e,"call",[this,t])}catch(e){s(console,"error",[e])}},t}(o.baseClass());t.Gesture=l,o.defineClass("0",l,{name:"Gesture",properties:[{name:"pressedPoint",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getCompoundType(o.TypeEnum.Or,[o.getReferenceType("../TypeDefinitions:Point"),o.getSingletonType(o.TypeEnum.Null)]),decorators:[]},{name:"dragEventsBuffer",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getCompoundType(o.TypeEnum.Or,[o.getObjectType({index:o.getReferenceType("../../framework:MouseEvent")}),o.getSingletonType(o.TypeEnum.Null)]),decorators:[]},{name:"_isLeaving",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"isDragging",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"needBufferDragEvent",isPublic:!1,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"isPressDown",isPublic:!0,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"isLeaving",isPublic:!1,isAccessor:!0,isReadable:!0,isWritable:!1,type:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]}],methods:[{name:"onKeyUp",isPublic:!0,parameterTypes:[o.getReferenceType("../../framework:KeyEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onKeyDown",isPublic:!0,parameterTypes:[o.getReferenceType("../../framework:KeyEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onDestroy",isPublic:!0,parameterTypes:[],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onDraggingStateChanged",isPublic:!1,parameterTypes:[o.getReferenceType("../../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onDrag",isPublic:!1,parameterTypes:[o.getReferenceType("../../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onHover",isPublic:!1,parameterTypes:[o.getReferenceType("../../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onClick",isPublic:!1,parameterTypes:[o.getReferenceType("../../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"makeSureItsDraggingEvent",isPublic:!1,parameterTypes:[o.getReferenceType("../../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"onMemberStateChanged",isPublic:!0,parameterTypes:[o.getReferenceType("../../appState:MemberState"),o.getReferenceType("../../appState:MemberState")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onMagixEvent",isPublic:!0,parameterTypes:[o.getSingletonType(o.TypeEnum.String),o.getSingletonType(o.TypeEnum.Any)],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onSceneChanged",isPublic:!0,parameterTypes:[o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onPressedAndDrag",isPublic:!1,parameterTypes:[o.getReferenceType("../../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onMouseDown",isPublic:!0,parameterTypes:[o.getReferenceType("../../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onMouseMove",isPublic:!0,parameterTypes:[o.getReferenceType("../../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onMouseUp",isPublic:!0,parameterTypes:[o.getReferenceType("../../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"onMouseLeave",isPublic:!0,parameterTypes:[o.getReferenceType("../../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"checkShouldChangeGestureToDrag",isPublic:!1,parameterTypes:[o.getReferenceType("../../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]},{name:"shouldChangeGestureToDrag",isPublic:!1,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"invokeCallback",isPublic:!1,parameterTypes:[o.getFunctionType(),o.getReferenceType("../../framework:MouseEvent")],returnType:o.getSingletonType(o.TypeEnum.Never),decorators:[]}]}),o=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0).__context("impls/EditorRectangleSpace","1.1.0"),s=a.creator,c=a.getter,u=a.setter,l=a.caller,p=n(0);n(0);var f=n(1);n(1),n(2),n(10);var d=n(8);n(8);var h=n(14);n(14);var y,m=n(13);n(13),a.defineType("0",a.getSingletonType(a.TypeEnum.Any)),function(e){e[e.None=0]="None",e[e.LeftTop=1]="LeftTop",e[e.RightTop=2]="RightTop",e[e.RightBottom=3]="RightBottom",e[e.LeftBottom=4]="LeftBottom",e[e.Top=5]="Top",e[e.Right=6]="Right",e[e.Bottom=7]="Bottom",e[e.Left=8]="Left"}(y||(y={})),a.defineType("1",a.getObjectType({properties:{component:a.getReferenceType("./abstract/Editable:Editable"),dx:a.getSingletonType(a.TypeEnum.Number),dy:a.getSingletonType(a.TypeEnum.Number),width:a.getSingletonType(a.TypeEnum.Number),height:a.getSingletonType(a.TypeEnum.Number)}})),a.defineType("2",a.getObjectType({properties:{deltaPoint:a.getReferenceType("./TypeDefinitions:Point"),targetId:a.getSingletonType(a.TypeEnum.String),beginHitPoint:a.getReferenceType("./TypeDefinitions:Point"),startRectangle:a.getReferenceType("./TypeDefinitions:Rectangle"),orientationUnitVector:a.getCompoundType(a.TypeEnum.Or,[a.getReferenceType("./TypeDefinitions:Point"),a.getSingletonType(a.TypeEnum.Undefined)])}})),a.defineType("3",a.getCompoundType(a.TypeEnum.And,[a.getObjectType({properties:{belongsToUserId:a.getSingletonType(a.TypeEnum.Number),isShiftPress:a.getSingletonType(a.TypeEnum.Boolean),context:a.getReferenceType("../framework:ApplianceContext"),rectangle:a.getReferenceType("./TypeDefinitions:Rectangle"),rectangleWithHitMargin:a.getReferenceType("./TypeDefinitions:Rectangle"),operatePoint:a.getSingletonType(a.TypeEnum.Any),isOnlyHasTextareaShape:a.getSingletonType(a.TypeEnum.Boolean),draggingContext:a.getCompoundType(a.TypeEnum.Or,[a.getReferenceType("#2"),a.getSingletonType(a.TypeEnum.Undefined)]),includeComponentNodes:a.getObjectType({index:a.getReferenceType("#1")}),isUniformScale:a.getSingletonType(a.TypeEnum.Boolean)}}),a.getReferenceType("../framework:ApplianceComponent")])),a.defineExport("3","EditorRectangleSpace");var g=function(e){function t(t,n){var r=e.call(this)||this;return r.isShiftPress=!1,r.rectangle=s({x:0,y:0,width:0,height:0}),r.rectangleWithHitMargin=s({x:0,y:0,width:0,height:0}),r.operatePoint=c(y,"None"),r.isOnlyHasTextareaShape=!1,r.includeComponentNodes=s([]),u(r,"context",t),u(r,"belongsToUserId",n),r}return i(t,e),Object.defineProperty(t.prototype,"isUniformScale",{get:function(){if(c(this,"draggingContext"))switch(c(c(this,"draggingContext"),"targetId")){case"T":case"B":case"L":case"R":return!1}return c(this,"isShiftPress")||c(this,"isOnlyHasTextareaShape")},enumerable:!0,configurable:!0}),t.prototype.tryToStartEdit=function(e,t,n){var r=c(n,c(this,"key"));if(r){var i=l(this,"findOperationPointWithTargetId",[r]),a=i.x,p=i.y,f=i.point;return u(this,"operatePoint",f),u(this,"draggingContext",s({targetId:r,startRectangle:s(o({},c(this,"rectangle"))),beginHitPoint:s({x:e,y:t}),deltaPoint:s({x:a-e,y:p-t})})),!0}return!1},t.prototype.isIncludePoint=function(e,t){return l(m.RectangleTester,"test",[c(c(this,"rectangle"),"x"),c(c(this,"rectangle"),"y"),c(c(this,"rectangle"),"width"),c(c(this,"rectangle"),"height"),e,t])},t.prototype.findOperationPointWithTargetId=function(e){switch(e){case"LT":return s({x:c(c(this,"rectangle"),"x"),y:c(c(this,"rectangle"),"y"),point:c(y,"LeftTop")});case"RT":return s({x:c(c(this,"rectangle"),"x")+c(c(this,"rectangle"),"width"),y:c(c(this,"rectangle"),"y"),point:c(y,"RightTop")});case"LB":return s({x:c(c(this,"rectangle"),"x"),y:c(c(this,"rectangle"),"y")+c(c(this,"rectangle"),"height"),point:c(y,"LeftBottom")});case"RB":return s({x:c(c(this,"rectangle"),"x")+c(c(this,"rectangle"),"width"),y:c(c(this,"rectangle"),"y")+c(c(this,"rectangle"),"height"),point:c(y,"RightBottom")});case"T":return s({x:c(c(this,"rectangle"),"x")+c(c(this,"rectangle"),"width")/2,y:c(c(this,"rectangle"),"y"),point:c(y,"Top")});case"R":return s({x:c(c(this,"rectangle"),"x")+c(c(this,"rectangle"),"width"),y:c(c(this,"rectangle"),"y")+c(c(this,"rectangle"),"height")/2,point:c(y,"Right")});case"B":return s({x:c(c(this,"rectangle"),"x")+c(c(this,"rectangle"),"width")/2,y:c(c(this,"rectangle"),"y")+c(c(this,"rectangle"),"height"),point:c(y,"Bottom")});case"L":return s({x:c(c(this,"rectangle"),"x"),y:c(c(this,"rectangle"),"y")+c(c(this,"rectangle"),"height")/2,point:c(y,"Left")})}throw new Error('unrecognized targetId of EditorRectangleSpace "'+e+'"')},t.prototype.dragToPoint=function(e,t){var n=l(this,"findDraggingTargetPoint",[e,t]);l(this,"updateRectangleWithDraggingTargetPoint",[n]),l(this,"refreshIncludesComponentsPositionAndSize",[]),l(this,"refreshRectangleWithHitMargin",[])},t.prototype.findDraggingTargetPoint=function(e,t){var n=c(this,"draggingContext"),r=n.deltaPoint,i=n.beginHitPoint,o=n.startRectangle,a=e+c(r,"x"),p=t+c(r,"y");if(c(this,"isUniformScale")){var f=c(o,"x")+c(o,"width")/2,d=c(o,"y")+c(o,"height")/2;if(!c(c(this,"draggingContext"),"orientationUnitVector")){var h=c(i,"x")+c(r,"x")-f,y=c(i,"y")+c(r,"y")-d,m=l(Math,"sqrt",[h*h+y*y]);u(c(this,"draggingContext"),"orientationUnitVector",s(0!==m?{x:h/m,y:y/m}:{x:1,y:1}))}var g=c(c(this,"draggingContext"),"orientationUnitVector"),v=p-d,b=(a-f)*c(g,"x")+v*c(g,"y");a=f+b*c(g,"x"),p=d+b*c(g,"y")}return s({x:a,y:p})},t.prototype.updateRectangleWithDraggingTargetPoint=function(e){var t=e.x,n=e.y,r=c(this,"draggingContext").startRectangle,i=c(r,"x"),o=c(r,"y"),a=c(r,"x")+c(r,"width"),s=c(r,"y")+c(r,"height");switch(c(this,"operatePoint")){case c(y,"LeftTop"):i=t,o=n;break;case c(y,"RightTop"):a=t,o=n;break;case c(y,"RightBottom"):a=t,s=n;break;case c(y,"LeftBottom"):i=t,s=n;break;case c(y,"Top"):o=n;break;case c(y,"Right"):a=t;break;case c(y,"Bottom"):s=n;break;case c(y,"Left"):i=t}u(c(this,"rectangle"),"x",l(Math,"min",[i,a])),u(c(this,"rectangle"),"y",l(Math,"min",[o,s])),u(c(this,"rectangle"),"width",l(Math,"abs",[i-a])),u(c(this,"rectangle"),"height",l(Math,"abs",[o-s]))},t.prototype.refreshIncludesComponentsPositionAndSize=function(){for(var e=0,t=c(this,"includeComponentNodes");e<t.length;e++){var n=t[e],r=n.component,i=n.dx,o=n.dy,a=n.width,s=n.height;u(r,"originX",c(c(this,"rectangle"),"x")+i*c(c(this,"rectangle"),"width")),u(r,"originY",c(c(this,"rectangle"),"y")+o*c(c(this,"rectangle"),"height")),u(r,"width",a*c(c(this,"rectangle"),"width")),u(r,"height",s*c(c(this,"rectangle"),"height")),!c(this,"isOnlyHasTextareaShape")&&r instanceof h.TextareaShape&&l(r,"adjustToKeepUniformScale",[])}},t.prototype.completeEdit=function(){u(this,"operatePoint",c(y,"None")),u(this,"draggingContext",void 0)},t.prototype.refreshWithIncludesComponents=function(e){var t=this;u(this,"rectangle",l(this,"findRectangleIncludePoints",[function(t){for(var n=0,r=e;n<r.length;n++){var i=r[n];t(c(i,"originX"),c(i,"originY")),t(c(i,"originX")+c(i,"width"),c(i,"originY")+c(i,"height"))}}])),u(this,"includeComponentNodes",l(e,"map",[function(e){var n,r,i,o;return 0!==c(c(t,"rectangle"),"width")?(n=(c(e,"originX")-c(c(t,"rectangle"),"x"))/c(c(t,"rectangle"),"width"),i=c(e,"width")/c(c(t,"rectangle"),"width")):(n=0,i=1),0!==c(c(t,"rectangle"),"height")?(r=(c(e,"originY")-c(c(t,"rectangle"),"y"))/c(c(t,"rectangle"),"height"),o=c(e,"height")/c(c(t,"rectangle"),"height")):(r=0,o=1),s({dx:n,dy:r,width:i,height:o,component:e})}])),l(this,"refreshRectangleWithHitMargin",[])},t.prototype.refreshRectangleWithHitMargin=function(){var e=this;u(this,"isOnlyHasTextareaShape",!l(c(this,"includeComponentNodes"),"some",[function(e){return!(c(e,"component")instanceof h.TextareaShape)}])),u(this,"rectangleWithHitMargin",l(this,"findRectangleIncludePoints",[function(t){for(var n=0,r=c(e,"includeComponentNodes");n<r.length;n++){var i=r[n].component,o=c(i,"hitTestingBoxMargin");t(c(i,"originX")-o,c(i,"originY")-o),t(c(i,"originX")+c(i,"width")+o,c(i,"originY")+c(i,"height")+o)}}]))},t.prototype.findRectangleIncludePoints=function(e){var t=c(Number,"MIN_SAFE_INTEGER"),n=c(Number,"MIN_SAFE_INTEGER"),r=c(Number,"MAX_SAFE_INTEGER"),i=c(Number,"MAX_SAFE_INTEGER");return e(function(e,o){t=l(Math,"max",[t,e]),r=l(Math,"min",[r,e]),n=l(Math,"max",[n,o]),i=l(Math,"min",[i,o])}),s({x:r,y:i,width:t-r,height:n-i})},t.prototype.renderTagBoxes=function(){var e=s({isDragging:!!c(this,"draggingContext"),isUniformScale:c(this,"isUniformScale"),belongs:c(this,"belongsToUserId")===c(p.getContext(),"observerId")?c(d.BelongsTo,"Me"):c(d.BelongsTo,"Others"),color:c(l(c(this,"context"),"getMemberState",[c(this,"belongsToUserId")]),"strokeColor")});return s({key:c(this,"key"),type:"editor",payload:e,left:c(c(this,"rectangleWithHitMargin"),"x"),top:c(c(this,"rectangleWithHitMargin"),"y"),right:c(c(this,"rectangleWithHitMargin"),"x")+c(c(this,"rectangleWithHitMargin"),"width"),bottom:c(c(this,"rectangleWithHitMargin"),"y")+c(c(this,"rectangleWithHitMargin"),"height")})},t}(a.wrapSuperClass(f.ApplianceComponent));t.EditorRectangleSpace=g,a.defineClass("3",g,{superClass:"../framework:ApplianceComponent",name:"EditorRectangleSpace",properties:[{name:"belongsToUserId",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!1,type:a.getSingletonType(a.TypeEnum.Number),decorators:[]},{name:"isShiftPress",isPublic:!0,isAccessor:!1,isReadable:!0,isWritable:!0,type:a.getSingletonType(a.TypeEnum.Boolean),decorators:[]},{name:"context",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!1,type:a.getReferenceType("../framework:ApplianceContext"),decorators:[]},{name:"rectangle",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:a.getReferenceType("./TypeDefinitions:Rectangle"),decorators:[]},{name:"rectangleWithHitMargin",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:a.getReferenceType("./TypeDefinitions:Rectangle"),decorators:[]},{name:"operatePoint",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:a.getSingletonType(a.TypeEnum.Any),decorators:[]},{name:"isOnlyHasTextareaShape",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:a.getSingletonType(a.TypeEnum.Boolean),decorators:[]},{name:"draggingContext",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:a.getCompoundType(a.TypeEnum.Or,[a.getReferenceType("#2"),a.getSingletonType(a.TypeEnum.Undefined)]),decorators:[]},{name:"includeComponentNodes",isPublic:!1,isAccessor:!1,isReadable:!0,isWritable:!0,type:a.getObjectType({index:a.getReferenceType("#1")}),decorators:[]},{name:"isUniformScale",isPublic:!1,isAccessor:!0,isReadable:!0,isWritable:!1,type:a.getSingletonType(a.TypeEnum.Boolean),decorators:[]}],methods:[{name:"tryToStartEdit",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Number),a.getReferenceType("../framework:TargetsMap")],returnType:a.getSingletonType(a.TypeEnum.Boolean),decorators:[]},{name:"isIncludePoint",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Number)],returnType:a.getSingletonType(a.TypeEnum.Boolean),decorators:[]},{name:"findOperationPointWithTargetId",isPublic:!1,parameterTypes:[a.getSingletonType(a.TypeEnum.String)],returnType:a.getCompoundType(a.TypeEnum.And,[a.getReferenceType("./TypeDefinitions:Point"),a.getObjectType({properties:{point:a.getSingletonType(a.TypeEnum.Any)}})]),decorators:[]},{name:"dragToPoint",isPublic:!0,parameterTypes:[a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Number)],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"findDraggingTargetPoint",isPublic:!1,parameterTypes:[a.getSingletonType(a.TypeEnum.Number),a.getSingletonType(a.TypeEnum.Number)],returnType:a.getReferenceType("./TypeDefinitions:Point"),decorators:[]},{name:"updateRectangleWithDraggingTargetPoint",isPublic:!1,parameterTypes:[a.getReferenceType("./TypeDefinitions:Point")],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"refreshIncludesComponentsPositionAndSize",isPublic:!1,parameterTypes:[],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"completeEdit",isPublic:!0,parameterTypes:[],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"refreshWithIncludesComponents",isPublic:!0,parameterTypes:[a.getObjectType({index:a.getReferenceType("./abstract/Editable:Editable")})],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"refreshRectangleWithHitMargin",isPublic:!1,parameterTypes:[],returnType:a.getSingletonType(a.TypeEnum.Never),decorators:[]},{name:"findRectangleIncludePoints",isPublic:!1,parameterTypes:[a.getFunctionType()],returnType:a.getReferenceType("./TypeDefinitions:Rectangle"),decorators:[]},{name:"renderTagBoxes",isPublic:!0,parameterTypes:[],returnType:a.getCompoundType(a.TypeEnum.Or,[a.getReferenceType("../framework:TagBox"),a.getSingletonType(a.TypeEnum.Null)]),decorators:[]}]}),a=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("hittest/EllipseTester","1.1.0"),a=o.getter,s=o.caller,c=n(9);n(9);var u=n(13);n(13),o.defineType("0",o.getObjectType({})),o.defineExport("0","EllipseTester");var l=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.circleCenterX=t,o.circleCenterY=n,o.width=r,o.height=i,o}return i(t,e),t.prototype.pointHitTest=function(e,t){return(e=(e-a(this,"circleCenterX"))/a(this,"width")*2)*e+(t=(t-a(this,"circleCenterY"))/a(this,"height")*2)*t<=1},t.prototype.rectHitTest=function(e,t,n,r){var i=this,o=!1,l=!1;if(s(u.RectangleTester,"iterate",[e,t,n,r,function(e,t){s(i,"pointHitTest",[e,t])?o=!0:l=!0}]),o&&l)return a(c.RectangleTestingResult,"Cross");if(o)return a(c.RectangleTestingResult,"IncludeRectangle");if(l){for(var p=s(u.RectangleTester,"allPoints",[e,t,n,r]),f=0;f<a(p,"length");++f){var d=a(p,f),h=a(p,(f+1)%a(p,"length"));if(a(d,"x")===a(h,"x")){if(s(this,"checkCrossVertical",[a(d,"x"),a(d,"y"),a(h,"y")]))return a(c.RectangleTestingResult,"Cross")}else if(s(this,"checkCrossHorizontal",[a(d,"y"),a(d,"x"),a(h,"x")]))return a(c.RectangleTestingResult,"Cross")}if(s(u.RectangleTester,"test",[e,t,n,r,a(this,"circleCenterX"),a(this,"circleCenterY")]))return a(c.RectangleTestingResult,"IncludeByRectangle")}return a(c.RectangleTestingResult,"Disjoint")},t.prototype.checkCrossVertical=function(e,t,n){return e=(e-a(this,"circleCenterX"))/a(this,"width")*2,t=(t-a(this,"circleCenterY"))/a(this,"height")*2,n=(n-a(this,"circleCenterY"))/a(this,"height")*2,s(this,"checkCrossGeometrical",[s(Math,"abs",[e]),t,n])},t.prototype.checkCrossHorizontal=function(e,t,n){return e=(e-a(this,"circleCenterY"))/a(this,"height")*2,t=(t-a(this,"circleCenterX"))/a(this,"width")*2,n=(n-a(this,"circleCenterX"))/a(this,"width")*2,s(this,"checkCrossGeometrical",[s(Math,"abs",[e]),t,n])},t.prototype.checkCrossGeometrical=function(e,t,n){if(e>1)return!1;var r=s(Math,"sqrt",[1-e*e]),i=s(Math,"max",[t,n]),o=s(Math,"min",[t,n]);return i>=r&&r>=o||i>=-r&&-r>=o},t}(o.baseClass());t.EllipseTester=l,o.defineClass("0",l,{name:"EllipseTester",properties:[],methods:[{name:"pointHitTest",isPublic:!0,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"rectHitTest",isPublic:!0,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getReferenceType("./TypeDefinitions:RectangleTestingResult"),decorators:[]},{name:"checkCrossVertical",isPublic:!1,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"checkCrossHorizontal",isPublic:!1,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]},{name:"checkCrossGeometrical",isPublic:!1,parameterTypes:[o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number),o.getSingletonType(o.TypeEnum.Number)],returnType:o.getSingletonType(o.TypeEnum.Boolean),decorators:[]}]}),o=null},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0).__context("impls/algorithm/DouglasPeucker","1.1.0"),o=i.creator,a=i.setter,s=i.getter,c=i.caller;function u(e,t,n){return(s(n,"x")-s(e,"x"))*s(t,"x")+(s(n,"y")-s(e,"y"))*s(t,"y")}n(10),i.defineType("0",i.getObjectType({properties:{points:i.getObjectType({index:i.getReferenceType("../TypeDefinitions:Point")}),threshold:i.getSingletonType(i.TypeEnum.Number),beginIndex:i.getSingletonType(i.TypeEnum.Number),endIndex:i.getSingletonType(i.TypeEnum.Number)}})),i.defineExport("0","DouglasPeuckerParams"),t.pointsWithDouglasPeucker=function(e){for(var t=e.points,n=e.threshold,i=e.beginIndex,l=e.endIndex,p=o([]),f=o([]),d=i;d<=l;++d)a(f,d,!1);for(function e(t,n,r,i,l){var p=l-i+1;if(p>2){for(var f=s(t,i),d=s(t,l),h=function(e,t){var n=o({x:-t,y:e}),r=c(Math,"sqrt",[s(n,"x")*s(n,"x")+s(n,"y")*s(n,"y")]);return a(n,"x",s(n,"x")/r),a(n,"y",s(n,"y")/r),n}(s(d,"x")-s(f,"x"),s(d,"y")-s(f,"y")),y=-1,m=s(Number,"NEGATIVE_INFINITY"),g=i+1;g<l;++g){var v=s(t,g),b=u(f,h,v),T=c(Math,"abs",[b]);T>m&&(y=g,m=T)}if(m>r)e(t,n,r,i,y),e(t,n,r,y,l);else for(var g=i+1;g<l;++g)a(n,g,!0)}}(t,f,n,i,l),d=i;d<=l;++d)s(f,d)||c(p,"push",[o(r({},s(t,d)))]);return p},i=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__context("TypeDefinitions","1.1.0");n(8),r.exportExternal("./impls/types"),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(8)),n(4),r.exportExternal("./appState",{Color:"Color",GlobalState:"GlobalState",MemberState:"MemberState",ViewState:"ViewState",ViewMode:"ViewMode"});var i=n(4);t.ViewMode=i.ViewMode,n(99),r.exportExternal("./impls",{BundleTypes:"BundleTypes",ImageInformation:"ImageInformation"}),n(1),r.exportExternal("./framework",{TagBox:"TagBox",MemberInformation:"MemberInformation",MemberDisplayer:"MemberDisplayer",TargetsMap:"TargetsMap",MouseEvent:"MouseEvent",KeyEvent:"KeyEvent",PptPage:"PptPage"}),r=null},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(106),o=n(181),a=n(107),s=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=i.TypesMap.create.apply(i.TypesMap,e);this.eventTypesMap=a.SessionChannel.sessionEventTypesMap.extendsTypesMap(n)}return e.prototype.create=function(t,n){return void 0===n&&(n={}),new o.AkkoSocketImplement(t,this.eventTypesMap,r({},e.defaultSocketParams,n))},e.defaultSocketParams=Object.freeze({heartbeatInterval:6e3,heartbeatTimeout:12e3,sendingBufferLimit:524288,onDisconnect:function(){},onDisconnectWithError:function(){},onPhaseChanged:function(){}}),e}();t.AkkoSocketFactory=s,function(e){e.Connecting="connecting",e.Connected="connected",e.Disconnecting="disconnecting",e.Disconnected="disconnected"}(t.AkkoSocketPhase||(t.AkkoSocketPhase={})),function(e){e.Normal="normal",e.WebSocketError="webSocketError",e.CommunicationError="communicationError",e.RemoteError="remoteError"}(t.AkkoSocketDisconnectReason||(t.AkkoSocketDisconnectReason={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){if(this.typeToIndexMap={},e.length>256)throw new Error("TypesMap can't only support more than 256 types");this.types=Object.freeze(e),this.typeToIndexMap=Object.freeze(this.createTypeToIndexMap(this.types))}return e.create=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new e(t.sort())},e.prototype.createTypeToIndexMap=function(e){for(var t={},n=0;n<e.length;++n){var r=e[n];if(r in t)throw new Error('find duplicated type "'+r+' in parameters of new TypesMap(...)"');t[r]=n}return t},e.prototype.findTypeId=function(e){var t=this.typeToIndexMap[e];if(void 0===t)throw new Error("can't find id with type "+e);return t},e.prototype.findTypeById=function(e){var t=this.types[e];if(!t)throw new Error("can't find type with id "+e);return t},e.prototype.extendsTypesMap=function(t){return new e(this.types.concat(t.types))},e}();t.TypesMap=r},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(106),o=n(183),a=n(184),s=["heartbeat","setHeartbeatTimeout","close"],c=function(){function e(e,t,n,i){var c=this;this.remoteHeartbeatTimeout=void 0,this.crashByChannelError=!1,this.isWorking=!1,this.sendHeartbeat=function(){c.isWorking&&(c.sendHeartbeatDelayer.refreshAndInvokeAfterInterval(c.akkoSocket.params.heartbeatInterval),c.chanel.sendPackage("heartbeat"))},this.handleRemoteHeartbeatTimeout=function(){c.crashByChannelError||(c.crashByChannelError=!0,c.callbacks.onRemoteHeartbeatTimeout())},this.onReceivedPackage=function(e){if(!c.crashByChannelError)try{if(-1===s.indexOf(e.type))c.callbacks.onEvent(e.type,e.data);else if("setHeartbeatTimeout"===e.type)"number"===typeof e.data&&e.data>0?c.remoteHeartbeatTimeout=e.data:console.warn("illegal remote heartbeat timeout: "+e.data);else if("close"===e.type){var t=void 0;if("string"===typeof e.data)try{t=JSON.parse(e.data)}catch(e){console.warn("parse close payload as JSON failed: "+e.message)}c.callbacks.onCloseByRemote(t)}}finally{c.delayRemoteHeartbeatTimeoutChecking()}},this.akkoSocket=e,this.chanel=new o.PackagesChannel(n,t,this.onReceivedPackage),this.callbacks=Object.freeze(r({},i)),this.sendHeartbeatDelayer=new a.Delayer(this.sendHeartbeat),this.remoteHeartbeatTimeoutDelayer=new a.Delayer(this.handleRemoteHeartbeatTimeout)}return e.prototype.send=function(e,t){if(this.isWorking){if(this.didBufferedAmountOverflow())throw this.crashByChannelError||(this.crashByChannelError=!0,this.callbacks.onSendingBufferOverflow()),new Error("sending buffer overflow");this.sendHeartbeatDelayer.refreshAndInvokeAfterInterval(this.akkoSocket.params.heartbeatInterval),this.chanel.sendPackage(e,t)}},e.prototype.didBufferedAmountOverflow=function(){return this.chanel.bufferedAmount>this.akkoSocket.params.sendingBufferLimit+this.chanel.maxPackageBytesInLatestThree},e.prototype.dispatchClose=function(e){var t=JSON.stringify(e);this.chanel.sendPackage("close",t)},e.prototype.start=function(){this.isWorking||(this.isWorking=!0,this.delayRemoteHeartbeatTimeoutChecking(),this.sendHeartbeatDelayer.refreshAndInvokeAfterInterval(this.akkoSocket.params.heartbeatInterval),this.chanel.sendPackage("setHeartbeatTimeout",this.akkoSocket.params.heartbeatTimeout))},e.prototype.stop=function(){this.isWorking&&(this.isWorking=!1,this.sendHeartbeatDelayer.cancel(),this.remoteHeartbeatTimeoutDelayer.cancel(),this.remoteHeartbeatTimeout=void 0)},e.prototype.delayRemoteHeartbeatTimeoutChecking=function(){void 0===this.remoteHeartbeatTimeout?this.remoteHeartbeatTimeoutDelayer.refreshAndInvokeAfterInterval(this.akkoSocket.params.heartbeatTimeout):this.remoteHeartbeatTimeoutDelayer.refreshAndInvokeAfterInterval(this.remoteHeartbeatTimeout)},e.sessionEventTypesMap=i.TypesMap.create.apply(i.TypesMap,s),e}();t.SessionChannel=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.WaitingData="waitingData",e.Playing="playing",e.Pause="pause",e.Buffering="buffering",e.Seeking="seeking"}(t.MediaPlayerPhase||(t.MediaPlayerPhase={}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(3);t.createPropsSyncNode=function(e){return new a(e)},t.wrapPropsSyncNodeReceivableComponent=function(e){return function(t){function n(e){var n=t.call(this,e)||this;return n.updateProps=function(e){n.setState(e)},n.propsSyncNode=e.propsSyncNode,n.state=Object.assign({},e,n.propsSyncNode.props),n}return i(n,t),n.prototype.componentWillReceiveProps=function(e){if(this.propsSyncNode!==e.propsSyncNode)throw new Error("can not change propsSyncNode in props");this.setState(Object.assign({},e,this.propsSyncNode.props))},n.prototype.componentWillMount=function(){this.propsSyncNode.addListener(this.updateProps)},n.prototype.componentWillUnmount=function(){this.propsSyncNode.removeListener(this.updateProps)},n.prototype.render=function(){return o.createElement(e,this.state)},n}(o.Component)};var a=function(){function e(e){this.listeners=[],this._props=Object.assign({},e)}return Object.defineProperty(e.prototype,"props",{get:function(){return this._props},enumerable:!0,configurable:!0}),e.prototype.setProps=function(e){this._props=Object.assign({},this._props,e);for(var t=0,n=this.listeners;t<n.length;t++){(0,n[t])(e)}},e.prototype.addListener=function(e){this.listeners.push(e)},e.prototype.removeListener=function(e){var t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.width=e,this.height=t,this.contentLength=e*t}return e.prototype.create=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(e.length>this.contentLength&&(e=e.splice(0,this.contentLength));e.length<this.contentLength;)e.push(0);return new i(this.width,this.height,e)},e.prototype.createByGenerator=function(e){for(var t=0,n=[],r=0;r<this.height;++r)for(var o=0;o<this.width;++o)n[t]=e(t,o,r),t++;return new i(this.width,this.height,n)},e.prototype.E=function(){if(this.width!==this.height)throw new Error("width is not equals to height");return this.createByGenerator(function(e,t,n){return t===n?1:0})},e}();t.MatrixFactory=r,t.Matrix2D=new r(2,2),t.Matrix3D=new r(3,3),t.Vector2D=new r(1,2),t.Vector3D=new r(1,3);var i=function(){function e(e,t,n){this.width=e,this.height=t,this.content=n}return e.prototype.clone=function(){if(this.content.find(function(e){return Number.isNaN(e)}))throw new Error("find value who isn't a number in matrix");return new e(this.width,this.height,this.content.slice())},e.prototype.get=function(e,t){return this.isOutOfRange(e,t)?NaN:this.content[e+t*this.width]},e.prototype.set=function(e,t,n){if(Number.isNaN(n))throw Error("can't set not number value at ("+e+", "+t+")");this.isOutOfRange(e,t)||(this.content[e+t*this.width]=n)},e.prototype.toArray=function(){return this.content.slice()},e.prototype.forEach=function(e){for(var t=0,n=0;n<this.height;++n)for(var r=0;r<this.width;++r)e(this.content[t],t,r,n),t++},e.prototype.isOutOfRange=function(e,t){return e<0||e>this.width||(t<0||t>this.height)},e.plus=function(t,n){if(t.width!==n.width||t.height!==n.height)throw new Error("Matrix size not match");var r=[];return t.forEach(function(e,t,i,o){return r[t]=e+n.get(i,o)}),new e(t.width,t.height,r)},e.inverseOf3D=function(e){var n=t.Matrix3D.create(),r=1/(e.get(0,0)*(e.get(1,1)*e.get(2,2)-e.get(2,1)*e.get(1,2))-e.get(0,1)*(e.get(1,0)*e.get(2,2)-e.get(2,0)*e.get(1,2))+e.get(0,2)*(e.get(1,0)*e.get(2,1)-e.get(2,0)*e.get(1,1)));if(r===1/0)throw new Error("magix doesn't have inverse");return n.set(0,0,r*(e.get(1,1)*e.get(2,2)-e.get(2,1)*e.get(1,2))),n.set(0,1,r*(e.get(2,1)*e.get(0,2)-e.get(0,1)*e.get(2,2))),n.set(0,2,r*(e.get(0,1)*e.get(1,2)-e.get(1,1)*e.get(0,2))),n.set(1,0,r*(e.get(2,0)*e.get(1,2)-e.get(1,0)*e.get(2,2))),n.set(1,1,r*(e.get(0,0)*e.get(2,2)-e.get(2,0)*e.get(0,2))),n.set(1,2,r*(e.get(1,0)*e.get(0,2)-e.get(0,0)*e.get(1,2))),n.set(2,0,r*(e.get(1,0)*e.get(2,1)-e.get(2,0)*e.get(1,1))),n.set(2,1,r*(e.get(0,1)*e.get(2,0)-e.get(0,0)*e.get(2,1))),n.set(2,2,r*(e.get(0,0)*e.get(1,1)-e.get(0,1)*e.get(1,0))),n},e.multiply=function(e,t){if(e.height!==t.width)throw new Error("matrix1's height is not match matrix2's width");var n=e.width,i=t.height,o=e.height;return new r(n,i).createByGenerator(function(n,r,i){for(var a=0,s=0;s<o;++s)a+=e.get(r,s)*t.get(s,i);return a})},e.prototype.toString=function(){for(var e=[],t=0,n=0;n<this.height;++n)for(var r=e[n]=[],i=0;i<this.width;++i)r.push(this.content[t]),t++;return"{\n"+e.map(function(e){return"\t"+e.map(function(e){return Math.ceil(100*e)/100}).join("\t")}).join("\n")+"\n}"},e}();t.Matrix=i},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(197),o=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.configurations=Object.freeze(e.map(function(e){return Object.freeze(r({},e))}))}return e.prototype.create=function(e,t){return new a(this.configurations.slice(),e,t)},e}();t.SpaceSpringFactory=o;var a=function(){function e(t,n,r,o){var a=this;this.animationTickGen=n,this._point=r,this.onPointUpdate=o,this.completeTick=!1,this.updateIdealPoint=function(t){e.setPoint(a.idealPoint,t),!a.animationTickGen.onTick&&a.shouldContinueMoving()&&(a.animationTickGen.onTick=a.onTick),a.completeTick=!1},this.onTick=function(){a.completeTick?a.stop():(a.executePhysicalSimulate(),a.onPointUpdate&&a.onPointUpdate(a._point),a.shouldContinueMoving()||(a.completeTick=!0))},this.configuration=t.splice(0,1)[0],this._point=r.slice(),this.idealPoint=r.slice(),this.velocity=r.map(function(){return 0}),t.length>0&&(this.guider=new e(t,n.createChildTickBeforeMe(),r,this.updateIdealPoint));var s=this.configuration.pedesisSpeedMean,c=this.configuration.pedesisSpeedVariance;this.gaussian=0!==s&&0!==c?i.gaussian(s,c):null,this.noPedesisRadius=(s+Math.sqrt(c))*e.noPedesisRadiusRate}return Object.defineProperty(e.prototype,"point",{get:function(){return this._point},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlayingAnimation",{get:function(){return!!this.animationTickGen.onTick},enumerable:!0,configurable:!0}),e.prototype.moveRightNow=function(t){this.guider&&this.guider.moveRightNow(t),e.setPoint(this.idealPoint,t),e.setPoint(this._point,t),e.setPointZero(this.velocity),this.animationTickGen.onTick=void 0,this.completeTick=!1},e.prototype.moveTo=function(e){this.guider?this.guider.moveTo(e):this.updateIdealPoint(e)},e.prototype.moveToAndChangeCoordinate=function(e,t){for(var n=0;n<this._point.length;++n)this._point[n]+=e[n];this.guider?this.guider.moveToAndChangeCoordinate(e,t):this.updateIdealPoint(t)},e.prototype.stop=function(){e.setPoint(this.idealPoint,this._point),e.setPointZero(this.velocity),this.animationTickGen.onTick=void 0,this.completeTick=!1},e.prototype.executePhysicalSimulate=function(){for(var e=this.squareDistanceToIdealPoint(),t=this.velocityDamping(e),n=e>this.noPedesisRadius*this.noPedesisRadius,r=0;r<this._point.length;++r){var i=this.idealPoint[r]-this._point[r],o=this.configuration.kDistance*i;if(this.velocity[r]+=o,n&&this.gaussian){var a=this.gaussian.ppf(Math.random());Math.random()>=.5&&(a=-a),this.velocity[r]+=a}this._point[r]+=this.velocity[r],this.velocity[r]*=1-t}},e.prototype.velocityDamping=function(e){for(var t=0,n=0;n<this.velocity.length;++n)t+=this.velocity[n]*this.velocity[n];var r=this.configuration,i=r.heavyDampingRadius,o=r.heavyDampingSpeed;return t<o*o||e>i*i?this.configuration.velocityDamping:Math.min(1,t*this.configuration.velocityDamping)},e.prototype.squareDistanceToIdealPoint=function(){for(var e=0,t=0;t<this.velocity.length;++t){var n=this.idealPoint[t]-this._point[t];e+=n*n}return e},e.prototype.shouldContinueMoving=function(){for(var e=0;e<this._point.length;++e){if(Math.abs(this._point[e]-this.idealPoint[e])>this.configuration.matchingDistance)return!0;if(Math.abs(this.velocity[e])>this.configuration.zeroSpeed)return!0}return!1},e.setPoint=function(e,t){for(var n=0;n<e.length;++n)e[n]=n in t?t[n]:0},e.setPointZero=function(e){for(var t=0;t<e.length;++t)e[t]=0},e.noPedesisRadiusRate=2.7,e}();t.SpaceSpring=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(111),i=function(){function e(t,n){this.referPoint=[],this.referPoint[0]=n.centerX,this.referPoint[1]=n.centerY,this.referPoint[2]=n.scale*e.kScale,this.spaceSpring=e.spaceSpringFactory.create(t,[0,0,0])}return e.prototype.stop=function(){this.spaceSpring.stop()},Object.defineProperty(e.prototype,"view",{get:function(){var t=this.spaceSpring.point,n=Math.max(0,this.referPoint[2]+t[2]);return{centerX:this.referPoint[0]+t[0],centerY:this.referPoint[1]+t[1],scale:n/e.kScale}},enumerable:!0,configurable:!0}),e.prototype.moveToView=function(t){var n=[this.referPoint[0]-t.centerX,this.referPoint[1]-t.centerY,this.referPoint[2]-t.scale*e.kScale];this.referPoint[0]=t.centerX,this.referPoint[1]=t.centerY,this.referPoint[2]=t.scale*e.kScale,this.spaceSpring.moveToAndChangeCoordinate(n,[0,0,0])},e.prototype.moveToRightNow=function(t){this.referPoint[0]=t.centerX,this.referPoint[1]=t.centerY,this.referPoint[2]=t.scale*e.kScale,this.spaceSpring.moveRightNow([0,0,0])},e.kScale=700,e.spaceSpringFactory=new r.SpaceSpringFactory({matchingDistance:2,zeroSpeed:.55,kDistance:.17,velocityDamping:.55,heavyDampingRadius:15,heavyDampingSpeed:.25,pedesisSpeedMean:0,pedesisSpeedVariance:0},{matchingDistance:2,zeroSpeed:.55,kDistance:.12,velocityDamping:.35,heavyDampingRadius:15,heavyDampingSpeed:.35,pedesisSpeedMean:0,pedesisSpeedVariance:0}),e}();t.CameraAnimation=i},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(201),a=n(114),s=function(){return null};t.bindRoom=function(e,t){t?o.render(i.createElement(a.RoomWhiteboard,r({},t)),e):o.render(i.createElement(s,null),e)},t.bindPlayer=function(e,t){t?o.render(i.createElement(a.PlayerWhiteboard,r({},t)),e):o.render(i.createElement(s,null),e)}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(109),s=n(203),c=n(61),u=a.wrapPropsSyncNodeReceivableComponent(s.WhiteboardView),l=function(e){function t(t){var n=e.call(this,t)||this;return n.renderFactories=new c.TagBoxRenderFactories(t.room.deviceType),n}return i(t,e),t.prototype.render=function(){var e=this.props.room,t=e.operator,n=e.displayerSyncNode,r=e.mouseCursorDefinition;return o.createElement(u,{mouseCursorDefinition:r,renderFactories:this.renderFactories,operator:t,propsSyncNode:n,willInterceptKeyboardEvent:this.props.willInterceptKeyboardEvent,focusTextareaSetter:this.props.focusTextareaSetter,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp,onIsMouseOrTouchOperatingChanged:this.props.onIsMouseOrTouchOperatingChanged})},t}(o.Component);t.RoomWhiteboard=l;var p=function(e){function t(t){var n=e.call(this,t)||this;return n.renderFactories=new c.TagBoxRenderFactories(t.player.deviceType),n}return i(t,e),t.prototype.render=function(){var e=this.props.player,t=e.operator,n=e.displayerSyncNode,r=e.mouseCursorDefinition;return o.createElement(u,{mouseCursorDefinition:r,renderFactories:this.renderFactories,operator:t,propsSyncNode:n})},t}(o.Component);t.PlayerWhiteboard=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(29);t.TextareaHeightIncrement=8,t.FixedTextareaBox=function(e){var n=e.params.payload,o=n.margin,a=n.textSize,s=i.findFixedRectangle(e.params,o),c=s.right-s.left,u=Math.max(a+t.TextareaHeightIncrement+2*o,s.bottom-s.top),l=e.params.payload.color,p=l[0],f=l[1],d=l[2],h={left:s.left,top:s.top,width:c,height:u,borderColor:"rgb("+p+","+f+","+d+")"};return r.createElement("div",{className:"textarea-box",style:h},e.children)}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(3);t.MouseCursorSize=Object.freeze({width:32,height:32});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props.color,t=e[0],n=e[1],r=e[2];return o.createElement("div",{key:""+this.props.memberId,ref:this.props.cursorRef,style:this.props.style},o.createElement("div",{className:"mouse-cursor-inner",style:{backgroundColor:"rgb("+t+","+n+","+r+")"}},this.props.information&&this.props.information.avatar?o.createElement("img",{className:"mouse-cursor-img",src:this.props.information.avatar}):o.createElement("img",{className:"mouse-cursor-img",src:"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QBARXhpZgAATU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAQKADAAQAAAABAAAAQAAAAAD/7QA4UGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAAAA4QklNBCUAAAAAABDUHYzZjwCyBOmACZjs+EJ+/8AAEQgAQABAAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/bAEMAAQEBAQEBAgEBAgMCAgIDBAMDAwMEBQQEBAQEBQYFBQUFBQUGBgYGBgYGBgcHBwcHBwgICAgICQkJCQkJCQkJCf/bAEMBAQEBAgICBAICBAkGBQYJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCf/dAAQABP/aAAwDAQACEQMRAD8A/soooooAKKKKACiiigAooooA/9D+yivCfj18a2+B3h+08QPpEmqR3UxgO2URKj7dyhmKufmAbGB2r3avKPjf4AT4mfC7V/CSqGuJYTJbe08Xzx89ssNp9iaAOH+A37SPhz45Nd6fb2b6ZqVmgle3dxIGjJ270cBc4JAbKjGR1zxl/H79pRvgVrFhpk2hPqSX8JlWbzxCoKttZB+7ckqNp7feFfmH+zt44f4cfGPSNYumMVvJN9kugeAIp/kYt7IxD/8AAa+8/wBvi20KT4b6VdXjhdQjv8WwxksjRt5o9l4Qk+oA70AfUPwl+KOhfF/wZD4x0FXiR3aKWGTBeKVMbkJHB4IIPcEHA6Dkfjt8ffDvwM0q1uNRtnv72+ZhBbRsEyqY3OzkHaoyB0JJPA6kfFv7BHjr7B4n1b4e3b4j1CIXcAPTzYeHA92Q5+iV4/8AtieNP+Eu+Nt9Zwvut9HjSxj9NyZaX8RIzL+AoA/TP4B/G1vjloF5ryaQ+lx2kwgG6USq7bdzBWCoflBXPHcV7xXjX7P/AIC/4Vx8JNH8OTJsujCLi59fOm+dwfdchPoor2WgD//R/soooooA/EH9q34ff8K/+MmoLapss9V/0+3x0Hmk+Yo7fLIGwOwxVnxF4x8UftQePPCfg4blaG2gsmJ5/eYDXVwRz1C7j7KK/Qz9qn4Fan8ZfC9nceGPL/tfS5GaJZDsEsUgG+Pd0Byqlc8cEcZzXAfsofs1eIvhdq13428fxxR6g8X2e1gRxIYlY5kdmXK7mwAME4Gc9aAPiHxFZX/7NP7Qxk05WeLSLxZ4Ax5ltJRnbu9TGxQn1zVb4D+Frz4v/HWwXVx5yy3T6jfMehVG818+zvhP+BV99/tY/s6a98W3sPFfghYn1SzjNvLFIwTzYc7k2sfl3IxbgkAhuvGDb/ZO/Z7134QW+oeIvGgiXVdQVYUijYP5MKncwLDgl2wSASAFHPJwAfZNFFFAH//S/soooooAKKKKACiiigAooooA/9k="}),o.createElement("div",{className:"mouse-cursor-tool",style:{backgroundColor:"rgb("+t+","+n+","+r+")"}},this.renderSvgCursor(this.props.appliance))))},t.prototype.renderSvgCursor=function(e){switch(e){case"pencil":return o.createElement("svg",{width:"9",height:"9",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M0.0112229 0.989901C0.512136 0.666423 6.82764 -0.858663 7.4289 0.666422C8.03017 2.19151 0.379241 1.38599 0.0112229 3.49589C-0.356796 5.60579 8.45201 1.62135 7.94046 3.87743C7.4289 6.13352 0.0112229 4.52969 0.0112229 6.95615C0.0112229 9.38261 7.38765 5.32814 7.94046 6.77324C8.49327 8.21835 5.05281 8.52848 3.57129 9",transform:"translate(0.695831 1.29004) rotate(-4)",stroke:"white",strokeWidth:"1.28185"}));case"selector":return o.createElement("svg",{width:"8",height:"8",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.4868 6.58275C1.62719 6.24058 1.65327 5.01496 2.52665 4.70966L14.0769 0.672222C14.8612 0.398074 15.6184 1.14442 15.3555 1.93256L11.5076 13.4712C11.2154 14.3477 9.99264 14.3929 9.63635 13.5405L7.73683 8.99596C7.63313 8.74785 7.43386 8.55196 7.18402 8.45251L2.4868 6.58275Z",transform:"translate(16) scale(-1 1)",fill:"white"}));case"text":return o.createElement("svg",{width:"8",height:"8",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M0 2V0H12V2",transform:"translate(1 1)",stroke:"white",strokeWidth:"1.86667",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M0 0H7",transform:"translate(3.5 12.5)",stroke:"white",strokeWidth:"1.86667",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M0 0V11",transform:"translate(7 1)",stroke:"white",strokeWidth:"1.86667",strokeLinecap:"round",strokeLinejoin:"round"}));case"eraser":return o.createElement("svg",{width:"10",height:"10",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.968 1.41667C10.1704 0.637358 8.88965 0.660726 8.1211 1.46861L0.651229 9.32083C0.285744 9.70502 0.283692 10.3077 0.646551 10.6944L3.352 13.5774C3.54103 13.7788 3.80496 13.8931 4.0812 13.8931H5.86992C6.14522 13.8931 6.40834 13.7796 6.59727 13.5793L13.316 6.45851C14.0646 5.66504 14.0393 4.41798 13.2591 3.65553L10.968 1.41667Z",transform:"translate(1 0.711777)",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.90193 2.35191C6.03948 1.07145 8.0164 1.00167 9.24141 2.19873L10.7139 3.63766C11.8959 4.79261 11.9212 6.68589 10.7706 7.87207L5.56447 13.2393L-7.02753e-08 7.86966L4.90193 2.35191Z",transform:"translate(3.51389)",fill:"white"}));case"ellipse":return o.createElement("svg",{width:"10",height:"10",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M7.5 15C11.6421 15 15 11.6421 15 7.5C15 3.35786 11.6421 0 7.5 0C3.35786 0 0 3.35786 0 7.5C0 11.6421 3.35786 15 7.5 15Z",transform:"translate(1 1)",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}));case"rectangle":return o.createElement("svg",{width:"8",height:"8",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M14 0H0V14H14V0Z",transform:"translate(1 1)",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))}},t}(o.Component);t.MouseCursor=a},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i,o,a,s=n(118),c=n(12),u={keyup:{method:"onKeyUp",isOnDocument:!0},keydown:{method:"onKeyDown",isOnDocument:!0},mousedown:{method:"onMouseDown",isOnDocument:!1},mousemove:{method:"onMouseMove",isOnDocument:!1},mouseup:{method:"onMouseUp",isOnDocument:!0},mouseleave:{method:"onMouseLeave",isOnDocument:!1},wheel:{method:"onMouseWheel",isOnDocument:!0},touchstart:{method:"onTouchStart",isOnDocument:!1},touchmove:{method:"onTouchMove",isOnDocument:!1},touchend:{method:"onTouchEnd",isOnDocument:!1},touchcancel:{method:"onTouchCancel",isOnDocument:!1},gesturestart:{method:"onGestureStart",isOnDocument:!0},gesturechange:{method:"onGestureChange",isOnDocument:!0},gestureend:{method:"onGestureEnd",isOnDocument:!0}};!function(e){e[e.None=0]="None",e[e.Ignore=1]="Ignore",e[e.Operating=2]="Operating"}(i||(i={})),function(e){e[e.Start=0]="Start",e[e.Move=1]="Move",e[e.End=2]="End"}(o=t.EventStatus||(t.EventStatus={})),function(e){e[e.Down=0]="Down",e[e.Up=1]="Up"}(a=t.KeyEventStatus||(t.KeyEventStatus={}));var l=function(){function e(e,t,n){this.operator=e,this._disableOperations=t,this.latestMousePosition={x:0,y:0},this.ref=null,this.status=i.None,this.lastGestureScale=1,this.acceptedTouches={},this.acceptedTouchesCount=0,this.acceptedKeys={},this.callbacks=Object.freeze(r({},n)),this.listeners=Object.freeze(this.createListeners())}return Object.defineProperty(e.prototype,"disableOperations",{get:function(){return this._disableOperations},set:function(e){this._disableOperations!==e&&(this._disableOperations=e,e&&this.cancelAllEvents())},enumerable:!0,configurable:!0}),e.prototype.cancelAllEvents=function(){for(var e in this.acceptedKeys){var t=this.acceptedKeys[e];this.operator.onKeyUp(t)}switch(this.acceptedKeys={},this.operator.deviceType){case c.DeviceType.Desktop:this.operator.onMouseUp(r({},this.latestMousePosition,{targetsMap:{}}));break;case c.DeviceType.Touch:var n=[];for(var o in this.acceptedTouches){var a=this.acceptedTouches[o],s=a.x,u=a.y;n.push({x:s,y:u,identifier:o,targetsMap:{}})}this.acceptedTouches={},this.acceptedTouchesCount=0,this.operator.onTouchCancel(n)}this.changeStatus(i.None)},e.prototype.createListeners=function(){var e={};for(var t in u){var n=u[t].method,r=this[n].bind(this);e[n]=r}return e},e.prototype.isEventFiredOnRef=function(e){for(;e;){if(e===this.ref)return!0;e=e.parentElement}return!1},e.prototype.setHTMLDivElement=function(e){if(this.ref!==e){for(var t in u){var n=u[t],r=n.method,i=n.isOnDocument,o=this.listeners[r];if(e)(i?document.body:e).addEventListener(t,o,!0);else(i?document.body:this.ref).removeEventListener(t,o,!0)}this.ref=e}},e.prototype.eventPosition=function(e){var t=s.pagePositionWith(this.ref),n=t.x,r=t.y;return{x:Math.floor(e.pageX)-n,y:Math.floor(e.pageY)-r}},e.prototype.onKeyDown=function(e){if(!this.disableOperations&&this.filterKeyEvents(e,a.Down)){var t=e.key,n=e.altKey,r=e.ctrlKey,i=e.shiftKey;this.acceptedKeys[t]={key:t,altKey:n,ctrlKey:r,shiftKey:i},this.operator.onKeyDown({key:t,altKey:n,ctrlKey:r,shiftKey:i})}},e.prototype.onKeyUp=function(e){var t=e.key,n=e.altKey,r=e.ctrlKey,i=e.shiftKey;!this.disableOperations&&this.filterKeyEvents(e,a.Up)&&t in this.acceptedKeys&&(this.operator.onKeyUp({key:t,altKey:n,ctrlKey:r,shiftKey:i}),delete this.acceptedKeys[t])},e.prototype.onMouseDown=function(e){var t=this.callbacks.filterMouseEvents(e,o.Start);if(!this.disableOperations&&t&&this.isLeftMouseButton(e)&&this.status===i.None)if(e.target&&this.isEventFiredOnRef(e.target)){var n=this.eventPosition(e);this.latestMousePosition.x=n.x,this.latestMousePosition.y=n.y,this.changeStatus(i.Operating),this.operator.onMouseDown({x:n.x,y:n.y,targetsMap:t})}else this.changeStatus(i.Ignore)},e.prototype.onMouseMove=function(e){if(!this.disableOperations&&void 0!==this.callbacks.filterMouseEvents(e,o.Move)&&(this.status===i.Operating||this.status===i.None)){var t=this.eventPosition(e);this.latestMousePosition.x=t.x,this.latestMousePosition.y=t.y,this.operator.onMouseMove({x:t.x,y:t.y,targetsMap:{}})}},e.prototype.onMouseLeave=function(e){if(!this.disableOperations&&void 0!==this.callbacks.filterMouseEvents(e,o.Move)&&(this.status===i.Operating||this.status===i.None)){var t=this.eventPosition(e);this.latestMousePosition.x=t.x,this.latestMousePosition.y=t.y,this.operator.onMouseLeave({x:t.x,y:t.y,targetsMap:{}})}},e.prototype.onMouseUp=function(e){if(!this.disableOperations&&void 0!==this.callbacks.filterMouseEvents(e,o.Move)){if(this.status===i.Operating){var t=this.eventPosition(e);this.operator.onMouseUp({x:t.x,y:t.y,targetsMap:{}})}this.changeStatus(i.None)}},e.prototype.onMouseWheel=function(e){if(this.isEventFiredOnRef(e.target)){if(e.preventDefault(),!this.disableOperations){var t=s.pagePositionWith(this.ref),n=t.x,r=t.y,i=e.deltaX,o=e.deltaY,a=e.pageX-n,c=e.pageY-r,u=Math.sqrt(i*i+o*o);i+o<0&&(u=-u);var l={offsetX:0,offsetY:0,x:a,y:c,scale:u};this.isMacTouchpadTwoFingerZoom(e)?l.scale=.5*-l.scale:this.isMacTouchpadTwoFingerScroll(e)?(l.offsetX=-i,l.offsetY=-o,l.x=a,l.y=c,l.scale=0):l.scale=.035*l.scale,this.operator.onViewTransform(l)}}else this.isMacTouchpadTwoFingerZoom(e)&&e.preventDefault()},e.prototype.isLeftMouseButton=function(e){return 0===e.button},e.prototype.isMacTouchpadTwoFingerZoom=function(e){return-1!==navigator.platform.indexOf("Mac")&&e.ctrlKey},e.prototype.isMacTouchpadTwoFingerScroll=function(e){return-1!==navigator.platform.indexOf("Mac")&&(e.wheelDelta%120!==0||0!==e.movementX||0!==e.deltaX)},e.prototype.onGestureStart=function(e){e.preventDefault(),this.lastGestureScale=1},e.prototype.onGestureChange=function(t){t.preventDefault();var n=t.scale,r={offsetX:0,offsetY:0,x:t.layerX,y:t.layerY,scale:(n/this.lastGestureScale-1)*e.SafariScaleNumber};this.operator.onViewTransform(r),this.lastGestureScale=n},e.prototype.onGestureEnd=function(e){e.preventDefault()},e.prototype.onTouchStart=function(e){if(!this.disableOperations&&this.status!==i.Ignore){e.preventDefault();for(var t=e.changedTouches,n=[],r=0;r<t.length;++r){var a=t.item(r),s=""+a.identifier,c=this.callbacks.filterTouchEvents(a,s,o.Start);if(this.isEventFiredOnRef(a.target)){var u=this.eventPosition(a),l=u.x,p=u.y;this.acceptedTouches[s]={x:l,y:p},this.acceptedTouchesCount++,c&&n.push({x:l,y:p,identifier:s,targetsMap:c})}}n.length>0&&(this.changeStatus(i.Operating),this.operator.onTouchStart(n))}},e.prototype.onTouchMove=function(e){if(this.status===i.Operating){e.preventDefault();for(var t=e.touches,n=[],r=0;r<t.length;++r){var a=t.item(r),s=""+a.identifier,c=this.callbacks.filterTouchEvents(a,s,o.Move);if(s in this.acceptedTouches){var u=this.eventPosition(a),l=u.x,p=u.y,f=this.acceptedTouches[s];f.x=l,f.y=p,c&&n.push({x:l,y:p,identifier:s,targetsMap:c})}}n.length>0&&this.operator.onTouchMove(n)}},e.prototype.onTouchEnd=function(e){if(this.status===i.Operating){e.preventDefault();var t=this.cleanAcceptedTouchesByTouchEvent(e);t.length>0&&this.operator.onTouchEnd(t)}},e.prototype.onTouchCancel=function(e){if(this.status===i.Operating){e.preventDefault();var t=this.cleanAcceptedTouchesByTouchEvent(e);t.length>0&&this.operator.onTouchCancel(t)}},e.prototype.filterKeyEvents=function(e,t){return!this.callbacks.filterKeyEvents||this.callbacks.filterKeyEvents(e,t)},e.prototype.cleanAcceptedTouchesByTouchEvent=function(e){for(var t=e.changedTouches,n=[],r=0;r<t.length;++r){var a=t.item(r),s=""+a.identifier,c=this.callbacks.filterTouchEvents(a,s,o.End);if(s in this.acceptedTouches&&(delete this.acceptedTouches[s],this.acceptedTouchesCount--,c)){var u=this.eventPosition(a),l=u.x,p=u.y;n.push({x:l,y:p,identifier:s,targetsMap:c})}}return 0===this.acceptedTouchesCount&&this.changeStatus(i.None),n},e.prototype.changeStatus=function(e){if(this.status!==e){var t=this.status===i.Operating,n=e===i.Operating;this.status=e,t!==n&&this.callbacks.onIsMouseOrTouchOperatingChanged(n)}},e.SafariScaleNumber=100,e}();t.OperationProxy=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pagePositionWith=function(e){for(var t={x:0,y:0};e;)t.x+=e.offsetLeft,t.y+=e.offsetTop,e=e.offsetParent;return document.documentElement&&(document.documentElement.scrollTop||document.documentElement.scrollLeft)?(t.x-=document.documentElement.scrollLeft,t.y-=document.documentElement.scrollTop):document.body&&(document.body.scrollTop||document.body.scrollLeft)?(t.x-=document.body.scrollLeft,t.y-=document.body.scrollTop):(window.pageXOffset||window.pageYOffset)&&(t.x-=window.pageXOffset,t.y-=window.pageYOffset),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=function(){function e(e){var t=e.stateKeys,n=e.state,i=e.onStateChanged;this.stateKeysSet=this.createStateKeysSet(t),this._exportState=this.createExportState(t,n),this.diffBundle=new r.DiffBundle(n),this.onStateChanged=i}return e.prototype.createStateKeysSet=function(e){for(var t={},n=0,r=e;n<r.length;n++){t[r[n]]=!0}return t},e.prototype.createExportState=function(e,t){for(var n={},r=0,i=e;r<i.length;r++){var o=i[r];n[o]=t[o]}return n},e.prototype.setAndCompare=function(e){var t=this.diffBundle.setAndCompare(e),n={},r=0;for(var i in t)if(i in this.stateKeysSet){var o=t[i].target;n[i]=o,this._exportState[i]=o,r++}return this.onStateChanged&&r>0&&this.onStateChanged(n),t},e.prototype.setProperty=function(e,t){return this.diffBundle.bundle[e]=t},Object.defineProperty(e.prototype,"exportState",{get:function(){return this._exportState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this.diffBundle.bundle},enumerable:!0,configurable:!0}),e}();t.StateTrigger=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.WaitingFirstFrame="waitingFirstFrame",e.Playing="playing",e.Pause="pause",e.Stop="stop",e.TouchedEnding="touchedEnding",e.Buffering="buffering"}(t.PlayerPhase||(t.PlayerPhase={})),function(e){e.Directory="directory",e.Freedom="freedom"}(t.ObserverMode||(t.ObserverMode={}))},function(e,t,n){n(122),e.exports=n(127)},function(e,t,n){"use strict";"undefined"===typeof Promise&&(n(123).enable(),window.Promise=n(125)),n(126),Object.assign=n(18)},function(e,t,n){"use strict";var r=n(62),i=[ReferenceError,TypeError,RangeError],o=!1;function a(){o=!1,r._47=null,r._71=null}function s(e,t){return t.some(function(t){return e instanceof t})}t.disable=a,t.enable=function(e){e=e||{},o&&a();o=!0;var t=0,n=0,c={};function u(t){(e.allRejections||s(c[t].error,e.whitelist||i))&&(c[t].displayId=n++,e.onUnhandled?(c[t].logged=!0,e.onUnhandled(c[t].displayId,c[t].error)):(c[t].logged=!0,function(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}(c[t].displayId,c[t].error)))}r._47=function(t){var n;2===t._83&&c[t._56]&&(c[t._56].logged?(n=t._56,c[n].logged&&(e.onHandled?e.onHandled(c[n].displayId,c[n].error):c[n].onUnhandled||(console.warn("Promise Rejection Handled (id: "+c[n].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+c[n].displayId+".")))):clearTimeout(c[t._56].timeout),delete c[t._56])},r._71=function(e,n){0===e._75&&(e._56=t++,c[e._56]={displayId:null,error:n,timeout:setTimeout(u.bind(null,e._56),s(n,i)?100:2e3),logged:!1})}}},function(e,t,n){"use strict";(function(t){function n(e){i.length||(r(),!0),i[i.length]=e}e.exports=n;var r,i=[],o=0,a=1024;function s(){for(;o<i.length;){var e=o;if(o+=1,i[e].call(),o>a){for(var t=0,n=i.length-o;t<n;t++)i[t]=i[t+o];i.length-=o,o=0}}i.length=0,o=0,!1}var c,u,l,p="undefined"!==typeof t?t:self,f=p.MutationObserver||p.WebKitMutationObserver;function d(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"===typeof f?(c=1,u=new f(s),l=document.createTextNode(""),u.observe(l,{characterData:!0}),r=function(){c=-c,l.data=c}):r=d(s),n.requestFlush=r,n.makeRequestCallFromTimer=d}).call(t,n(63))},function(e,t,n){"use strict";var r=n(62);e.exports=r;var i=l(!0),o=l(!1),a=l(null),s=l(void 0),c=l(0),u=l("");function l(e){var t=new r(r._44);return t._83=1,t._18=e,t}r.resolve=function(e){if(e instanceof r)return e;if(null===e)return a;if(void 0===e)return s;if(!0===e)return i;if(!1===e)return o;if(0===e)return c;if(""===e)return u;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new r(t.bind(e))}catch(e){return new r(function(t,n){n(e)})}return l(e)},r.all=function(e){var t=Array.prototype.slice.call(e);return new r(function(e,n){if(0===t.length)return e([]);var i=t.length;function o(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof r&&s.then===r.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?o(a,s._18):(2===s._83&&n(s._18),void s.then(function(e){o(a,e)},n))}var c=s.then;if("function"===typeof c)return void new r(c.bind(s)).then(function(e){o(a,e)},n)}t[a]=s,0===--i&&e(t)}for(var a=0;a<t.length;a++)o(a,t[a])})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){e.forEach(function(e){r.resolve(e).then(t,n)})})},r.prototype.catch=function(e){return this.then(null,e)}},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(e){return e&&DataView.prototype.isPrototypeOf(e)},i=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};l.prototype.append=function(e,t){e=s(e),t=c(t);var n=this.map[e];this.map[e]=n?n+","+t:t},l.prototype.delete=function(e){delete this.map[s(e)]},l.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},l.prototype.set=function(e,t){this.map[s(e)]=c(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),u(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),u(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),u(e)},t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},y.call(m.prototype),y.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];v.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.Headers=l,e.Request=m,e.Response=v,e.fetch=function(e,n){return new Promise(function(r,i){var o=new m(e,n),a=new XMLHttpRequest;a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new l,e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new v(i,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&t.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"===typeof o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function c(e){return"string"!==typeof e&&(e=String(e)),e}function u(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function d(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"===typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&r(e))this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!i(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var e,t,n,r=p(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=f(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(e,t){var n,r,i=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),o.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function g(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function v(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!==typeof self?self:this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30),i=(n.n(r),n(129)),o=(n.n(i),n(133)),a=n(226);n.n(a);i.render(r.createElement(o.a,null),document.getElementById("root"))},function(e,t,n){"use strict";var r=n(18),i=n(31),o=n(32),a=n(33),s="function"===typeof Symbol&&Symbol.for,c=s?Symbol.for("react.element"):60103,u=s?Symbol.for("react.portal"):60106,l=s?Symbol.for("react.fragment"):60107,p=s?Symbol.for("react.strict_mode"):60108,f=s?Symbol.for("react.provider"):60109,d=s?Symbol.for("react.context"):60110,h=s?Symbol.for("react.async_mode"):60111,y=s?Symbol.for("react.forward_ref"):60112,m="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t=arguments.length-1,n="http://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);i(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function b(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||v}function T(){}function S(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||v}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&g("85"),this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},T.prototype=b.prototype;var E=S.prototype=new T;E.constructor=S,r(E,b.prototype),E.isPureReactComponent=!0;var w={current:null},x=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function P(e,t,n){var r=void 0,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:c,type:e,key:o,ref:a,props:i,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===c}var _=/\/+/g,O=[];function I(e,t,n,r){if(O.length){var i=O.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>O.length&&O.push(e)}function R(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case c:case u:o=!0}}if(o)return n(r,e,""===t?"."+A(e,0):t),1;if(o=0,t=""===t?".":t+":",Array.isArray(e))for(var a=0;a<e.length;a++){var s=t+A(i=e[a],a);o+=R(i,s,n,r)}else if(null===e||"undefined"===typeof e?s=null:s="function"===typeof(s=m&&e[m]||e["@@iterator"])?s:null,"function"===typeof s)for(e=s.call(e),a=0;!(i=e.next()).done;)o+=R(i=i.value,s=t+A(i,a++),n,r);else"object"===i&&g("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return o}function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function N(e,t){e.func.call(e.context,t,e.count++)}function j(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,r,n,a.thatReturnsArgument):null!=e&&(C(e)&&(t=i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(_,"$&/")+"/")+n,e={$$typeof:c,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function F(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(_,"$&/")+"/"),t=I(t,o,r,i),null==e||R(e,"",j,t),M(t)}var D={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=I(null,null,t,n),null==e||R(e,"",N,t),M(t)},count:function(e){return null==e?0:R(e,"",a.thatReturnsNull,null)},toArray:function(e){var t=[];return F(e,t,null,a.thatReturnsArgument),t},only:function(e){return C(e)||g("143"),e}},createRef:function(){return{current:null}},Component:b,PureComponent:S,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_changedBits:0,Provider:null,Consumer:null}).Provider={$$typeof:f,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:y,render:e}},Fragment:l,StrictMode:p,unstable_AsyncMode:h,createElement:P,cloneElement:function(e,t,n){(null===e||void 0===e)&&g("267",e);var i=void 0,o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key);var l=void 0;for(i in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)x.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=void 0===t[i]&&void 0!==l?l[i]:t[i])}if(1===(i=arguments.length-2))o.children=n;else if(1<i){l=Array(i);for(var p=0;p<i;p++)l[p]=arguments[p+2];o.children=l}return{$$typeof:c,type:e.type,key:a,ref:s,props:o,_owner:u}},createFactory:function(e){var t=P.bind(null,e);return t.type=e,t},isValidElement:C,version:"16.3.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:w,assign:r}},B=Object.freeze({default:D}),W=B&&D||B;e.exports=W.default?W.default:W},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(130)},function(e,t,n){"use strict";var r=n(31),i=n(30),o=n(64),a=n(18),s=n(33),c=n(65),u=n(66),l=n(67),p=n(32);function f(e){for(var t=arguments.length-1,n="http://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);r(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}i||f("227");var d={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(e,t,n,r,i,o,a,s,c){(function(e,t,n,r,i,o,a,s,c){this._hasCaughtError=!1,this._caughtError=null;var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this._caughtError=e,this._hasCaughtError=!0}}).apply(d,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,r,i,o,a,s,c){if(d.invokeGuardedCallback.apply(this,arguments),d.hasCaughtError()){var u=d.clearCaughtError();d._hasRethrowError||(d._hasRethrowError=!0,d._rethrowError=u)}},rethrowCaughtError:function(){return function(){if(d._hasRethrowError){var e=d._rethrowError;throw d._rethrowError=null,d._hasRethrowError=!1,e}}.apply(d,arguments)},hasCaughtError:function(){return d._hasCaughtError},clearCaughtError:function(){if(d._hasCaughtError){var e=d._caughtError;return d._caughtError=null,d._hasCaughtError=!1,e}f("198")}};var h=null,y={};function m(){if(h)for(var e in y){var t=y[e],n=h.indexOf(e);if(-1<n||f("96",e),!v[n])for(var r in t.extractEvents||f("97",e),v[n]=t,n=t.eventTypes){var i=void 0,o=n[r],a=t,s=r;b.hasOwnProperty(s)&&f("99",s),b[s]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&g(c[i],a,s);i=!0}else o.registrationName?(g(o.registrationName,a,s),i=!0):i=!1;i||f("98",r,e)}}}function g(e,t,n){T[e]&&f("100",e),T[e]=t,S[e]=t.eventTypes[n].dependencies}var v=[],b={},T={},S={};function E(e){h&&f("101"),h=Array.prototype.slice.call(e),m()}function w(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];y.hasOwnProperty(t)&&y[t]===r||(y[t]&&f("102",t),y[t]=r,n=!0)}n&&m()}var x=Object.freeze({plugins:v,eventNameDispatchConfigs:b,registrationNameModules:T,registrationNameDependencies:S,possibleRegistrationNames:null,injectEventPluginOrder:E,injectEventPluginsByName:w}),k=null,P=null,C=null;function _(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=C(r),d.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function O(e,t){return null==t&&f("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function I(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var M=null;function R(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)_(e,t,n[i],r[i]);else n&&_(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function A(e){return R(e,!0)}function N(e){return R(e,!1)}var j={injectEventPluginOrder:E,injectEventPluginsByName:w};function F(e,t){var n=e.stateNode;if(!n)return null;var r=k(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!==typeof n&&f("231",t,typeof n),n)}function D(e,t){null!==e&&(M=O(M,e)),e=M,M=null,e&&(I(e,t?A:N),M&&f("95"),d.rethrowCaughtError())}function B(e,t,n,r){for(var i=null,o=0;o<v.length;o++){var a=v[o];a&&(a=a.extractEvents(e,t,n,r))&&(i=O(i,a))}D(i,!1)}var W=Object.freeze({injection:j,getListener:F,runEventsInBatch:D,runExtractedEventsInBatch:B}),U=Math.random().toString(36).slice(2),z="__reactInternalInstance$"+U,L="__reactEventHandlers$"+U;function V(e){if(e[z])return e[z];for(;!e[z];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[z]).tag||6===e.tag?e:null}function H(e){if(5===e.tag||6===e.tag)return e.stateNode;f("33")}function G(e){return e[L]||null}var K=Object.freeze({precacheFiberNode:function(e,t){t[z]=e},getClosestInstanceFromNode:V,getInstanceFromNode:function(e){return!(e=e[z])||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:H,getFiberCurrentPropsFromNode:G,updateFiberProps:function(e,t){e[L]=t}});function X(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Y(e,t,n){for(var r=[];e;)r.push(e),e=X(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function Q(e,t,n){(t=F(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=O(n._dispatchListeners,t),n._dispatchInstances=O(n._dispatchInstances,e))}function q(e){e&&e.dispatchConfig.phasedRegistrationNames&&Y(e._targetInst,Q,e)}function $(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;Y(t=t?X(t):null,Q,e)}}function J(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=F(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=O(n._dispatchListeners,t),n._dispatchInstances=O(n._dispatchInstances,e))}function Z(e){e&&e.dispatchConfig.registrationName&&J(e._targetInst,null,e)}function ee(e){I(e,q)}function te(e,t,n,r){if(n&&r)e:{for(var i=n,o=r,a=0,s=i;s;s=X(s))a++;s=0;for(var c=o;c;c=X(c))s++;for(;0<a-s;)i=X(i),a--;for(;0<s-a;)o=X(o),s--;for(;a--;){if(i===o||i===o.alternate)break e;i=X(i),o=X(o)}i=null}else i=null;for(o=i,i=[];n&&n!==o&&(null===(a=n.alternate)||a!==o);)i.push(n),n=X(n);for(n=[];r&&r!==o&&(null===(a=r.alternate)||a!==o);)n.push(r),r=X(r);for(r=0;r<i.length;r++)J(i[r],"bubbled",e);for(e=n.length;0<e--;)J(n[e],"captured",t)}var ne=Object.freeze({accumulateTwoPhaseDispatches:ee,accumulateTwoPhaseDispatchesSkipTarget:function(e){I(e,$)},accumulateEnterLeaveDispatches:te,accumulateDirectDispatches:function(e){I(e,Z)}}),re=null;function ie(){return!re&&o.canUseDOM&&(re="textContent"in document.documentElement?"textContent":"innerText"),re}var oe={_root:null,_startText:null,_fallbackText:null};function ae(){if(oe._fallbackText)return oe._fallbackText;var e,t,n=oe._startText,r=n.length,i=se(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return oe._fallbackText=i.slice(e,1<t?1-t:void 0),oe._fallbackText}function se(){return"value"in oe._root?oe._root.value:oe._root[ie()]}var ce="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),ue={type:null,target:null,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function le(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?s.thatReturnsTrue:s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse,this}function pe(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function fe(e){e instanceof this||f("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function de(e){e.eventPool=[],e.getPooled=pe,e.release=fe}a(le.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=s.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=s.thatReturnsTrue)},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<ce.length;t++)this[ce[t]]=null}}),le.Interface=ue,le.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return a(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=a({},r.Interface,e),n.extend=r.extend,de(n),n},de(le);var he=le.extend({data:null}),ye=le.extend({data:null}),me=[9,13,27,32],ge=o.canUseDOM&&"CompositionEvent"in window,ve=null;o.canUseDOM&&"documentMode"in document&&(ve=document.documentMode);var be=o.canUseDOM&&"TextEvent"in window&&!ve,Te=o.canUseDOM&&(!ge||ve&&8<ve&&11>=ve),Se=String.fromCharCode(32),Ee={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},we=!1;function xe(e,t){switch(e){case"topKeyUp":return-1!==me.indexOf(t.keyCode);case"topKeyDown":return 229!==t.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function ke(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pe=!1;var Ce={eventTypes:Ee,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(ge)e:{switch(e){case"topCompositionStart":i=Ee.compositionStart;break e;case"topCompositionEnd":i=Ee.compositionEnd;break e;case"topCompositionUpdate":i=Ee.compositionUpdate;break e}i=void 0}else Pe?xe(e,n)&&(i=Ee.compositionEnd):"topKeyDown"===e&&229===n.keyCode&&(i=Ee.compositionStart);return i?(Te&&(Pe||i!==Ee.compositionStart?i===Ee.compositionEnd&&Pe&&(o=ae()):(oe._root=r,oe._startText=se(),Pe=!0)),i=he.getPooled(i,t,n,r),o?i.data=o:null!==(o=ke(n))&&(i.data=o),ee(i),o=i):o=null,(e=be?function(e,t){switch(e){case"topCompositionEnd":return ke(t);case"topKeyPress":return 32!==t.which?null:(we=!0,Se);case"topTextInput":return(e=t.data)===Se&&we?null:e;default:return null}}(e,n):function(e,t){if(Pe)return"topCompositionEnd"===e||!ge&&xe(e,t)?(e=ae(),oe._root=null,oe._startText=null,oe._fallbackText=null,Pe=!1,e):null;switch(e){case"topPaste":return null;case"topKeyPress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"topCompositionEnd":return Te?null:t.data;default:return null}}(e,n))?((t=ye.getPooled(Ee.beforeInput,t,n,r)).data=e,ee(t)):t=null,null===o?t:null===t?o:[o,t]}},_e=null,Oe={injectFiberControlledHostComponent:function(e){_e=e}},Ie=null,Me=null;function Re(e){if(e=P(e)){_e&&"function"===typeof _e.restoreControlledState||f("194");var t=k(e.stateNode);_e.restoreControlledState(e.stateNode,e.type,t)}}function Ae(e){Ie?Me?Me.push(e):Me=[e]:Ie=e}function Ne(){return null!==Ie||null!==Me}function je(){if(Ie){var e=Ie,t=Me;if(Me=Ie=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}var Fe=Object.freeze({injection:Oe,enqueueStateRestore:Ae,needsStateRestore:Ne,restoreStateIfNeeded:je});function De(e,t){return e(t)}function Be(e,t,n){return e(t,n)}function We(){}var Ue=!1;function ze(e,t){if(Ue)return e(t);Ue=!0;try{return De(e,t)}finally{Ue=!1,Ne()&&(We(),je())}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Le[e.type]:"textarea"===t}function He(e){return(e=e.target||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Ge(e,t){return!(!o.canUseDOM||t&&!("addEventListener"in document))&&((t=(e="on"+e)in document)||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t)}function Ke(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Xe(e){e._valueTracker||(e._valueTracker=function(e){var t=Ke(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"function"===typeof n.get&&"function"===typeof n.set)return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.get.call(this)},set:function(e){r=""+e,n.set.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}(e))}function Ye(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ke(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var Qe=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qe="function"===typeof Symbol&&Symbol.for,$e=qe?Symbol.for("react.element"):60103,Je=qe?Symbol.for("react.call"):60104,Ze=qe?Symbol.for("react.return"):60105,et=qe?Symbol.for("react.portal"):60106,tt=qe?Symbol.for("react.fragment"):60107,nt=qe?Symbol.for("react.strict_mode"):60108,rt=qe?Symbol.for("react.provider"):60109,it=qe?Symbol.for("react.context"):60110,ot=qe?Symbol.for("react.async_mode"):60111,at=qe?Symbol.for("react.forward_ref"):60112,st="function"===typeof Symbol&&Symbol.iterator;function ct(e){return null===e||"undefined"===typeof e?null:"function"===typeof(e=st&&e[st]||e["@@iterator"])?e:null}function ut(e){if("function"===typeof(e=e.type))return e.displayName||e.name;if("string"===typeof e)return e;switch(e){case tt:return"ReactFragment";case et:return"ReactPortal";case Je:return"ReactCall";case Ze:return"ReactReturn"}if("object"===typeof e&&null!==e)switch(e.$$typeof){case at:return""!==(e=e.render.displayName||e.render.name||"")?"ForwardRef("+e+")":"ForwardRef"}return null}function lt(e){var t="";do{e:switch(e.tag){case 0:case 1:case 2:case 5:var n=e._debugOwner,r=e._debugSource,i=ut(e),o=null;n&&(o=ut(n)),n=r,i="\n    in "+(i||"Unknown")+(n?" (at "+n.fileName.replace(/^.*[\\\/]/,"")+":"+n.lineNumber+")":o?" (created by "+o+")":"");break e;default:i=""}t+=i,e=e.return}while(e);return t}var pt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ft={},dt={};function ht(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yt[e]=new ht(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yt[t]=new ht(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){yt[e]=new ht(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(e){yt[e]=new ht(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yt[e]=new ht(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){yt[e]=new ht(e,3,!0,e.toLowerCase(),null)}),["capture","download"].forEach(function(e){yt[e]=new ht(e,4,!1,e.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(e){yt[e]=new ht(e,6,!1,e.toLowerCase(),null)}),["rowSpan","start"].forEach(function(e){yt[e]=new ht(e,5,!1,e.toLowerCase(),null)});var mt=/[\-:]([a-z])/g;function gt(e){return e[1].toUpperCase()}function vt(e,t,n,r){var i=yt.hasOwnProperty(t)?yt[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!dt.hasOwnProperty(e)||!ft.hasOwnProperty(e)&&(pt.test(e)?dt[e]=!0:(ft[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function bt(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Tt(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=kt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function St(e,t){null!=(t=t.checked)&&vt(e,"checked",t,!1)}function Et(e,t){St(e,t);var n=kt(t.value);null!=n&&("number"===t.type?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n)),t.hasOwnProperty("value")?xt(e,t.type,n):t.hasOwnProperty("defaultValue")&&xt(e,t.type,kt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function wt(e,t){(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue"))&&(""===e.value&&(e.value=""+e._wrapperState.initialValue),e.defaultValue=""+e._wrapperState.initialValue),""!==(t=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==t&&(e.name=t)}function xt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function kt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mt,gt);yt[t]=new ht(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mt,gt);yt[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mt,gt);yt[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),yt.tabIndex=new ht("tabIndex",1,!1,"tabindex",null);var Pt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}};function Ct(e,t,n){return(e=le.getPooled(Pt.change,e,t,n)).type="change",Ae(n),ee(e),e}var _t=null,Ot=null;function It(e){D(e,!1)}function Mt(e){if(Ye(H(e)))return e}function Rt(e,t){if("topChange"===e)return t}var At=!1;function Nt(){_t&&(_t.detachEvent("onpropertychange",jt),Ot=_t=null)}function jt(e){"value"===e.propertyName&&Mt(Ot)&&ze(It,e=Ct(Ot,e,He(e)))}function Ft(e,t,n){"topFocus"===e?(Nt(),Ot=n,(_t=t).attachEvent("onpropertychange",jt)):"topBlur"===e&&Nt()}function Dt(e){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return Mt(Ot)}function Bt(e,t){if("topClick"===e)return Mt(t)}function Wt(e,t){if("topInput"===e||"topChange"===e)return Mt(t)}o.canUseDOM&&(At=Ge("input")&&(!document.documentMode||9<document.documentMode));var Ut={eventTypes:Pt,_isInputEventSupported:At,extractEvents:function(e,t,n,r){var i=t?H(t):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=Rt:Ve(i)?At?o=Wt:(o=Dt,a=Ft):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Bt),o&&(o=o(e,t)))return Ct(o,n,r);a&&a(e,i,t),"topBlur"===e&&null!=t&&(e=t._wrapperState||i._wrapperState)&&e.controlled&&"number"===i.type&&xt(i,"number",i.value)}},zt=le.extend({view:null,detail:null}),Lt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Lt[e])&&!!t[e]}function Ht(){return Vt}var Gt=zt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ht,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}}),Kt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},Xt={eventTypes:Kt,extractEvents:function(e,t,n,r){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement)||"topMouseOut"!==e&&"topMouseOver"!==e)return null;var i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window;if("topMouseOut"===e?(e=t,t=(t=n.relatedTarget||n.toElement)?V(t):null):e=null,e===t)return null;var o=null==e?i:H(e);i=null==t?i:H(t);var a=Gt.getPooled(Kt.mouseLeave,e,n,r);return a.type="mouseleave",a.target=o,a.relatedTarget=i,(n=Gt.getPooled(Kt.mouseEnter,t,n,r)).type="mouseenter",n.target=i,n.relatedTarget=o,te(a,n,e,t),[a,n]}};function Yt(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(0!==(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function Qt(e){return!!(e=e._reactInternalFiber)&&2===Yt(e)}function qt(e){2!==Yt(e)&&f("188")}function $t(e){var t=e.alternate;if(!t)return 3===(t=Yt(e))&&f("188"),1===t?null:e;for(var n=e,r=t;;){var i=n.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var a=i.child;a;){if(a===n)return qt(i),e;if(a===r)return qt(i),t;a=a.sibling}f("188")}if(n.return!==r.return)n=i,r=o;else{a=!1;for(var s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}a||f("189")}}n.alternate!==r&&f("190")}return 3!==n.tag&&f("188"),n.stateNode.current===n?e:t}function Jt(e){if(!(e=$t(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var Zt=le.extend({animationName:null,elapsedTime:null,pseudoElement:null}),en=le.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tn=zt.extend({relatedTarget:null});function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var rn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},on={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},an=zt.extend({key:function(e){if(e.key){var t=rn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?on[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ht,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),sn=Gt.extend({dataTransfer:null}),cn=zt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ht}),un=le.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ln=Gt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),pn={},fn={};function dn(e,t){var n=e[0].toUpperCase()+e.slice(1),r="on"+n;t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n="top"+n],isInteractive:t},pn[e]=t,fn[n]=t}"blur cancel click close contextMenu copy cut doubleClick dragEnd dragStart drop focus input invalid keyDown keyPress keyUp mouseDown mouseUp paste pause play rateChange reset seeked submit touchCancel touchEnd touchStart volumeChange".split(" ").forEach(function(e){dn(e,!0)}),"abort animationEnd animationIteration animationStart canPlay canPlayThrough drag dragEnter dragExit dragLeave dragOver durationChange emptied encrypted ended error load loadedData loadedMetadata loadStart mouseMove mouseOut mouseOver playing progress scroll seeking stalled suspend timeUpdate toggle touchMove transitionEnd waiting wheel".split(" ").forEach(function(e){dn(e,!1)});var hn={eventTypes:pn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=fn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=fn[e];if(!i)return null;switch(e){case"topKeyPress":if(0===nn(n))return null;case"topKeyDown":case"topKeyUp":e=an;break;case"topBlur":case"topFocus":e=tn;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":e=Gt;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":e=sn;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":e=cn;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":e=Zt;break;case"topTransitionEnd":e=un;break;case"topScroll":e=zt;break;case"topWheel":e=ln;break;case"topCopy":case"topCut":case"topPaste":e=en;break;default:e=le}return ee(t=e.getPooled(i,t,n,r)),t}},yn=hn.isInteractiveTopLevelEventType,mn=[];function gn(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(t),t=V(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],B(e.topLevelType,t,e.nativeEvent,He(e.nativeEvent))}var vn=!0;function bn(e){vn=!!e}function Tn(e,t,n){if(!n)return null;e=(yn(e)?En:wn).bind(null,e),n.addEventListener(t,e,!1)}function Sn(e,t,n){if(!n)return null;e=(yn(e)?En:wn).bind(null,e),n.addEventListener(t,e,!0)}function En(e,t){Be(wn,e,t)}function wn(e,t){if(vn){var n=He(t);if(null!==(n=V(n))&&"number"===typeof n.tag&&2!==Yt(n)&&(n=null),mn.length){var r=mn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{ze(gn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>mn.length&&mn.push(e)}}}var xn=Object.freeze({get _enabled(){return vn},setEnabled:bn,isEnabled:function(){return vn},trapBubbledEvent:Tn,trapCapturedEvent:Sn,dispatchEvent:wn});function kn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}var Pn={animationend:kn("Animation","AnimationEnd"),animationiteration:kn("Animation","AnimationIteration"),animationstart:kn("Animation","AnimationStart"),transitionend:kn("Transition","TransitionEnd")},Cn={},_n={};function On(e){if(Cn[e])return Cn[e];if(!Pn[e])return e;var t,n=Pn[e];for(t in n)if(n.hasOwnProperty(t)&&t in _n)return Cn[e]=n[t];return e}o.canUseDOM&&(_n=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);var In={topAnimationEnd:On("animationend"),topAnimationIteration:On("animationiteration"),topAnimationStart:On("animationstart"),topBlur:"blur",topCancel:"cancel",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoad:"load",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:On("transitionend"),topWheel:"wheel"},Mn={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Rn={},An=0,Nn="_reactListenersID"+(""+Math.random()).slice(2);function jn(e){return Object.prototype.hasOwnProperty.call(e,Nn)||(e[Nn]=An++,Rn[e[Nn]]={}),Rn[e[Nn]]}function Fn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dn(e,t){var n,r=Fn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Fn(r)}}function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)}var Wn=o.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Un={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},zn=null,Ln=null,Vn=null,Hn=!1;function Gn(e,t){if(Hn||null==zn||zn!==c())return null;var n=zn;return"selectionStart"in n&&Bn(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?n={anchorNode:(n=window.getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}:n=void 0,Vn&&u(Vn,n)?null:(Vn=n,(e=le.getPooled(Un.select,Ln,e,t)).type="select",e.target=zn,ee(e),e)}var Kn={eventTypes:Un,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=jn(o),i=S.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?H(t):window,e){case"topFocus":(Ve(o)||"true"===o.contentEditable)&&(zn=o,Ln=t,Vn=null);break;case"topBlur":Vn=Ln=zn=null;break;case"topMouseDown":Hn=!0;break;case"topContextMenu":case"topMouseUp":return Hn=!1,Gn(n,r);case"topSelectionChange":if(Wn)break;case"topKeyDown":case"topKeyUp":return Gn(n,r)}return null}};function Xn(e,t,n,r){this.tag=e,this.key=n,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function Yn(e,t,n){var r=e.alternate;return null===r?((r=new Xn(e.tag,t,e.key,e.mode)).type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Qn(e,t,n){var r=e.type,i=e.key;e=e.props;var o=void 0;if("function"===typeof r)o=r.prototype&&r.prototype.isReactComponent?2:0;else if("string"===typeof r)o=5;else switch(r){case tt:return qn(e.children,t,n,i);case ot:o=11,t|=3;break;case nt:o=11,t|=2;break;case Je:o=7;break;case Ze:o=9;break;default:if("object"===typeof r&&null!==r)switch(r.$$typeof){case rt:o=13;break;case it:o=12;break;case at:o=14;break;default:if("number"===typeof r.tag)return(t=r).pendingProps=e,t.expirationTime=n,t;f("130",null==r?r:typeof r,"")}else f("130",null==r?r:typeof r,"")}return(t=new Xn(o,e,i,t)).type=r,t.expirationTime=n,t}function qn(e,t,n,r){return(e=new Xn(10,e,r,t)).expirationTime=n,e}function $n(e,t,n){return(e=new Xn(6,e,null,t)).expirationTime=n,e}function Jn(e,t,n){return(t=new Xn(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}j.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),k=K.getFiberCurrentPropsFromNode,P=K.getInstanceFromNode,C=K.getNodeFromInstance,j.injectEventPluginsByName({SimpleEventPlugin:hn,EnterLeaveEventPlugin:Xt,ChangeEventPlugin:Ut,SelectEventPlugin:Kn,BeforeInputEventPlugin:Ce});var Zn=null,er=null;function tr(e){return function(t){try{return e(t)}catch(e){}}}function nr(e){"function"===typeof Zn&&Zn(e)}function rr(e){"function"===typeof er&&er(e)}function ir(e){return{baseState:e,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1,capturedValues:null}}function or(e,t){null===e.last?e.first=e.last=t:(e.last.next=t,e.last=t),(0===e.expirationTime||e.expirationTime>t.expirationTime)&&(e.expirationTime=t.expirationTime)}new Set;var ar=void 0,sr=void 0;function cr(e){ar=sr=null;var t=e.alternate,n=e.updateQueue;null===n&&(n=e.updateQueue=ir(null)),null!==t?null===(e=t.updateQueue)&&(e=t.updateQueue=ir(null)):e=null,ar=n,sr=e!==n?e:null}function ur(e,t){cr(e),e=ar;var n=sr;null===n?or(e,t):null===e.last||null===n.last?(or(e,t),or(n,t)):(or(e,t),n.last=t)}function lr(e,t,n,r){return"function"===typeof(e=e.partialState)?e.call(t,n,r):e}function pr(e,t,n,r,i,o){null!==e&&e.updateQueue===n&&(n=t.updateQueue={baseState:n.baseState,expirationTime:n.expirationTime,first:n.first,last:n.last,isInitialized:n.isInitialized,capturedValues:n.capturedValues,callbackList:null,hasForceUpdate:!1}),n.expirationTime=0,n.isInitialized?e=n.baseState:(e=n.baseState=t.memoizedState,n.isInitialized=!0);for(var s=!0,c=n.first,u=!1;null!==c;){var l=c.expirationTime;if(l>o){var p=n.expirationTime;(0===p||p>l)&&(n.expirationTime=l),u||(u=!0,n.baseState=e)}else u||(n.first=c.next,null===n.first&&(n.last=null)),c.isReplace?(e=lr(c,r,e,i),s=!0):(l=lr(c,r,e,i))&&(e=s?a({},e,l):a(e,l),s=!1),c.isForced&&(n.hasForceUpdate=!0),null!==c.callback&&(null===(l=n.callbackList)&&(l=n.callbackList=[]),l.push(c)),null!==c.capturedValue&&(null===(l=n.capturedValues)?n.capturedValues=[c.capturedValue]:l.push(c.capturedValue));c=c.next}return null!==n.callbackList?t.effectTag|=32:null!==n.first||n.hasForceUpdate||null!==n.capturedValues||(t.updateQueue=null),u||(n.baseState=e),e}function fr(e,t){var n=e.callbackList;if(null!==n)for(e.callbackList=null,e=0;e<n.length;e++){var r=n[e],i=r.callback;r.callback=null,"function"!==typeof i&&f("191",i),i.call(t)}}var dr=Array.isArray;function hr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){var r=void 0;(n=n._owner)&&(2!==n.tag&&f("110"),r=n.stateNode),r||f("147",e);var i=""+e;return null!==t&&null!==t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs===p?r.refs={}:r.refs;null===e?delete t[i]:t[i]=e})._stringRef=i,t)}"string"!==typeof e&&f("148"),n._owner||f("254",e)}return e}function yr(e,t){"textarea"!==e.type&&f("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function mr(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Yn(e,t,n)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=$n(n,e.mode,r)).return=e,t):((t=i(t,n,r)).return=e,t)}function c(e,t,n,r){return null!==t&&t.type===n.type?((r=i(t,n.props,r)).ref=hr(e,t,n),r.return=e,r):((r=Qn(n,e.mode,r)).ref=hr(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Jn(n,e.mode,r)).return=e,t):((t=i(t,n.children||[],r)).return=e,t)}function l(e,t,n,r,o){return null===t||10!==t.tag?((t=qn(n,e.mode,r,o)).return=e,t):((t=i(t,n,r)).return=e,t)}function p(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$n(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case $e:return(n=Qn(t,e.mode,n)).ref=hr(e,null,t),n.return=e,n;case et:return(t=Jn(t,e.mode,n)).return=e,t}if(dr(t)||ct(t))return(t=qn(t,e.mode,n,null)).return=e,t;yr(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case $e:return n.key===i?n.type===tt?l(e,t,n.props.children,r,i):c(e,t,n,r):null;case et:return n.key===i?u(e,t,n,r):null}if(dr(n)||ct(n))return null!==i?null:l(e,t,n,r,null);yr(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case $e:return e=e.get(null===r.key?n:r.key)||null,r.type===tt?l(t,e,r.props.children,i,r.key):c(t,e,r,i);case et:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(dr(r)||ct(r))return l(t,e=e.get(n)||null,r,i,null);yr(t,r)}return null}function y(i,a,s,c){for(var u=null,l=null,f=a,y=a=0,m=null;null!==f&&y<s.length;y++){f.index>y?(m=f,f=null):m=f.sibling;var g=d(i,f,s[y],c);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,y),null===l?u=g:l.sibling=g,l=g,f=m}if(y===s.length)return n(i,f),u;if(null===f){for(;y<s.length;y++)(f=p(i,s[y],c))&&(a=o(f,a,y),null===l?u=f:l.sibling=f,l=f);return u}for(f=r(i,f);y<s.length;y++)(m=h(f,i,y,s[y],c))&&(e&&null!==m.alternate&&f.delete(null===m.key?y:m.key),a=o(m,a,y),null===l?u=m:l.sibling=m,l=m);return e&&f.forEach(function(e){return t(i,e)}),u}function m(i,a,s,c){var u=ct(s);"function"!==typeof u&&f("150"),null==(s=u.call(s))&&f("151");for(var l=u=null,y=a,m=a=0,g=null,v=s.next();null!==y&&!v.done;m++,v=s.next()){y.index>m?(g=y,y=null):g=y.sibling;var b=d(i,y,v.value,c);if(null===b){y||(y=g);break}e&&y&&null===b.alternate&&t(i,y),a=o(b,a,m),null===l?u=b:l.sibling=b,l=b,y=g}if(v.done)return n(i,y),u;if(null===y){for(;!v.done;m++,v=s.next())null!==(v=p(i,v.value,c))&&(a=o(v,a,m),null===l?u=v:l.sibling=v,l=v);return u}for(y=r(i,y);!v.done;m++,v=s.next())null!==(v=h(y,i,m,v.value,c))&&(e&&null!==v.alternate&&y.delete(null===v.key?m:v.key),a=o(v,a,m),null===l?u=v:l.sibling=v,l=v);return e&&y.forEach(function(e){return t(i,e)}),u}return function(e,r,o,s){"object"===typeof o&&null!==o&&o.type===tt&&null===o.key&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case $e:e:{var u=o.key;for(c=r;null!==c;){if(c.key===u){if(10===c.tag?o.type===tt:c.type===o.type){n(e,c.sibling),(r=i(c,o.type===tt?o.props.children:o.props,s)).ref=hr(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===tt?((r=qn(o.props.children,e.mode,s,o.key)).return=e,e=r):((s=Qn(o,e.mode,s)).ref=hr(e,r,o),s.return=e,e=s)}return a(e);case et:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[],s)).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Jn(o,e.mode,s)).return=e,e=r}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o,s)).return=e,e=r):(n(e,r),(r=$n(o,e.mode,s)).return=e,e=r),a(e);if(dr(o))return y(e,r,o,s);if(ct(o))return m(e,r,o,s);if(c&&yr(e,o),"undefined"===typeof o)switch(e.tag){case 2:case 1:f("152",(s=e.type).displayName||s.name||"Component")}return n(e,r)}}var gr=mr(!0),vr=mr(!1);function br(e,t,n,r,i,o,s){function c(e,t,n){l(e,t,n,t.expirationTime)}function l(e,t,n,r){t.child=null===e?vr(t,null,n,r):gr(t,e.child,n,r)}function d(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function h(e,t,n,r,i,o){if(d(e,t),!n&&!i)return r&&_(t,!1),g(e,t);n=t.stateNode,Qe.current=t;var a=i?null:n.render();return t.effectTag|=1,i&&(l(e,t,null,o),t.child=null),l(e,t,a,o),t.memoizedState=n.state,t.memoizedProps=n.props,r&&_(t,!0),t.child}function y(e){var t=e.stateNode;t.pendingContext?C(e,t.pendingContext,t.pendingContext!==t.context):t.context&&C(e,t.context,!1),S(e,t.containerInfo)}function m(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){switch(i.tag){case 12:var o=0|i.stateNode;if(i.type===t&&0!==(o&n)){for(o=i;null!==o;){var a=o.alternate;if(0===o.expirationTime||o.expirationTime>r)o.expirationTime=r,null!==a&&(0===a.expirationTime||a.expirationTime>r)&&(a.expirationTime=r);else{if(null===a||!(0===a.expirationTime||a.expirationTime>r))break;a.expirationTime=r}o=o.return}o=null}else o=i.child;break;case 13:o=i.type===e.type?null:i.child;break;default:o=i.child}if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){o=i;break}o=o.return}i=o}}function g(e,t){if(null!==e&&t.child!==e.child&&f("153"),null!==t.child){var n=Yn(e=t.child,e.pendingProps,e.expirationTime);for(t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Yn(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}var v=e.shouldSetTextContent,b=e.shouldDeprioritizeSubtree,T=t.pushHostContext,S=t.pushHostContainer,E=r.pushProvider,w=n.getMaskedContext,x=n.getUnmaskedContext,k=n.hasContextChanged,P=n.pushContextProvider,C=n.pushTopLevelContextObject,_=n.invalidateContextProvider,O=i.enterHydrationState,I=i.resetHydrationState,M=i.tryToClaimNextHydratableInstance,R=(e=function(e,t,n,r,i){function o(e,t,n,r,i,o){if(null===t||null!==e.updateQueue&&e.updateQueue.hasForceUpdate)return!0;var a=e.stateNode;return e=e.type,"function"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(n,i,o):!e.prototype||!e.prototype.isPureReactComponent||!u(t,n)||!u(r,i)}function s(e,t){t.updater=g,e.stateNode=t,t._reactInternalFiber=e}function c(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&g.enqueueReplaceState(t,t.state,null)}function l(e,t,n,r){if("function"===typeof(e=e.type).getDerivedStateFromProps)return e.getDerivedStateFromProps.call(null,n,r)}var f=e.cacheContext,d=e.getMaskedContext,h=e.getUnmaskedContext,y=e.isContextConsumer,m=e.hasContextChanged,g={isMounted:Qt,enqueueSetState:function(e,r,i){e=e._reactInternalFiber,i=void 0===i?null:i;var o=n(e);ur(e,{expirationTime:o,partialState:r,callback:i,isReplace:!1,isForced:!1,capturedValue:null,next:null}),t(e,o)},enqueueReplaceState:function(e,r,i){e=e._reactInternalFiber,i=void 0===i?null:i;var o=n(e);ur(e,{expirationTime:o,partialState:r,callback:i,isReplace:!0,isForced:!1,capturedValue:null,next:null}),t(e,o)},enqueueForceUpdate:function(e,r){e=e._reactInternalFiber,r=void 0===r?null:r;var i=n(e);ur(e,{expirationTime:i,partialState:null,callback:r,isReplace:!1,isForced:!0,capturedValue:null,next:null}),t(e,i)}};return{adoptClassInstance:s,callGetDerivedStateFromProps:l,constructClassInstance:function(e,t){var n=e.type,r=h(e),i=y(e),o=i?d(e,r):p,c=null!==(n=new n(t,o)).state&&void 0!==n.state?n.state:null;return s(e,n),e.memoizedState=c,null!==(t=l(e,0,t,c))&&void 0!==t&&(e.memoizedState=a({},e.memoizedState,t)),i&&f(e,r,o),n},mountClassInstance:function(e,t){var n=e.type,r=e.alternate,i=e.stateNode,o=e.pendingProps,a=h(e);i.props=o,i.state=e.memoizedState,i.refs=p,i.context=d(e,a),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(n=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),n!==i.state&&g.enqueueReplaceState(i,i.state,null),null!==(n=e.updateQueue)&&(i.state=pr(r,e,n,i,o,t))),"function"===typeof i.componentDidMount&&(e.effectTag|=4)},resumeMountClassInstance:function(e,t){var n=e.type,s=e.stateNode;s.props=e.memoizedProps,s.state=e.memoizedState;var u=e.memoizedProps,p=e.pendingProps,f=s.context,y=h(e);y=d(e,y),(n="function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(u!==p||f!==y)&&c(e,s,p,y),f=e.memoizedState,t=null!==e.updateQueue?pr(null,e,e.updateQueue,s,p,t):f;var g=void 0;if(u!==p&&(g=l(e,0,p,t)),null!==g&&void 0!==g){t=null===t||void 0===t?g:a({},t,g);var v=e.updateQueue;null!==v&&(v.baseState=a({},v.baseState,g))}return u!==p||f!==t||m()||null!==e.updateQueue&&e.updateQueue.hasForceUpdate?((u=o(e,u,p,f,t,y))?(n||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.effectTag|=4)):("function"===typeof s.componentDidMount&&(e.effectTag|=4),r(e,p),i(e,t)),s.props=p,s.state=t,s.context=y,u):("function"===typeof s.componentDidMount&&(e.effectTag|=4),!1)},updateClassInstance:function(e,t,n){var s=t.type,u=t.stateNode;u.props=t.memoizedProps,u.state=t.memoizedState;var p=t.memoizedProps,f=t.pendingProps,y=u.context,g=h(t);g=d(t,g),(s="function"===typeof s.getDerivedStateFromProps||"function"===typeof u.getSnapshotBeforeUpdate)||"function"!==typeof u.UNSAFE_componentWillReceiveProps&&"function"!==typeof u.componentWillReceiveProps||(p!==f||y!==g)&&c(t,u,f,g),y=t.memoizedState,n=null!==t.updateQueue?pr(e,t,t.updateQueue,u,f,n):y;var v=void 0;if(p!==f&&(v=l(t,0,f,n)),null!==v&&void 0!==v){n=null===n||void 0===n?v:a({},n,v);var b=t.updateQueue;null!==b&&(b.baseState=a({},b.baseState,v))}return p!==f||y!==n||m()||null!==t.updateQueue&&t.updateQueue.hasForceUpdate?((v=o(t,p,f,y,n,g))?(s||"function"!==typeof u.UNSAFE_componentWillUpdate&&"function"!==typeof u.componentWillUpdate||("function"===typeof u.componentWillUpdate&&u.componentWillUpdate(f,n,g),"function"===typeof u.UNSAFE_componentWillUpdate&&u.UNSAFE_componentWillUpdate(f,n,g)),"function"===typeof u.componentDidUpdate&&(t.effectTag|=4),"function"===typeof u.getSnapshotBeforeUpdate&&(t.effectTag|=2048)):("function"!==typeof u.componentDidUpdate||p===e.memoizedProps&&y===e.memoizedState||(t.effectTag|=4),"function"!==typeof u.getSnapshotBeforeUpdate||p===e.memoizedProps&&y===e.memoizedState||(t.effectTag|=2048),r(t,f),i(t,n)),u.props=f,u.state=n,u.context=g,v):("function"!==typeof u.componentDidUpdate||p===e.memoizedProps&&y===e.memoizedState||(t.effectTag|=4),"function"!==typeof u.getSnapshotBeforeUpdate||p===e.memoizedProps&&y===e.memoizedState||(t.effectTag|=2048),!1)}}}(n,o,s,function(e,t){e.memoizedProps=t},function(e,t){e.memoizedState=t})).adoptClassInstance,A=e.callGetDerivedStateFromProps,N=e.constructClassInstance,j=e.mountClassInstance,F=e.resumeMountClassInstance,D=e.updateClassInstance;return{beginWork:function(e,t,n){if(0===t.expirationTime||t.expirationTime>n){switch(t.tag){case 3:y(t);break;case 2:P(t);break;case 4:S(t,t.stateNode.containerInfo);break;case 13:E(t)}return null}switch(t.tag){case 0:null!==e&&f("155");var r=t.type,i=t.pendingProps,o=x(t);return r=r(i,o=w(t,o)),t.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(o=t.type,t.tag=2,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,"function"===typeof o.getDerivedStateFromProps&&(null!==(i=A(t,r,i,t.memoizedState))&&void 0!==i&&(t.memoizedState=a({},t.memoizedState,i))),i=P(t),R(t,r),j(t,n),e=h(e,t,!0,i,!1,n)):(t.tag=1,c(e,t,r),t.memoizedProps=i,e=t.child),e;case 1:return i=t.type,n=t.pendingProps,k()||t.memoizedProps!==n?(r=x(t),i=i(n,r=w(t,r)),t.effectTag|=1,c(e,t,i),t.memoizedProps=n,e=t.child):e=g(e,t),e;case 2:i=P(t),null===e?null===t.stateNode?(N(t,t.pendingProps),j(t,n),r=!0):r=F(t,n):r=D(e,t,n),o=!1;var s=t.updateQueue;return null!==s&&null!==s.capturedValues&&(o=r=!0),h(e,t,r,i,o,n);case 3:e:if(y(t),r=t.updateQueue,null!==r){if(o=t.memoizedState,i=pr(e,t,r,null,null,n),t.memoizedState=i,null!==(r=t.updateQueue)&&null!==r.capturedValues)r=null;else{if(o===i){I(),e=g(e,t);break e}r=i.element}o=t.stateNode,(null===e||null===e.child)&&o.hydrate&&O(t)?(t.effectTag|=2,t.child=vr(t,null,r,n)):(I(),c(e,t,r)),t.memoizedState=i,e=t.child}else I(),e=g(e,t);return e;case 5:return T(t),null===e&&M(t),i=t.type,s=t.memoizedProps,r=t.pendingProps,o=null!==e?e.memoizedProps:null,k()||s!==r||((s=1&t.mode&&b(i,r))&&(t.expirationTime=1073741823),s&&1073741823===n)?(s=r.children,v(i,r)?s=null:o&&v(i,o)&&(t.effectTag|=16),d(e,t),1073741823!==n&&1&t.mode&&b(i,r)?(t.expirationTime=1073741823,t.memoizedProps=r,e=null):(c(e,t,s),t.memoizedProps=r,e=t.child)):e=g(e,t),e;case 6:return null===e&&M(t),t.memoizedProps=t.pendingProps,null;case 8:t.tag=7;case 7:return i=t.pendingProps,k()||t.memoizedProps!==i||(i=t.memoizedProps),r=i.children,t.stateNode=null===e?vr(t,t.stateNode,r,n):gr(t,e.stateNode,r,n),t.memoizedProps=i,t.stateNode;case 9:return null;case 4:return S(t,t.stateNode.containerInfo),i=t.pendingProps,k()||t.memoizedProps!==i?(null===e?t.child=gr(t,null,i,n):c(e,t,i),t.memoizedProps=i,e=t.child):e=g(e,t),e;case 14:return c(e,t,n=(n=t.type.render)(t.pendingProps,t.ref)),t.memoizedProps=n,t.child;case 10:return n=t.pendingProps,k()||t.memoizedProps!==n?(c(e,t,n),t.memoizedProps=n,e=t.child):e=g(e,t),e;case 11:return n=t.pendingProps.children,k()||null!==n&&t.memoizedProps!==n?(c(e,t,n),t.memoizedProps=n,e=t.child):e=g(e,t),e;case 13:return function(e,t,n){var r=t.type._context,i=t.pendingProps,o=t.memoizedProps;if(!k()&&o===i)return t.stateNode=0,E(t),g(e,t);var a=i.value;if(t.memoizedProps=i,null===o)a=1073741823;else if(o.value===i.value){if(o.children===i.children)return t.stateNode=0,E(t),g(e,t);a=0}else{var s=o.value;if(s===a&&(0!==s||1/s===1/a)||s!==s&&a!==a){if(o.children===i.children)return t.stateNode=0,E(t),g(e,t);a=0}else if(a="function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823,0===(a|=0)){if(o.children===i.children)return t.stateNode=0,E(t),g(e,t)}else m(t,r,a,n)}return t.stateNode=a,E(t),c(e,t,i.children),t.child}(e,t,n);case 12:e:{r=t.type,o=t.pendingProps,s=t.memoizedProps,i=r._currentValue;var u=r._changedBits;if(k()||0!==u||s!==o){t.memoizedProps=o;var l=o.unstable_observedBits;if(void 0!==l&&null!==l||(l=1073741823),t.stateNode=l,0!==(u&l))m(t,r,u,n);else if(s===o){e=g(e,t);break e}c(e,t,n=(n=o.children)(i)),e=t.child}else e=g(e,t)}return e;default:f("156")}}}}function Tr(e,t){var n=t.source;null===t.stack&&lt(n),null!==n&&ut(n),t=t.value,null!==e&&2===e.tag&&ut(e);try{t&&t.suppressReactErrorLogging||console.error(t)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}}var Sr={};function Er(e){function t(){if(null!==ee)for(var e=ee.return;null!==e;)N(e),e=e.return;te=null,ne=0,ee=null,oe=!1}function n(e){return null!==ae&&ae.has(e)}function r(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0===(512&e.effectTag)){t=M(t,e,ne);var i=e;if(1073741823===ne||1073741823!==i.expirationTime){e:switch(i.tag){case 3:case 2:var o=i.updateQueue;o=null===o?0:o.expirationTime;break e;default:o=0}for(var a=i.child;null!==a;)0!==a.expirationTime&&(0===o||o>a.expirationTime)&&(o=a.expirationTime),a=a.sibling;i.expirationTime=o}if(null!==t)return t;if(null!==n&&0===(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){oe=!0;break}e=n}else{if(null!==(e=A(e)))return e.effectTag&=2559,e;if(null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512),null!==r)return r;if(null===n)break;e=n}}return null}function i(e){var t=I(e.alternate,e,ne);return null===t&&(t=r(e)),Qe.current=null,t}function o(e,n,o){Z&&f("243"),Z=!0,n===ne&&e===te&&null!==ee||(t(),ne=n,ee=Yn((te=e).current,null,ne),e.pendingCommitExpirationTime=0);for(var a=!1;;){try{if(o)for(;null!==ee&&!x();)ee=i(ee);else for(;null!==ee;)ee=i(ee)}catch(e){if(null===ee){a=!0,k(e);break}var s=(o=ee).return;if(null===s){a=!0,k(e);break}R(s,o,e),ee=r(o)}break}return Z=!1,a||null!==ee?null:oe?(e.pendingCommitExpirationTime=n,e.current.alternate):void f("262")}function s(e,t,n,r){ur(t,{expirationTime:r,partialState:null,callback:null,isReplace:!1,isForced:!1,capturedValue:e={value:n,source:e,stack:lt(e)},next:null}),l(t,r)}function c(e,t){e:{Z&&!ie&&f("263");for(var r=e.return;null!==r;){switch(r.tag){case 2:var i=r.stateNode;if("function"===typeof r.type.getDerivedStateFromCatch||"function"===typeof i.componentDidCatch&&!n(i)){s(e,r,t,1),e=void 0;break e}break;case 3:s(e,r,t,1),e=void 0;break e}r=r.return}3===e.tag&&s(e,e,t,1),e=void 0}return e}function u(e){return e=0!==J?J:Z?ie?1:ne:1&e.mode?Se?10*(1+((d()+15)/10|0)):25*(1+((d()+500)/25|0)):1,Se&&(0===he||e>he)&&(he=e),e}function l(e,n){e:{for(;null!==e;){if((0===e.expirationTime||e.expirationTime>n)&&(e.expirationTime=n),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>n)&&(e.alternate.expirationTime=n),null===e.return){if(3!==e.tag){n=void 0;break e}var r=e.stateNode;!Z&&0!==ne&&n<ne&&t(),Z&&!ie&&te===r||m(r,n),xe>we&&f("185")}e=e.return}n=void 0}return n}function d(){return q=H()-Q,2+(q/10|0)}function h(e,t,n,r,i){var o=J;J=1;try{return e(t,n,r,i)}finally{J=o}}function y(e){if(0!==ue){if(e>ue)return;K(le)}var t=H()-Q;ue=e,le=G(v,{timeout:10*(e-2)-t})}function m(e,t){if(null===e.nextScheduledRoot)e.remainingExpirationTime=t,null===ce?(se=ce=e,e.nextScheduledRoot=e):(ce=ce.nextScheduledRoot=e).nextScheduledRoot=se;else{var n=e.remainingExpirationTime;(0===n||t<n)&&(e.remainingExpirationTime=t)}pe||(be?Te&&(fe=e,de=1,E(e,1,!1)):1===t?b():y(t))}function g(){var e=0,t=null;if(null!==ce)for(var n=ce,r=se;null!==r;){var i=r.remainingExpirationTime;if(0===i){if((null===n||null===ce)&&f("244"),r===r.nextScheduledRoot){se=ce=r.nextScheduledRoot=null;break}if(r===se)se=i=r.nextScheduledRoot,ce.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===ce){(ce=n).nextScheduledRoot=se,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if((0===e||i<e)&&(e=i,t=r),r===ce)break;n=r,r=r.nextScheduledRoot}}null!==(n=fe)&&n===t&&1===e?xe++:xe=0,fe=t,de=e}function v(e){T(0,!0,e)}function b(){T(1,!1,null)}function T(e,t,n){if(ve=n,g(),t)for(;null!==fe&&0!==de&&(0===e||e>=de)&&(!ye||d()>=de);)E(fe,de,!ye),g();else for(;null!==fe&&0!==de&&(0===e||e>=de);)E(fe,de,!1),g();null!==ve&&(ue=0,le=-1),0!==de&&y(de),ve=null,ye=!1,S()}function S(){if(xe=0,null!==Ee){var e=Ee;Ee=null;for(var t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){me||(me=!0,ge=e)}}}if(me)throw e=ge,ge=null,me=!1,e}function E(e,t,n){pe&&f("245"),pe=!0,n?null!==(n=e.finishedWork)?w(e,n,t):(e.finishedWork=null,null!==(n=o(e,t,!0))&&(x()?e.finishedWork=n:w(e,n,t))):null!==(n=e.finishedWork)?w(e,n,t):(e.finishedWork=null,null!==(n=o(e,t,!1))&&w(e,n,t)),pe=!1}function w(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime<=n&&(null===Ee?Ee=[r]:Ee.push(r),r._defer))return e.finishedWork=t,void(e.remainingExpirationTime=0);e.finishedWork=null,ie=Z=!0,(n=t.stateNode).current===t&&f("177"),0===(r=n.pendingCommitExpirationTime)&&f("261"),n.pendingCommitExpirationTime=0;var i=d();if(Qe.current=null,1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var o=t.firstEffect}else o=t;else o=t.firstEffect;for(X(n.containerInfo),re=o;null!==re;){var a=!1,s=void 0;try{for(;null!==re;)2048&re.effectTag&&j(re.alternate,re),re=re.nextEffect}catch(e){a=!0,s=e}a&&(null===re&&f("178"),c(re,s),null!==re&&(re=re.nextEffect))}for(re=o;null!==re;){a=!1,s=void 0;try{for(;null!==re;){var u=re.effectTag;if(16&u&&F(re),128&u){var l=re.alternate;null!==l&&V(l)}switch(14&u){case 2:D(re),re.effectTag&=-3;break;case 6:D(re),re.effectTag&=-3,W(re.alternate,re);break;case 4:W(re.alternate,re);break;case 8:B(re)}re=re.nextEffect}}catch(e){a=!0,s=e}a&&(null===re&&f("178"),c(re,s),null!==re&&(re=re.nextEffect))}for(Y(n.containerInfo),n.current=t,re=o;null!==re;){u=!1,l=void 0;try{for(o=n,a=i,s=r;null!==re;){var p=re.effectTag;36&p&&U(o,re.alternate,re,a,s),256&p&&z(re,k),128&p&&L(re);var h=re.nextEffect;re.nextEffect=null,re=h}}catch(e){u=!0,l=e}u&&(null===re&&f("178"),c(re,l),null!==re&&(re=re.nextEffect))}Z=ie=!1,nr(t.stateNode),0===(t=n.current.expirationTime)&&(ae=null),e.remainingExpirationTime=t}function x(){return!(null===ve||ve.timeRemaining()>ke)&&(ye=!0)}function k(e){null===fe&&f("246"),fe.remainingExpirationTime=0,me||(me=!0,ge=e)}var P=function(){var e=[],t=-1;return{createCursor:function(e){return{current:e}},isEmpty:function(){return-1===t},pop:function(n){0>t||(n.current=e[t],e[t]=null,t--)},push:function(n,r){e[++t]=n.current,n.current=r},checkThatStackIsEmpty:function(){},resetStackAfterFatalErrorInDev:function(){}}}(),C=function(e,t){function n(e){return e===Sr&&f("174"),e}var r=e.getChildHostContext,i=e.getRootHostContext;e=t.createCursor;var o=t.push,a=t.pop,s=e(Sr),c=e(Sr),u=e(Sr);return{getHostContext:function(){return n(s.current)},getRootHostContainer:function(){return n(u.current)},popHostContainer:function(e){a(s,e),a(c,e),a(u,e)},popHostContext:function(e){c.current===e&&(a(s,e),a(c,e))},pushHostContainer:function(e,t){o(u,t,e),o(c,e,e),o(s,Sr,e),t=i(t),a(s,e),o(s,t,e)},pushHostContext:function(e){var t=n(u.current),i=n(s.current);i!==(t=r(i,e.type,t))&&(o(c,e,e),o(s,t,e))}}}(e,P),_=function(e){function t(e,t,n){(e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n}function n(e){return 2===e.tag&&null!=e.type.childContextTypes}function r(e,t){var n=e.stateNode,r=e.type.childContextTypes;if("function"!==typeof n.getChildContext)return t;for(var i in n=n.getChildContext())i in r||f("108",ut(e)||"Unknown",i);return a({},t,n)}var i=e.createCursor,o=e.push,s=e.pop,c=i(p),u=i(!1),l=p;return{getUnmaskedContext:function(e){return n(e)?l:c.current},cacheContext:t,getMaskedContext:function(e,n){var r=e.type.contextTypes;if(!r)return p;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===n)return i.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in r)a[o]=n[o];return i&&t(e,n,a),a},hasContextChanged:function(){return u.current},isContextConsumer:function(e){return 2===e.tag&&null!=e.type.contextTypes},isContextProvider:n,popContextProvider:function(e){n(e)&&(s(u,e),s(c,e))},popTopLevelContextObject:function(e){s(u,e),s(c,e)},pushTopLevelContextObject:function(e,t,n){null!=c.cursor&&f("168"),o(c,t,e),o(u,n,e)},processChildContext:r,pushContextProvider:function(e){if(!n(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||p,l=c.current,o(c,t,e),o(u,u.current,e),!0},invalidateContextProvider:function(e,t){var n=e.stateNode;if(n||f("169"),t){var i=r(e,l);n.__reactInternalMemoizedMergedChildContext=i,s(u,e),s(c,e),o(c,i,e)}else s(u,e);o(u,t,e)},findCurrentUnmaskedContext:function(e){for((2!==Yt(e)||2!==e.tag)&&f("170");3!==e.tag;){if(n(e))return e.stateNode.__reactInternalMemoizedMergedChildContext;(e=e.return)||f("171")}return e.stateNode.context}}}(P);P=function(e){var t=e.createCursor,n=e.push,r=e.pop,i=t(null),o=t(null),a=t(0);return{pushProvider:function(e){var t=e.type._context;n(a,t._changedBits,e),n(o,t._currentValue,e),n(i,e,e),t._currentValue=e.pendingProps.value,t._changedBits=e.stateNode},popProvider:function(e){var t=a.current,n=o.current;r(i,e),r(o,e),r(a,e),(e=e.type._context)._currentValue=n,e._changedBits=t}}}(P);var O=function(e){function t(e,t){var n=new Xn(5,null,null,0);n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function n(e,t){switch(e.tag){case 5:return null!==(t=o(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=a(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function r(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;p=e}var i=e.shouldSetTextContent;if(!(e=e.hydration))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){f("175")},prepareToHydrateHostTextInstance:function(){f("176")},popHydrationState:function(){return!1}};var o=e.canHydrateInstance,a=e.canHydrateTextInstance,s=e.getNextHydratableSibling,c=e.getFirstHydratableChild,u=e.hydrateInstance,l=e.hydrateTextInstance,p=null,d=null,h=!1;return{enterHydrationState:function(e){return d=c(e.stateNode.containerInfo),p=e,h=!0},resetHydrationState:function(){d=p=null,h=!1},tryToClaimNextHydratableInstance:function(e){if(h){var r=d;if(r){if(!n(e,r)){if(!(r=s(r))||!n(e,r))return e.effectTag|=2,h=!1,void(p=e);t(p,d)}p=e,d=c(r)}else e.effectTag|=2,h=!1,p=e}},prepareToHydrateHostInstance:function(e,t,n){return t=u(e.stateNode,e.type,e.memoizedProps,t,n,e),e.updateQueue=t,null!==t},prepareToHydrateHostTextInstance:function(e){return l(e.stateNode,e.memoizedProps,e)},popHydrationState:function(e){if(e!==p)return!1;if(!h)return r(e),h=!0,!1;var n=e.type;if(5!==e.tag||"head"!==n&&"body"!==n&&!i(n,e.memoizedProps))for(n=d;n;)t(e,n),n=s(n);return r(e),d=p?s(e.stateNode):null,!0}}}(e),I=br(e,C,_,P,O,l,u).beginWork,M=function(e,t,n,r,i){function o(e){e.effectTag|=4}var a=e.createInstance,s=e.createTextInstance,c=e.appendInitialChild,u=e.finalizeInitialChildren,l=e.prepareUpdate,p=e.persistence,d=t.getRootHostContainer,h=t.popHostContext,y=t.getHostContext,m=t.popHostContainer,g=n.popContextProvider,v=n.popTopLevelContextObject,b=r.popProvider,T=i.prepareToHydrateHostInstance,S=i.prepareToHydrateHostTextInstance,E=i.popHydrationState,w=void 0,x=void 0,k=void 0;return e.mutation?(w=function(){},x=function(e,t,n){(t.updateQueue=n)&&o(t)},k=function(e,t,n,r){n!==r&&o(t)}):f(p?"235":"236"),{completeWork:function(e,t,n){var r=t.pendingProps;switch(t.tag){case 1:return null;case 2:return g(t),e=t.stateNode,null!==(r=t.updateQueue)&&null!==r.capturedValues&&(t.effectTag&=-65,"function"===typeof e.componentDidCatch?t.effectTag|=256:r.capturedValues=null),null;case 3:return m(t),v(t),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(E(t),t.effectTag&=-3),w(t),null!==(e=t.updateQueue)&&null!==e.capturedValues&&(t.effectTag|=256),null;case 5:h(t),n=d();var i=t.type;if(null!==e&&null!=t.stateNode){var p=e.memoizedProps,P=t.stateNode,C=y();P=l(P,i,p,r,n,C),x(e,t,P,i,p,r,n,C),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!r)return null===t.stateNode&&f("166"),null;if(e=y(),E(t))T(t,n,e)&&o(t);else{p=a(i,r,n,e,t);e:for(C=t.child;null!==C;){if(5===C.tag||6===C.tag)c(p,C.stateNode);else if(4!==C.tag&&null!==C.child){C.child.return=C,C=C.child;continue}if(C===t)break;for(;null===C.sibling;){if(null===C.return||C.return===t)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}u(p,i,r,n,e)&&o(t),t.stateNode=p}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)k(e,t,e.memoizedProps,r);else{if("string"!==typeof r)return null===t.stateNode&&f("166"),null;e=d(),n=y(),E(t)?S(t)&&o(t):t.stateNode=s(r,e,n,t)}return null;case 7:(r=t.memoizedProps)||f("165"),t.tag=8,i=[];e:for((p=t.stateNode)&&(p.return=t);null!==p;){if(5===p.tag||6===p.tag||4===p.tag)f("247");else if(9===p.tag)i.push(p.pendingProps.value);else if(null!==p.child){p.child.return=p,p=p.child;continue}for(;null===p.sibling;){if(null===p.return||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}return r=(p=r.handler)(r.props,i),t.child=gr(t,null!==e?e.child:null,r,n),t.child;case 8:return t.tag=7,null;case 9:case 14:case 10:case 11:return null;case 4:return m(t),w(t),null;case 13:return b(t),null;case 12:return null;case 0:f("167");default:f("156")}}}}(e,C,_,P,O).completeWork,R=(C=function(e,t,n,r,i){var o=e.popHostContainer,a=e.popHostContext,s=t.popContextProvider,c=t.popTopLevelContextObject,u=n.popProvider;return{throwException:function(e,t,n){t.effectTag|=512,t.firstEffect=t.lastEffect=null,t={value:n,source:t,stack:lt(t)};do{switch(e.tag){case 3:return cr(e),e.updateQueue.capturedValues=[t],void(e.effectTag|=1024);case 2:if(n=e.stateNode,0===(64&e.effectTag)&&null!==n&&"function"===typeof n.componentDidCatch&&!i(n)){cr(e);var r=(n=e.updateQueue).capturedValues;return null===r?n.capturedValues=[t]:r.push(t),void(e.effectTag|=1024)}}e=e.return}while(null!==e)},unwindWork:function(e){switch(e.tag){case 2:s(e);var t=e.effectTag;return 1024&t?(e.effectTag=-1025&t|64,e):null;case 3:return o(e),c(e),1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 5:return a(e),null;case 4:return o(e),null;case 13:return u(e),null;default:return null}},unwindInterruptedWork:function(e){switch(e.tag){case 2:s(e);break;case 3:o(e),c(e);break;case 5:a(e);break;case 4:o(e);break;case 13:u(e)}}}}(C,_,P,0,n)).throwException,A=C.unwindWork,N=C.unwindInterruptedWork,j=(C=function(e,t,n,r,i){function o(e){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(n){t(e,n)}else n.current=null}function a(e){switch(rr(e),e.tag){case 2:o(e);var n=e.stateNode;if("function"===typeof n.componentWillUnmount)try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(n){t(e,n)}break;case 5:o(e);break;case 7:s(e.stateNode);break;case 4:p&&u(e)}}function s(e){for(var t=e;;)if(a(t),null===t.child||p&&4===t.tag){if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}else t.child.return=t,t=t.child}function c(e){return 5===e.tag||3===e.tag||4===e.tag}function u(e){for(var t=e,n=!1,r=void 0,i=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&f("160"),n.tag){case 5:r=n.stateNode,i=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag)s(t),i?E(r,t.stateNode):S(r,t.stateNode);else if(4===t.tag?r=t.stateNode.containerInfo:a(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}var l=e.getPublicInstance,p=e.mutation;e=e.persistence,p||f(e?"235":"236");var d=p.commitMount,h=p.commitUpdate,y=p.resetTextContent,m=p.commitTextUpdate,g=p.appendChild,v=p.appendChildToContainer,b=p.insertBefore,T=p.insertInContainerBefore,S=p.removeChild,E=p.removeChildFromContainer;return{commitBeforeMutationLifeCycles:function(e,t){switch(t.tag){case 2:if(2048&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;(e=t.stateNode).props=t.memoizedProps,e.state=t.memoizedState,t=e.getSnapshotBeforeUpdate(n,r),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:break;default:f("163")}},commitResetTextContent:function(e){y(e.stateNode)},commitPlacement:function(e){e:{for(var t=e.return;null!==t;){if(c(t)){var n=t;break e}t=t.return}f("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:f("161")}16&n.effectTag&&(y(t),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||c(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)n?r?T(t,i.stateNode,n):b(t,i.stateNode,n):r?v(t,i.stateNode):g(t,i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},commitDeletion:function(e){u(e),e.return=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate.return=null)},commitWork:function(e,t){switch(t.tag){case 2:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&h(n,o,i,e,r,t)}break;case 6:null===t.stateNode&&f("162"),n=t.memoizedProps,m(t.stateNode,null!==e?e.memoizedProps:n,n);break;case 3:break;default:f("163")}},commitLifeCycles:function(e,t,n){switch(n.tag){case 2:if(e=n.stateNode,4&n.effectTag)if(null===t)e.props=n.memoizedProps,e.state=n.memoizedState,e.componentDidMount();else{var r=t.memoizedProps;t=t.memoizedState,e.props=n.memoizedProps,e.state=n.memoizedState,e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}null!==(n=n.updateQueue)&&fr(n,e);break;case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=l(n.child.stateNode);break;case 2:e=n.child.stateNode}fr(t,e)}break;case 5:e=n.stateNode,null===t&&4&n.effectTag&&d(e,n.type,n.memoizedProps,n);break;case 6:case 4:break;default:f("163")}},commitErrorLogging:function(e,t){switch(e.tag){case 2:var n=e.type;t=e.stateNode;var r=e.updateQueue;(null===r||null===r.capturedValues)&&f("264");var o=r.capturedValues;for(r.capturedValues=null,"function"!==typeof n.getDerivedStateFromCatch&&i(t),t.props=e.memoizedProps,t.state=e.memoizedState,n=0;n<o.length;n++){var a=(r=o[n]).value,s=r.stack;Tr(e,r),t.componentDidCatch(a,{componentStack:null!==s?s:""})}break;case 3:for((null===(n=e.updateQueue)||null===n.capturedValues)&&f("264"),o=n.capturedValues,n.capturedValues=null,n=0;n<o.length;n++)Tr(e,r=o[n]),t(r.value);break;default:f("265")}},commitAttachRef:function(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:e=l(n);break;default:e=n}"function"===typeof t?t(e):t.current=e}},commitDetachRef:function(e){null!==(e=e.ref)&&("function"===typeof e?e(null):e.current=null)}}}(e,c,0,0,function(e){null===ae?ae=new Set([e]):ae.add(e)})).commitBeforeMutationLifeCycles,F=C.commitResetTextContent,D=C.commitPlacement,B=C.commitDeletion,W=C.commitWork,U=C.commitLifeCycles,z=C.commitErrorLogging,L=C.commitAttachRef,V=C.commitDetachRef,H=e.now,G=e.scheduleDeferredCallback,K=e.cancelDeferredCallback,X=e.prepareForCommit,Y=e.resetAfterCommit,Q=H(),q=Q,$=0,J=0,Z=!1,ee=null,te=null,ne=0,re=null,ie=!1,oe=!1,ae=null,se=null,ce=null,ue=0,le=-1,pe=!1,fe=null,de=0,he=0,ye=!1,me=!1,ge=null,ve=null,be=!1,Te=!1,Se=!1,Ee=null,we=1e3,xe=0,ke=1;return{recalculateCurrentTime:d,computeExpirationForFiber:u,scheduleWork:l,requestWork:m,flushRoot:function(e,t){pe&&f("253"),fe=e,de=t,E(e,t,!1),b(),S()},batchedUpdates:function(e,t){var n=be;be=!0;try{return e(t)}finally{(be=n)||pe||b()}},unbatchedUpdates:function(e,t){if(be&&!Te){Te=!0;try{return e(t)}finally{Te=!1}}return e(t)},flushSync:function(e,t){pe&&f("187");var n=be;be=!0;try{return h(e,t)}finally{be=n,b()}},flushControlled:function(e){var t=be;be=!0;try{h(e)}finally{(be=t)||pe||T(1,!1,null)}},deferredUpdates:function(e){var t=J;J=25*(1+((d()+500)/25|0));try{return e()}finally{J=t}},syncUpdates:h,interactiveUpdates:function(e,t,n){if(Se)return e(t,n);be||pe||0===he||(T(he,!1,null),he=0);var r=Se,i=be;be=Se=!0;try{return e(t,n)}finally{Se=r,(be=i)||pe||b()}},flushInteractiveUpdates:function(){pe||0===he||(T(he,!1,null),he=0)},computeUniqueAsyncExpiration:function(){var e=25*(1+((d()+500)/25|0));return e<=$&&(e=$+1),$=e},legacyContext:_}}function wr(e){function t(e,t,n,r,i,a){if(r=t.current,n){n=n._reactInternalFiber;var s=c(n);n=u(n)?l(n,s):s}else n=p;return null===t.context?t.context=n:t.pendingContext=n,ur(r,{expirationTime:i,partialState:{element:e},callback:void 0===(t=a)?null:t,isReplace:!1,isForced:!1,capturedValue:null,next:null}),o(r,i),i}var n=e.getPublicInstance,r=(e=Er(e)).recalculateCurrentTime,i=e.computeExpirationForFiber,o=e.scheduleWork,s=e.legacyContext,c=s.findCurrentUnmaskedContext,u=s.isContextProvider,l=s.processChildContext;return{createContainer:function(e,t,n){return e={current:t=new Xn(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:n,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},t.stateNode=e},updateContainer:function(e,n,o,a){var s=n.current;return t(e,n,o,r(),s=i(s),a)},updateContainerAtExpirationTime:function(e,n,i,o,a){return t(e,n,i,r(),o,a)},flushRoot:e.flushRoot,requestWork:e.requestWork,computeUniqueAsyncExpiration:e.computeUniqueAsyncExpiration,batchedUpdates:e.batchedUpdates,unbatchedUpdates:e.unbatchedUpdates,deferredUpdates:e.deferredUpdates,syncUpdates:e.syncUpdates,interactiveUpdates:e.interactiveUpdates,flushInteractiveUpdates:e.flushInteractiveUpdates,flushControlled:e.flushControlled,flushSync:e.flushSync,getPublicRootInstance:function(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:return n(e.child.stateNode);default:return e.child.stateNode}},findHostInstance:function(e){var t=e._reactInternalFiber;return void 0===t&&("function"===typeof e.render?f("188"):f("268",Object.keys(e))),null===(e=Jt(t))?null:e.stateNode},findHostInstanceWithNoPortals:function(e){return null===(e=function(e){if(!(e=$t(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:e.stateNode},injectIntoDevTools:function(e){var t=e.findFiberByHostInstance;return function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Zn=tr(function(e){return t.onCommitFiberRoot(n,e)}),er=tr(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}(a({},e,{findHostInstanceByFiber:function(e){return null===(e=Jt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}}}var xr=Object.freeze({default:wr}),kr=xr&&wr||xr,Pr=kr.default?kr.default:kr;var Cr="object"===typeof performance&&"function"===typeof performance.now,_r=void 0;_r=Cr?function(){return performance.now()}:function(){return Date.now()};var Or=void 0,Ir=void 0;if(o.canUseDOM)if("function"!==typeof requestIdleCallback||"function"!==typeof cancelIdleCallback){var Mr=null,Rr=!1,Ar=-1,Nr=!1,jr=0,Fr=33,Dr=33,Br=void 0;Br=Cr?{didTimeout:!1,timeRemaining:function(){var e=jr-performance.now();return 0<e?e:0}}:{didTimeout:!1,timeRemaining:function(){var e=jr-Date.now();return 0<e?e:0}};var Wr="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===Wr){if(Rr=!1,e=_r(),0>=jr-e){if(!(-1!==Ar&&Ar<=e))return void(Nr||(Nr=!0,requestAnimationFrame(Ur)));Br.didTimeout=!0}else Br.didTimeout=!1;Ar=-1,e=Mr,Mr=null,null!==e&&e(Br)}},!1);var Ur=function(e){Nr=!1;var t=e-jr+Dr;t<Dr&&Fr<Dr?(8>t&&(t=8),Dr=t<Fr?Fr:t):Fr=t,jr=e+Dr,Rr||(Rr=!0,window.postMessage(Wr,"*"))};Or=function(e,t){return Mr=e,null!=t&&"number"===typeof t.timeout&&(Ar=_r()+t.timeout),Nr||(Nr=!0,requestAnimationFrame(Ur)),0},Ir=function(){Mr=null,Rr=!1,Ar=-1}}else Or=window.requestIdleCallback,Ir=window.cancelIdleCallback;else Or=function(e){return setTimeout(function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})})},Ir=function(e){clearTimeout(e)};function zr(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,function(e){null==e||"string"!==typeof e&&"number"!==typeof e||(t+=e)}),t}(t.children))&&(e.children=t),e}function Lr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+n,t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Vr(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}}function Hr(e,t){return null!=t.dangerouslySetInnerHTML&&f("91"),a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gr(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&f("92"),Array.isArray(t)&&(1>=t.length||f("93"),t=t[0]),n=""+t),null==n&&(n="")),e._wrapperState={initialValue:""+n}}function Kr(e,t){var n=t.value;null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function Xr(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}var Yr={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Qr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qr(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Qr(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var $r,Jr=void 0,Zr=($r=function(e,t){if(e.namespaceURI!==Yr.svg||"innerHTML"in e)e.innerHTML=t;else{for((Jr=Jr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=Jr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return $r(e,t)})}:$r);function ei(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ti={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ni=["Webkit","ms","Moz","O"];function ri(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,o=t[n];i=null==o||"boolean"===typeof o||""===o?"":r||"number"!==typeof o||0===o||ti.hasOwnProperty(i)&&ti[i]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ti).forEach(function(e){ni.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ti[t]=ti[e]})});var ii=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oi(e,t,n){t&&(ii[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&f("137",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&f("60"),"object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||f("61")),null!=t.style&&"object"!==typeof t.style&&f("62",n()))}function ai(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var si=s.thatReturns("");function ci(e,t){var n=jn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var r=0;r<t.length;r++){var i=t[r];n.hasOwnProperty(i)&&n[i]||("topScroll"===i?Sn("topScroll","scroll",e):"topFocus"===i||"topBlur"===i?(Sn("topFocus","focus",e),Sn("topBlur","blur",e),n.topBlur=!0,n.topFocus=!0):"topCancel"===i?(Ge("cancel",!0)&&Sn("topCancel","cancel",e),n.topCancel=!0):"topClose"===i?(Ge("close",!0)&&Sn("topClose","close",e),n.topClose=!0):In.hasOwnProperty(i)&&Tn(i,In[i],e),n[i]=!0)}}function ui(e,t,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===Yr.html&&(r=Qr(e)),r===Yr.html?"script"===e?((e=n.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"===typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e}function li(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function pi(e,t,n,r){var i=ai(t,n);switch(t){case"iframe":case"object":Tn("topLoad","load",e);var o=n;break;case"video":case"audio":for(o in Mn)Mn.hasOwnProperty(o)&&Tn(o,Mn[o],e);o=n;break;case"source":Tn("topError","error",e),o=n;break;case"img":case"image":case"link":Tn("topError","error",e),Tn("topLoad","load",e),o=n;break;case"form":Tn("topReset","reset",e),Tn("topSubmit","submit",e),o=n;break;case"details":Tn("topToggle","toggle",e),o=n;break;case"input":Tt(e,n),o=bt(e,n),Tn("topInvalid","invalid",e),ci(r,"onChange");break;case"option":o=zr(e,n);break;case"select":Vr(e,n),o=a({},n,{value:void 0}),Tn("topInvalid","invalid",e),ci(r,"onChange");break;case"textarea":Gr(e,n),o=Hr(e,n),Tn("topInvalid","invalid",e),ci(r,"onChange");break;default:o=n}oi(t,o,si);var c,u=o;for(c in u)if(u.hasOwnProperty(c)){var l=u[c];"style"===c?ri(e,l):"dangerouslySetInnerHTML"===c?null!=(l=l?l.__html:void 0)&&Zr(e,l):"children"===c?"string"===typeof l?("textarea"!==t||""!==l)&&ei(e,l):"number"===typeof l&&ei(e,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(T.hasOwnProperty(c)?null!=l&&ci(r,c):null!=l&&vt(e,c,l,i))}switch(t){case"input":Xe(e),wt(e,n);break;case"textarea":Xe(e),Xr(e);break;case"option":null!=n.value&&e.setAttribute("value",n.value);break;case"select":e.multiple=!!n.multiple,null!=(t=n.value)?Lr(e,!!n.multiple,t,!1):null!=n.defaultValue&&Lr(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=s)}}function fi(e,t,n,r,i){var o=null;switch(t){case"input":n=bt(e,n),r=bt(e,r),o=[];break;case"option":n=zr(e,n),r=zr(e,r),o=[];break;case"select":n=a({},n,{value:void 0}),r=a({},r,{value:void 0}),o=[];break;case"textarea":n=Hr(e,n),r=Hr(e,r),o=[];break;default:"function"!==typeof n.onClick&&"function"===typeof r.onClick&&(e.onclick=s)}oi(t,r,si),t=e=void 0;var c=null;for(e in n)if(!r.hasOwnProperty(e)&&n.hasOwnProperty(e)&&null!=n[e])if("style"===e){var u=n[e];for(t in u)u.hasOwnProperty(t)&&(c||(c={}),c[t]="")}else"dangerouslySetInnerHTML"!==e&&"children"!==e&&"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&"autoFocus"!==e&&(T.hasOwnProperty(e)?o||(o=[]):(o=o||[]).push(e,null));for(e in r){var l=r[e];if(u=null!=n?n[e]:void 0,r.hasOwnProperty(e)&&l!==u&&(null!=l||null!=u))if("style"===e)if(u){for(t in u)!u.hasOwnProperty(t)||l&&l.hasOwnProperty(t)||(c||(c={}),c[t]="");for(t in l)l.hasOwnProperty(t)&&u[t]!==l[t]&&(c||(c={}),c[t]=l[t])}else c||(o||(o=[]),o.push(e,c)),c=l;else"dangerouslySetInnerHTML"===e?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(e,""+l)):"children"===e?u===l||"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(e,""+l):"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&(T.hasOwnProperty(e)?(null!=l&&ci(i,e),o||u===l||(o=[])):(o=o||[]).push(e,l))}return c&&(o=o||[]).push("style",c),o}function di(e,t,n,r,i){"input"===n&&"radio"===i.type&&null!=i.name&&St(e,i),ai(n,r),r=ai(n,i);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?ri(e,s):"dangerouslySetInnerHTML"===a?Zr(e,s):"children"===a?ei(e,s):vt(e,a,s,r)}switch(n){case"input":Et(e,i);break;case"textarea":Kr(e,i);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?Lr(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Lr(e,!!i.multiple,i.defaultValue,!0):Lr(e,!!i.multiple,i.multiple?[]:"",!1))}}function hi(e,t,n,r,i){switch(t){case"iframe":case"object":Tn("topLoad","load",e);break;case"video":case"audio":for(var o in Mn)Mn.hasOwnProperty(o)&&Tn(o,Mn[o],e);break;case"source":Tn("topError","error",e);break;case"img":case"image":case"link":Tn("topError","error",e),Tn("topLoad","load",e);break;case"form":Tn("topReset","reset",e),Tn("topSubmit","submit",e);break;case"details":Tn("topToggle","toggle",e);break;case"input":Tt(e,n),Tn("topInvalid","invalid",e),ci(i,"onChange");break;case"select":Vr(e,n),Tn("topInvalid","invalid",e),ci(i,"onChange");break;case"textarea":Gr(e,n),Tn("topInvalid","invalid",e),ci(i,"onChange")}for(var a in oi(t,n,si),r=null,n)n.hasOwnProperty(a)&&(o=n[a],"children"===a?"string"===typeof o?e.textContent!==o&&(r=["children",o]):"number"===typeof o&&e.textContent!==""+o&&(r=["children",""+o]):T.hasOwnProperty(a)&&null!=o&&ci(i,a));switch(t){case"input":Xe(e),wt(e,n);break;case"textarea":Xe(e),Xr(e);break;case"select":case"option":break;default:"function"===typeof n.onClick&&(e.onclick=s)}return r}function yi(e,t){return e.nodeValue!==t}var mi=Object.freeze({createElement:ui,createTextNode:li,setInitialProperties:pi,diffProperties:fi,updateProperties:di,diffHydratedProperties:hi,diffHydratedText:yi,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":if(Et(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=G(r);i||f("90"),Ye(r),Et(r,i)}}}break;case"textarea":Kr(e,n);break;case"select":null!=(t=n.value)&&Lr(e,!!n.multiple,t,!1)}}});Oe.injectFiberControlledHostComponent(mi);var gi=null,vi=null;function bi(e){this._expirationTime=xi.computeUniqueAsyncExpiration(),this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Ti(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Si(e,t,n){this._internalRoot=xi.createContainer(e,t,n)}function Ei(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function wi(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}bi.prototype.render=function(e){this._defer||f("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Ti;return xi.updateContainerAtExpirationTime(e,t,null,n,r._onCommit),r},bi.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},bi.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||f("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;null===r&&f("251"),r._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,xi.flushRoot(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},bi.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Ti.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Ti.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!==typeof n&&f("191",n),n()}}},Si.prototype.render=function(e,t){var n=this._internalRoot,r=new Ti;return null!==(t=void 0===t?null:t)&&r.then(t),xi.updateContainer(e,n,null,r._onCommit),r},Si.prototype.unmount=function(e){var t=this._internalRoot,n=new Ti;return null!==(e=void 0===e?null:e)&&n.then(e),xi.updateContainer(null,t,null,n._onCommit),n},Si.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new Ti;return null!==(n=void 0===n?null:n)&&i.then(n),xi.updateContainer(t,r,e,i._onCommit),i},Si.prototype.createBatch=function(){var e=new bi(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime<=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e};var xi=Pr({getRootHostContext:function(e){var t=e.nodeType;switch(t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qr(null,"");break;default:e=qr(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}return e},getChildHostContext:function(e,t){return qr(e,t)},getPublicInstance:function(e){return e},prepareForCommit:function(){gi=vn;var e=c();if(Bn(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=window.getSelection&&window.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(e){t=null;break e}var o=0,a=-1,s=-1,u=0,l=0,p=e,f=null;t:for(;;){for(var d;p!==t||0!==r&&3!==p.nodeType||(a=o+r),p!==i||0!==n&&3!==p.nodeType||(s=o+n),3===p.nodeType&&(o+=p.nodeValue.length),null!==(d=p.firstChild);)f=p,p=d;for(;;){if(p===e)break t;if(f===t&&++u===r&&(a=o),f===i&&++l===n&&(s=o),null!==(d=p.nextSibling))break;f=(p=f).parentNode}p=d}t=-1===a||-1===s?null:{start:a,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;vi={focusedElem:e,selectionRange:t},bn(!1)},resetAfterCommit:function(){var e=vi,t=c(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&l(document.documentElement,n)){if(Bn(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(window.getSelection){t=window.getSelection();var i=n[ie()].length;e=Math.min(r.start,i),r=void 0===r.end?e:Math.min(r.end,i),!t.extend&&e>r&&(i=r,r=e,e=i),i=Dn(n,e);var o=Dn(n,r);if(i&&o&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)){var a=document.createRange();a.setStart(i.node,i.offset),t.removeAllRanges(),e>r?(t.addRange(a),t.extend(o.node,o.offset)):(a.setEnd(o.node,o.offset),t.addRange(a))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}vi=null,bn(gi),gi=null},createInstance:function(e,t,n,r,i){return(e=ui(e,t,n,r))[z]=i,e[L]=t,e},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,n,r){return pi(e,t,n,r),wi(t,n)},prepareUpdate:function(e,t,n,r,i){return fi(e,t,n,r,i)},shouldSetTextContent:function(e,t){return"textarea"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"===typeof t.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,n,r){return(e=li(e,t))[z]=r,e},now:_r,mutation:{commitMount:function(e,t,n){wi(t,n)&&e.focus()},commitUpdate:function(e,t,n,r,i){e[L]=i,di(e,t,n,r,i)},resetTextContent:function(e){ei(e,"")},commitTextUpdate:function(e,t,n){e.nodeValue=n},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){8===e.nodeType?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},insertInContainerBefore:function(e,t,n){8===e.nodeType?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)}},hydration:{canHydrateInstance:function(e,t){return 1!==e.nodeType||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e},canHydrateTextInstance:function(e,t){return""===t||3!==e.nodeType?null:e},getNextHydratableSibling:function(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},getFirstHydratableChild:function(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},hydrateInstance:function(e,t,n,r,i,o){return e[z]=o,e[L]=n,hi(e,t,n,i,r)},hydrateTextInstance:function(e,t,n){return e[z]=n,yi(e,t)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:Or,cancelDeferredCallback:Ir}),ki=xi;function Pi(e,t,n,r,i){Ei(n)||f("200");var o=n._reactRootContainer;if(o){if("function"===typeof i){var a=i;i=function(){var e=xi.getPublicRootInstance(o._internalRoot);a.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Si(e,!1,t)}(n,r),"function"===typeof i){var s=i;i=function(){var e=xi.getPublicRootInstance(o._internalRoot);s.call(e)}}xi.unbatchedUpdates(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)})}return xi.getPublicRootInstance(o._internalRoot)}function Ci(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Ei(t)||f("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}De=ki.batchedUpdates,Be=ki.interactiveUpdates,We=ki.flushInteractiveUpdates;var _i={createPortal:Ci,findDOMNode:function(e){return null==e?null:1===e.nodeType?e:xi.findHostInstance(e)},hydrate:function(e,t,n){return Pi(null,e,t,!0,n)},render:function(e,t,n){return Pi(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return(null==e||void 0===e._reactInternalFiber)&&f("38"),Pi(e,t,n,!1,r)},unmountComponentAtNode:function(e){return Ei(e)||f("40"),!!e._reactRootContainer&&(xi.unbatchedUpdates(function(){Pi(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Ci.apply(void 0,arguments)},unstable_batchedUpdates:xi.batchedUpdates,unstable_deferredUpdates:xi.deferredUpdates,flushSync:xi.flushSync,unstable_flushControlled:xi.flushControlled,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:W,EventPluginRegistry:x,EventPropagators:ne,ReactControlledComponent:Fe,ReactDOMComponentTree:K,ReactDOMEventListener:xn},unstable_createRoot:function(e,t){return new Si(e,!0,null!=t&&!0===t.hydrate)}};xi.injectIntoDevTools({findFiberByHostInstance:V,bundleType:0,version:"16.3.2",rendererPackageName:"react-dom"});var Oi=Object.freeze({default:_i}),Ii=Oi&&_i||Oi;e.exports=Ii.default?Ii.default:Ii},function(e,t,n){"use strict";var r=n(132);e.exports=function(e){return r(e)&&3==e.nodeType}},function(e,t,n){"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"===typeof t.Node?e instanceof t.Node:"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName))}},function(e,t,n){"use strict";var r,i=n(134),o=(n.n(i),n(30)),a=(n.n(o),n(135)),s=(n.n(a),n(224)),c=(n.n(s),n(225)),u=n.n(c),l=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},f=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},s.register("addValue",function(e,t){return e+t}),s.registerAsyn("sdk",{tag:"sdk",newWhiteSdk:function(e){var t=JSON.parse(e);n.whiteWebSdk=new a.WhiteWebSdk({deviceType:u()()?a.DeviceType.Touch:a.DeviceType.Desktop,zoomMinScale:t.zoomMinScale,zoomMaxScale:t.zoomMaxScale})},joinRoom:function(e,t,r){n.whiteWebSdk.joinRoom({uuid:e,roomToken:t},{onRoomStateChanged:function(e){s.call("sdk.fireRoomStateChanged",JSON.stringify(e))},onPhaseChanged:function(t){s.call("sdk.firePhaseChanged",t),console.log("room "+e+" changed: "+t)},onDisconnectWithError:function(e){s.call("sdk.fireDisconnectWithError",e.message),console.error(e)},onKickedWithReason:function(e){s.call("sdk.fireKickedWithReason",e),console.error("kicked with reason: "+e)},onBeingAbleToCommitChange:function(e){s.call("sdk.fireBeingAbleToCommitChange",e)},onCatchErrorWhenAppendFrame:function(e,t){s.call("sdk.fireCatchErrorWhenAppendFrame",{userId:e,error:t.message})}}).then(function(e){n.setState({room:e}),n.room=e;var t=e.state;return r(JSON.stringify({state:t}))}).catch(function(e){return r(JSON.stringify({__error:{message:e.message,jsStack:e.stack}}))})}}),s.registerAsyn("room",{tag:"room",setGlobalState:function(e){var t=JSON.parse(e);n.room.setGlobalState(t)},setMemberState:function(e){var t=JSON.parse(e);n.room.setMemberState(t)},setViewMode:function(e){var t=JSON.parse(e);n.room.setViewMode(t)},setViewSize:function(e,t){n.room.setViewSize(e,t)},disconnect:function(){return p(n,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return[4,this.room.disconnect()];case 1:return e.sent(),[2]}})})},updateTextarea:function(e){var t=JSON.parse(e);n.room.updateTextarea(t)},insertNewPage:function(e){n.room.insertNewPage(e)},removePage:function(e){n.room.removePage(e)},insertImage:function(e){var t=JSON.parse(e);n.room.insertImage(t)},pushPptPages:function(e){var t=JSON.parse(e);n.room.pushPptPages(t)},completeImageUpload:function(e,t){n.room.completeImageUpload(e,t)},getMemberState:function(e){return e(JSON.stringify(n.room.state.memberState))},getGlobalState:function(e){return e(JSON.stringify(n.room.state.globalState))},getRoomMembers:function(e){return e(JSON.stringify(n.room.state.roomMembers))},getPptImages:function(e){return e(JSON.stringify(n.room.state.pptImages))},getZoomScale:function(e){return e(JSON.stringify(n.room.state.zoomScale))},getBroadcastState:function(e){return e(JSON.stringify(n.room.state.broadcastState))},dispatchMagixEvent:function(e){var t=JSON.parse(e);n.room.dispatchMagixEvent(t.eventName,t.payload)},addMagixEventListener:function(e){n.room.addMagixEventListener(e,function(e){var t=n.room.uuid;s.call("sdk.fireMagixEvent",JSON.stringify({uuid:t,eventName:e.event,payload:e.payload,scope:e.scope,authorId:e.authorId}))})},removeMagixEventListener:function(e){n.room.removeMagixEventListener(e)},convertToPointInWorld:function(e,t,r){var i=n.room.convertToPointInWorld({x:e,y:t});return r(JSON.stringify(i))}}),n}return l(t,e),t.prototype.componentWillMount=function(){return p(this,void 0,void 0,function(){return f(this,function(e){return[2]})})},t.prototype.render=function(){return this.state.room?o.createElement("div",{className:"whiteboard-container"},o.createElement(a.RoomWhiteboard,{room:this.state.room})):o.createElement("div",null,"is joining room...")},t}(o.Component);t.a=d},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(12));var r=n(114);t.RoomWhiteboard=r.RoomWhiteboard;var i=n(56);t.RoomPhase=i.RoomPhase,t.PlayerPhase=i.PlayerPhase,t.MediaPlayerPhase=i.MediaPlayerPhase,t.ObserverMode=i.ObserverMode;var o=n(25);t.ViewMode=o.ViewMode},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=new(n(41).IdGenerator);t.generateSelfloopSerializerObject=function(e,t){var n={id:e,types:Object.freeze(t.slice())};return n.key=n,n.index=n,n.properties=Object.freeze({}),Object.freeze(n)},function(e){e.Any="any",e.Never="never",e.Undefined="undefined",e.Null="null",e.String="string",e.Number="number",e.Boolean="boolean",e.Function="function",e.Object="object",e.And="and",e.Or="or",e.Generic="generic",e.Generator="generator",e.Reference="reference"}(r=t.TypeEnum||(t.TypeEnum={}));var o=function(){for(var e={},t=0,n=[r.Any,r.Never,r.Undefined,r.Null,r.String,r.Number,r.Boolean];t<n.length;t++){var o=n[t];e[o]={id:i.generate(),typeEnum:o}}return Object.freeze(e)}();function a(e){return o[e]}t.getSingletonType=a,t.getFunctionType=function(){return{id:i.generate(),typeEnum:r.Function}},t.getObjectType=function(e){var t=void 0===e?{}:e,n=t.key,o=t.index,s=t.properties;return{id:i.generate(),typeEnum:r.Object,key:n||a(r.Undefined),index:o||a(r.Undefined),properties:s||{}}},t.getCompoundType=function(e,t){return void 0===t&&(t=[]),{id:i.generate(),typeEnum:e,children:t}},t.getGenericType=function(e){return{id:i.generate(),typeEnum:r.Generic,index:e}},t.getGeneratorType=function(e){var t=e.template,n=e.params;return{id:i.generate(),typeEnum:r.Generator,template:t,params:n||[]}},t.getReferenceType=function(e){return{id:i.generate(),typeEnum:r.Reference,symbol:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),i=n(138),o=n(41),a=function(){function e(e,t){void 0===e&&(e=[]),this.bufferIdStack=[],this.templateEnvironment=new i.TemplateEnvironment(this.createContext(t)),this.tempObjectCache=new s(this.convertCollapsedNodeToTempObject.bind(this)),this.push.apply(this,e)}return e.prototype.createContext=function(e){return e||(e=function(e){throw new Error('can not handle symbol "'+e.symbol+'", because not implement replacer')}),Object.freeze({referenceTypeReplacer:e})},e.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=e;n<r.length;n++){var i=r[n],o=this.templateEnvironment.getTemplate(i).getHandle([]).collapsedNode,a=this.tempObjectCache.fetchIdWithCollapsedNode(o);this.bufferIdStack.push(a)}},e.prototype.getSerializerObjectsAndCleanBuffer=function(){var e=this.generateAllSerializerObjectsMap();return this.bufferIdStack=[],e},e.prototype.generateAllSerializerObjectsMap=function(){for(var e=[],t={},n=function(n){return e[t[n]]},r=[],i=0,o=this.tempObjectCache.allIds;i<o.length;i++){var a=o[i];t[a]=e.length,e.push({}),r.push(this.tempObjectCache.tempObjectWithId(a))}for(var s=0;s<r.length;++s){var c=r[s],u=e[s];this.fillTempObjectIntoSerializerObject(c,u,s,n)}return this.bufferIdStack.map(n)},e.prototype.fillTempObjectIntoSerializerObject=function(e,t,n,r){t.id=n,t.types=Object.freeze(e.types),t.key=r(e.key),t.index=r(e.index);var i={};for(var o in e.properties){var a=e.properties[o];i[o]=r(a)}t.properties=Object.freeze(i),Object.freeze(t)},e.prototype.convertCollapsedNodeToTempObject=function(e){for(;e.handle;)e=e.handle.collapsedNode;var t=e.types,n=e.object,r={};for(var i in n.properties){var o=n.properties[i];r[i]=this.tempObjectCache.fetchIdWithCollapsedNode(o)}return{types:t.slice(),key:this.tempObjectCache.fetchIdWithCollapsedNode(n.key),index:this.tempObjectCache.fetchIdWithCollapsedNode(n.index),properties:r}},e}();t.Serializer=a;var s=function(){function e(e){this.collapsedNodeToTempObjectConverter=e,this.borderNodeIdGenerator=new o.IdGenerator,this.existIdsSet={},this.id2TempObjectMap={},this.borderNodes=[],this.setupPrimitiveTypes()}return e.prototype.setupPrimitiveTypes=function(){this.id2TempObjectMap[e.AnyTemplateObjectId]=e.AnyTempObject,this.borderNodes.push({types:[r.TypeEnum.Any],id:e.AnyTemplateObjectId});for(var t=0,n=[r.TypeEnum.Never,r.TypeEnum.Undefined,r.TypeEnum.Null,r.TypeEnum.String,r.TypeEnum.Number,r.TypeEnum.Boolean,r.TypeEnum.Function];t<n.length;t++){var i=n[t];this.fetchBorderNodeId([i])}},Object.defineProperty(e.prototype,"allIds",{get:function(){var e=[];for(var t in this.id2TempObjectMap)e.push(t);return e},enumerable:!0,configurable:!0}),e.prototype.tempObjectWithId=function(e){return this.id2TempObjectMap[e]},e.prototype.fetchIdWithCollapsedNode=function(e){return this.hasObjectType(e)?(this.convertCollapsedNodeToTempObject(e),e.id):this.fetchBorderNodeId(e.types)},e.prototype.convertCollapsedNodeToTempObject=function(e){if(this.collapsedNodeToTempObjectConverter){var t=e.id;this.existIdsSet[t]||(this.existIdsSet[t]=!0,this.id2TempObjectMap[t]=this.collapsedNodeToTempObjectConverter(e))}},e.prototype.hasObjectType=function(e){for(var t=0,n=e.types;t<n.length;t++){if(n[t]===r.TypeEnum.Object)return!0}return!1},e.prototype.fetchBorderNodeId=function(t){var n=this;(t=t.slice()).sort();var r=this.borderNodes.find(function(e){return n.isTypesEquals(t,e.types)});if(r)return r.id;var i="b"+this.borderNodeIdGenerator.generate();return this.borderNodes.push({types:t,id:i}),this.id2TempObjectMap[i]={types:t,key:e.AnyTemplateObjectId,index:e.AnyTemplateObjectId,properties:{}},i},e.prototype.isTypesEquals=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},e.AnyTemplateObjectId="any",e.AnyTempObject={types:[r.TypeEnum.Any],key:e.AnyTemplateObjectId,index:e.AnyTemplateObjectId,properties:{}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(69),i=n(70),o=n(139),a=function(){function e(e){this.serializerContext=e,this.templatesTable={}}return e.prototype.getTemplate=function(e){var t=this.templatesTable[e.id];return t||(t=new s(this,e),this.templatesTable[e.id]=t),t},e}();t.TemplateEnvironment=a;var s=function(){function e(e,t){this.templateEnvironment=e,this.templateType=t,this.handlesCache=[]}return e.prototype.getHandle=function(e){var t=this.getHandleByParams(e);if(!t){t={state:r.HandleState.Indeterminate},this.setHandleWithParams(t,e.slice());var n=this.createCollapsedNode(e);t.collapsedNode=n,t.state=n.hasCircular?r.HandleState.Circular:r.HandleState.Noncircular}return t},e.prototype.createCollapsedNode=function(e){var t=new i.ExpandedExpressionGenerator(this.templateEnvironment,this.templateType,e).getExpandedExpression();return new o.CollapsedExpressionGenerator(t).getCollapsedExpression()},e.prototype.getHandleByParams=function(t){for(var n=0,r=this.handlesCache;n<r.length;n++){var i=r[n];if(e.isParamsEquals(i.params,t))return i.handle}},e.prototype.setHandleWithParams=function(e,t){if(this.handlesCache.length>=2500)throw new Error("the template's definition is divergence");this.handlesCache.push({handle:e,params:t})},e.isParamsEquals=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n){var r=e[n],i=t[n];if(r!==i){if(!("id"in r)||!("id"in i))return!1;if(r.id!==i.id)return!1}}return!0},e}()},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(69),o=n(70),a=n(19),s=n(41),c=function(){function e(e){this.rootExpandedNode=e}return e.prototype.getCollapsedExpression=function(){return this.collapseNode(this.rootExpandedNode)},e.prototype.collapseNode=function(t){switch(t.clazz){case o.ExpandedNodeClass.Border:return{id:e.idGenerator.generate(),hasCircular:!1,types:[t.type.typeEnum]};case o.ExpandedNodeClass.Object:return this.collapseObjectExpandedNode(t);case o.ExpandedNodeClass.Handle:return this.collapseHandleExpandedNode(t);case o.ExpandedNodeClass.Compound:return this.collapseCompoundExpandedNode(t,t.type.typeEnum)}},e.prototype.collapseObjectExpandedNode=function(t){var n=t.key,r=t.index,i=t.properties,o=this.collapseNode(n),s=this.collapseNode(r),c=o.hasCircular||s.hasCircular,u={};for(var l in i){var p=i[l],f=this.collapseNode(p);u[l]=f,c=c||f.hasCircular}var d={key:o,index:s,properties:u};return this.isCollapsedObjectHasNeverPropertyTypes(d)?e.NeverCollapsedNode:{id:e.idGenerator.generate(),hasCircular:c,types:[a.TypeEnum.Object],object:d}},e.prototype.collapseHandleExpandedNode=function(t){var n=t.handle;switch(n.state){case i.HandleState.Noncircular:return n.collapsedNode;case i.HandleState.Indeterminate:case i.HandleState.Circular:return{id:e.idGenerator.generate(),hasCircular:!0,types:[a.TypeEnum.Object],handle:n}}},e.prototype.collapseCompoundExpandedNode=function(t,n){for(var r=[],o=0,s=t.children;o<s.length;o++){var c=s[o];r.push(this.collapseNode(c))}if(0===r.length)return e.NeverCollapsedNode;if(1===r.length)return r[0];for(var u=0,l=r;u<l.length;u++){var p=l[u];if(p.handle&&p.handle.state===i.HandleState.Indeterminate){var f=n===a.TypeEnum.And?"&":"|";throw new Error('can not operate an indeterminate expression with "'+f+'" sign')}}return n===a.TypeEnum.And?this.pruneAndMergeNodes(r):this.flattenNodes(r)},e.prototype.pruneAndMergeNodes=function(t){var n=this.collectCrossTypeEnumsWith(t);if(0===n.length||n.find(function(e){return e===a.TypeEnum.Never}))return e.NeverCollapsedNode;var r=this.collectAllObjectCollapsedNodesIn(t);return this.handleObjectCollapsedNodesWithTypeEnums(r,n,a.TypeEnum.And)},e.prototype.flattenNodes=function(t){var n=this.collectUnionTypeEnumsWith(t);if(0===(n=n.filter(function(e){return e!==a.TypeEnum.Never})).length)return e.NeverCollapsedNode;if(n.find(function(e){return e===a.TypeEnum.Any}))return{id:e.idGenerator.generate(),hasCircular:!1,types:[a.TypeEnum.Any]};var r=this.collectAllObjectCollapsedNodesIn(t);return this.handleObjectCollapsedNodesWithTypeEnums(r,n,a.TypeEnum.Or)},e.prototype.collectCrossTypeEnumsWith=function(e){for(var t={},n=0,r=e;n<r.length;n++)for(var i=0,o=r[n].types;i<o.length;i++){var a=o[i];void 0===(u=t[a])&&(u=0),t[a]=u+1}var s=[];for(var c in t){var u;(u=t[c])===e.length&&s.push(c)}return s},e.prototype.collectUnionTypeEnumsWith=function(e){for(var t={},n=0,r=e;n<r.length;n++)for(var i=0,o=r[n].types;i<o.length;i++){t[o[i]]=!0}var a=[];for(var s in t)t[s]&&a.push(s);return a},e.prototype.collectAllObjectCollapsedNodesIn=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];(i.object||i.handle)&&t.push(i)}return t},e.prototype.handleObjectCollapsedNodesWithTypeEnums=function(t,n,i){if(0===t.length)return{id:e.idGenerator.generate(),hasCircular:!1,types:n};if(1===t.length)return r({},t[0],{id:e.idGenerator.generate(),types:n});var o=[];if(t=t.filter(function(e){return!e.handle||(o.push(e),!1)}),o.length>=2){var s=i===a.TypeEnum.And?"&":"|";throw new Error("can not "+o.length+' circular expression with "'+s+'" sign')}t.push.apply(t,o);for(var c=t[0].object,u=1;u<t.length;++u){if(i===a.TypeEnum.And&&this.isCollapsedObjectHasNeverPropertyTypes(c))return e.NeverCollapsedNode;var l=t[u],p=this.getObjectFromObjectCollapsedNode(l);c=i===a.TypeEnum.And?this.factorizeWithAndOperation(c,p):this.factorizeWithOrOperation(c,p)}return this.isCollapsedObjectHasNeverPropertyTypes(c)?e.NeverCollapsedNode:{id:e.idGenerator.generate(),types:n,hasCircular:this.hasCircularIn(t),object:c}},e.prototype.getObjectFromObjectCollapsedNode=function(e){for(;;){if(e.object)return e.object;e=e.handle.collapsedNode}},e.prototype.hasCircularIn=function(e){for(var t=0,n=e;t<n.length;t++){if(n[t].hasCircular)return!0}return!1},e.prototype.factorizeWithAndOperation=function(e,t){var n=[],r=[],i=[];for(var o in e.properties)o in t.properties?n.push(o):r.push(o);for(var o in t.properties)o in e.properties||i.push(o);for(var a={},s=0,c=n;s<c.length;s++){o=c[s];var u=e.properties[o],l=t.properties[o];a[o]=this.pruneAndMergeNodes([u,l])}for(var p=0,f=r;p<f.length;p++){a[o=f[p]]=e.properties[o]}for(var d=0,h=i;d<h.length;d++){a[o=h[d]]=t.properties[o]}return{key:this.pruneAndMergeKeyOrIndexNodes(e.key,t.key),index:this.pruneAndMergeKeyOrIndexNodes(e.index,t.index),properties:a}},e.prototype.factorizeWithOrOperation=function(e,t){var n=[];for(var r in e.properties)r in t.properties&&n.push(r);for(var i={},o=0,a=n;o<a.length;o++){r=a[o];var s=e.properties[r],c=t.properties[r];i[r]=this.flattenNodes([s,c])}return{key:this.flattenNodesKeyOrIndexNodes(e.key,t.key),index:this.flattenNodesKeyOrIndexNodes(e.index,t.index),properties:i}},e.prototype.pruneAndMergeKeyOrIndexNodes=function(e,t){return this.isCollapsedNodeTypeEqual(e,a.TypeEnum.Undefined)?t:this.isCollapsedNodeTypeEqual(t,a.TypeEnum.Undefined)?e:this.pruneAndMergeNodes([e,t])},e.prototype.flattenNodesKeyOrIndexNodes=function(e,t){return this.isCollapsedNodeTypeEqual(e,a.TypeEnum.Undefined)?t:this.isCollapsedNodeTypeEqual(t,a.TypeEnum.Undefined)?e:this.flattenNodes([e,t])},e.prototype.isCollapsedObjectHasNeverPropertyTypes=function(e){if(this.isCollapsedNodeTypeEqual(e.key,a.TypeEnum.Never))return!0;if(this.isCollapsedNodeTypeEqual(e.index,a.TypeEnum.Never))return!0;for(var t in e.properties)if(this.isCollapsedNodeTypeEqual(e.properties[t],a.TypeEnum.Never))return!0;return!1},e.prototype.isCollapsedNodeTypeEqual=function(e,t){return 1===e.types.length&&e.types[0]===t},e.idGenerator=new s.IdGenerator,e.NeverCollapsedNode={id:e.idGenerator.generate(),hasCircular:!1,types:[a.TypeEnum.Never]},e}();t.CollapsedExpressionGenerator=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(141);t.Initializer=r.Initializer;var i=n(71);t.Library=i.Library;var o=n(34);t.standardizeSymbolString=o.standardizeSymbolString},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(142),o=n(71),a=n(145),s=function(){function e(e,t,n){var s=this;this.version=e,this.akkoObjectBaseClass=t,this.librariesStack=[],this.registerLibrary=function(){s.librariesStack.push(new i.LibraryContext(s,s.akkoObjectBaseClass,s.coreFunctions))},this.isAkkoObject=function(e){return"object"===typeof e&&e instanceof s.akkoObjectBaseClass},this.getClassReflection=function(e){if("function"===typeof e){var t=e[a.ReflectionPropertyName];if("object"===typeof t&&t instanceof a.ClassReflectionImplement)return t}else if(s.isAkkoObject(e))return s.getClassReflection(e.constructor)},this.context=function(e,t){if(s.version!==t)throw new Error("can not support version "+t+" of module (only support "+s.version+")");var n=s.librariesStack[s.librariesStack.length-1];if(!n)throw new Error("can't find context. you can only import AkkoLibrary's index.ts outside");return n.moduleContext(e)},this.createLibrary=function(e){if("function"!==typeof e)throw new Error("akko library index.ts must export default class, instead of "+typeof e);if(!s.isAkkoObjectBaseClass(e))throw new Error("akko library index.ts must export default class, the class must extends AkkoClass");var t=s.librariesStack.pop();if(!t)throw new Error("can't find context. you can only import AkkoLibrary's index.ts outside");return new o.Library(e,a.windUp(t))},this.coreFunctions=Object.freeze(r({},n))}return e.prototype.isAkkoObjectBaseClass=function(e){for(var t=e.prototype;t;){if(t===this.akkoObjectBaseClass.prototype)return!0;t=Object.getPrototypeOf(t)}return!1},e}();t.Initializer=s},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(143),o=n(34),a=n(19),s=Object.freeze({TypeEnum:a.TypeEnum,getSingletonType:a.getSingletonType,getFunctionType:a.getFunctionType,getObjectType:a.getObjectType,getCompoundType:a.getCompoundType,getGenericType:a.getGenericType,getGeneratorType:a.getGeneratorType}),c=function(){function e(e,t,n){this.initializer=e,this.akkoObjectBaseClass=t,this.coreFunctions=n,this.moduleContexts={}}return e.prototype.moduleContext=function(e){var t=this.moduleContexts[e];return t||(t=new i.ModuleContext(this,e,this.akkoObjectBaseClass),this.moduleContexts[e]=t),r({},s,this.coreFunctions,{createLibrary:this.initializer.createLibrary,wrapSuperClass:t.wrapSuperClass,baseClass:t.baseClass,defineClass:t.defineClass,defineType:t.defineType,defineExport:t.defineExport,defineExportDefault:t.defineExportDefault,exportExternal:t.exportExternal,getReferenceType:t.getReferenceType})},e.prototype.findFinalTypeAndSymbol=function(e){var t=this.findContextWithModuleSignature(e.moduleSignature);if(o.isPrivateSymbol(e))return{symbol:e,type:t.typeWithId(e.id)};if(o.isPublicSymbol(e))return t.findFinalTypeAndSymbol(e.typeSignature);throw new Error("unrecognized scope "+e.scope)},e.prototype.findContextWithModuleSignature=function(e){var t=this.moduleContexts[e];if(!t){var n=e+"/index";t=this.moduleContexts[n]}if(!t)throw new Error('not found module "'+e+'"');return t},e.prototype.forEachClassDefinitionParams=function(e){var t=function(t){var r=n.moduleContexts[t];r.forEachClassDefinitionParams(function(t){e(r,t)})},n=this;for(var r in this.moduleContexts)t(r)},e}();t.LibraryContext=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),i=n(34),o=function(){function e(e,t,n){var o=this;this.libraryContext=e,this.moduleSignature=t,this.akkoObjectBaseClass=n,this.typesTable={},this.classDefinitionParamsBuffer=[],this.exportSignaturesTable={},this.exportExternalTable={},this.exportOtherModules=[],this.defineClass=function(e,t,n){o.classDefinitionParamsBuffer.push({id:e,constructor:t,parameter:n})},this.defineType=function(e,t){o.typesTable[e]=t},this.defineExport=function(e,t){o.exportSignaturesTable[t]=e},this.defineExportDefault=function(e){o.exportSignaturesTable.default=e},this.getReferenceType=function(e){var t=i.standardizeSymbolString(o.moduleSignature,e);return r.getReferenceType(t)},this.exportExternal=function(e,t){var n=i.covertRelativeModuleSignatureToAbsolution(o.moduleSignature,e);if(t)for(var r in t){var a=t[r],s=i.convertStringToSymbol(n+":"+a);if(o.exportExternalTable[r])throw new Error("duplicate export type "+r);o.exportExternalTable[r]=s}else o.exportOtherModules.push(n)},this.wrapSuperClass=function(e){if(e===Object)return o.akkoObjectBaseClass;if("function"!==typeof e)return e;if(!o.isAkkoObjectClass(e))throw new Error("can not extends external class "+e.name);return e},this.baseClass=function(){return o.akkoObjectBaseClass}}return e.prototype.forEachClassDefinitionParams=function(e){this.classDefinitionParamsBuffer.forEach(e)},e.prototype.findFinalTypeAndSymbol=function(e){var t=this.findFinalTypeAndSymbolOrUndefined(e);if(!t)throw new Error("type "+e+" is not export in "+this.moduleSignature);return t},e.prototype.findFinalTypeAndSymbolOrUndefined=function(e){var t=this.exportSignaturesTable[e];if(t)return{type:this.typesTable[t],symbol:i.convertStringToSymbol(this.moduleSignature+":"+e)};var n=this.exportExternalTable[e];if(n)return this.libraryContext.findFinalTypeAndSymbol(n);for(var r=0,o=this.exportOtherModules;r<o.length;r++){var a=o[r],s=this.libraryContext.findContextWithModuleSignature(a).findFinalTypeAndSymbolOrUndefined(e);if(s)return s}},e.prototype.typeWithId=function(e){if(!(e in this.typesTable))throw new Error('id "'+e+'" not found');return this.typesTable[e]},e.prototype.isAkkoObjectClass=function(e){for(var t=e.prototype;t;){if(t!==this.akkoObjectBaseClass.prototype)return!0;t=Object.getPrototypeOf(t)}return!1},e}();t.ModuleContext=o},function(e,t,n){"use strict";function r(e){for(var t=[],n=0,r=0,i=e;r<i.length;r++){var o=i[r];".."===o?n++:t.push(o)}return{doubleDotsCount:n,pureCells:t}}function i(e){for(var t=[],n=0;n<e;++n)t.push("..");return t}Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[];return e.map(function(e){return function(e){var t=e.split("/");return t.length>0&&("."===t[0]&&t.shift(),""===t[t.length-1]&&t.pop()),t}(e)}).forEach(function(e){n=0!==n.length&&function(e){return e.length>0&&""!==e[0]}(e)?function(e,t){var n=r(e),o=r(t);if(n.pureCells.length>o.doubleDotsCount){for(var a=0;a<o.doubleDotsCount;++a)n.pureCells.pop();return i(n.doubleDotsCount).concat(n.pureCells,o.pureCells)}var s=o.doubleDotsCount-n.pureCells.length;return i(n.doubleDotsCount+s).concat(o.pureCells)}(n,e):e}),n.join("/")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(68),i=n(72),o=n(34);t.ReflectionPropertyName="Reflection";var a=function(){return function(e){this.id=e.id,this.name=e.name,this.superClass=e.superClass,this.clazz=e.clazz,this.serializerObject=e.serializerObject,this.properties=e.properties,this.methods=e.methods,this.methodNames=e.methodNames}}();function s(e,t){var n=e.superClassSymbol;if(n){var r=-1;if(o.isPublicSymbol(n)){var i=n.moduleSignature,a=n.typeSignature;r=t.findIndex(function(e){return e.moduleSignature===i&&e.name===a})}else o.isPrivateSymbol(n)&&(r=t.findIndex(function(t){return t.moduleSignature===e.moduleSignature&&t.typeId===n.id}));if(-1===r)throw new Error("can't find superClass with signature \""+o.convertSymbolToString(n)+'"');return r}}function c(e,t,n,r){var i=[];for(var o in e.properties)i.push(u(e,o,n));if(void 0!==r){var a=t[r];for(var s in a.properties)s in e.properties||i.push(u(a,s,n))}i.sort(function(e,t){return m(e.name,t.name)});for(var c={},l=0,p=i;l<p.length;l++){var f=p[l];c[f.name]=f}return c}function u(e,t,n){var r=e.properties[t],i=r.isPublic,o=r.isTransient,a=r.typeIndex,s=r.decorators;return Object.freeze({isPublic:i,isTransient:o,name:t,decorators:s,serializerObject:n[a]})}function l(e,t,n,r){var i=[];for(var o in e.methods)i.push(p(e,o,n));if(void 0!==r){var a=t[r];for(var s in a.methods)s in e.methods||i.push(p(a,s,n))}i.sort(function(e,t){return m(e.name,t.name)});for(var c={},u=0,l=i;u<l.length;u++){var f=l[u];c[f.name]=f}return c}function p(e,t,n){var r=e.methods[t],i=r.isPublic,o=r.parameterIndexes,a=r.resultIndex,s=r.decorators,c=o.map(function(e){return n[e]}),u=n[a],l=Object.freeze({parameters:Object.freeze(c),result:u});return Object.freeze({isPublic:i,name:t,decorators:s,serializerObject:l,belongsClass:e.constructor})}function f(e,t){return function(n){return n instanceof t||(console.warn("found decorator of "+e+" that isn't supported by akko"),!1)}}function d(e,t){var n=e.length;return e.push(t),n}function h(e,t){return m(e.moduleSignature+":"+e.name,t.moduleSignature+":"+t.name)}function y(e,n){if(void 0!==Object.getOwnPropertyDescriptor(e,t.ReflectionPropertyName))throw new Error("class "+n.name+' has defined static property "'+t.ReflectionPropertyName);try{Object.defineProperty(e,t.ReflectionPropertyName,{value:n,configurable:!1,enumerable:!1,writable:!1})}catch(e){throw new Error("fail to bind Reflection for class "+n.name+": "+e.message)}}function m(e,t){return e===t?0:e>t?1:-1}t.ClassReflectionImplement=a,t.windUp=function(e){for(var t=function(e){var t=[],n=[];return e.forEachClassDefinitionParams(function(r,a){var s=function(e,t,n){if(n){var r=o.convertStringToSymbol(o.standardizeSymbolString(t,n));return e.findFinalTypeAndSymbol(r).symbol}}(e,r.moduleSignature,a.parameter.superClass),c=function(e,t){for(var n=t.parameter,r={},o=0,a=n.properties;o<a.length;o++){var s=a[o],c=s.name,u=s.isPublic,l=s.isAccessor,p=s.type,h=s.decorators;l||(r[c]={isPublic:u,isTransient:h.some(function(e){return e===i.transient}),typeIndex:d(e,p),decorators:h.filter(f(n.name+"."+c,i.AkkoPropertyDecorator))})}return r}(n,a),u=function(e,t){for(var n=t.parameter,r={},o=0,a=n.methods;o<a.length;o++){var s=a[o],c=s.name,u=s.isPublic,l=s.parameterTypes,p=s.returnType,h=s.decorators;r[c]={isPublic:u,parameterIndexes:l.map(function(t){return d(e,t)}),resultIndex:d(e,p),decorators:h.filter(f(n.name+"."+c,i.AkkoMethodDecorator))}}return r}(n,a);t.push({superClassSymbol:s,name:a.parameter.name,moduleSignature:r.moduleSignature,constructor:a.constructor,typeId:a.id,objectIndex:d(n,r.typeWithId(a.id)),properties:c,methods:u})}),{mappers:t,types:n}}(e),n=t.mappers,u=t.types,p=new r.Serializer(u,function(t){var n=o.convertStringToSymbol(t.symbol);return e.findFinalTypeAndSymbol(n).type}).getSerializerObjectsAndCleanBuffer(),m=0,g={},v=0,b=p;v<b.length;v++){var T=b[v];g[T.id]=T}for(var S={},E=n.sort(h),w=[],x=0;x<E.length;++x){var k=E[x],P=s(k,E);w.push(P);var C=c(k,E,p,P),_=l(k,E,p,P);S[m]={id:m,name:k.name,clazz:k.constructor,serializerObject:p[k.objectIndex],properties:Object.freeze(C),methods:Object.freeze(_),methodNames:Object.freeze(Object.keys(_))},m++}for(var O=0;O<w.length;++O)void 0!==(P=w[O])&&(S[O].superClass=S[P].clazz);return function(e){for(var t in e){var n=new a(e[t]);y(n.clazz,n),e[t]=n}}(S),{classReflectionsMap:S,serializerObjectsMap:g}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(73);t.transient=new r.AkkoPropertyDecorator},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),o=n(80),a=function(){function e(e,t){var n=!!t.enableAnimationFrame;if(this.library=e,this.imageFactory=new o.ImageFactory(this.library,t.jsxFactory,!0),this.playerFactory=new o.ReconstructorFactory(this.library,t.jsxFactory,n,t.persistenceServerOrigin,t.assetsPrefix),t.clientFactory){var r={enableAnimationFrame:n},i=new o.ConnectionFactory(t.clientFactory);this.magixFactory=new o.MagixFactory(this.library,t.jsxFactory,i,r)}}return e.prototype.createImageWithSnapshot=function(e){return this.imageFactory.createWithSnapshot(e)},e.prototype.createImageWithParameters=function(e){return this.imageFactory.createWithParameters(e)},e.prototype.createEventFrameBuffer=function(e){var t=r({},e,{type:i.ActionFrameType.Event,beginGenerationId:0,frameId:e.frameId,originalFrameId:e.frameId,authorId:e.authorId,timestamp:Date.now()});return i.serializeActionFrame(this.library,t)},e.prototype.createMagix=function(e){if(void 0===e&&(e={}),!this.magixFactory)throw new Error("can't find clientFactory");return this.magixFactory.createMagix(e)},e.prototype.createReconstructor=function(e,t){return void 0===t&&(t={}),this.playerFactory.createReconstructor(e,t)},e}();t.AkkoFactory=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15);function i(e,t){var n=t.banList,r=t.proxy,i={},o=e.name||e.constructor.name+".prototype";if(r)for(var a in r)i[a]=r[a];if(n)for(var s=function(e){i[e]=function(){throw new Error(o+"."+e+" is ban in Magix")}},c=0,u=n;c<u.length;c++){s(a=u[c])}return Object.freeze(i)}t.ObjectInterceptProxy=i(Object,{banList:["getPrototypeOf","getOwnPropertyDescriptor","getOwnPropertyNames","create","defineProperty","defineProperties"],proxy:{assign:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.getContext().__identifierGenerator.bind(Object.assign.apply(this,e))}}}),t.ArrayPrototypeInterceptProxy=i(Array.prototype,{proxy:{concat:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.getContext().__identifierGenerator.bind(Array.prototype.concat.apply(this,e))},reverse:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.getContext().__identifierGenerator.bind(Array.prototype.reverse.apply(this,e))},splice:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.getContext().__identifierGenerator.bind(Array.prototype.splice.apply(this,e))},map:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.getContext().__identifierGenerator.bind(Array.prototype.map.apply(this,e))},filter:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.getContext().__identifierGenerator.bind(Array.prototype.filter.apply(this,e))},sort:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.getContext().__identifierGenerator.bind(Array.prototype.sort.apply(this,e))}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26),i=n(75),o=n(77),a=n(76),s=new r.Initializer(i.AkkoVersion,a.AkkoObject,{creator:o.creator,getter:o.getter,setter:o.setter,caller:o.caller,remover:o.remover,prefix:o.prefix,postfix:o.postfix});t.__context=s.context,t.__register=s.registerLibrary,t.isAkkoObject=s.isAkkoObject,t.getClassReflection=s.getClassReflection,o.setClassReflectionGetter(t.getClassReflection)},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(151),o=n(79),a=n(153),s=n(11),c=n(154),u=n(45),l=n(43);function p(e,t){e.writeInteger32(t.frameId),e.writeInteger32(t.originalFrameId),e.writeInteger53(t.timestamp),e.writeUnsignedInteger16(t.authorId)}function f(e){return{frameId:e.readInteger32(),originalFrameId:e.readInteger32(),timestamp:e.readInteger53(),authorId:e.readUnsignedInteger16()}}t.serializeSnapshotFrame=function(e,t,n){var r=new i.Writer;p(r,t),function(e,t){var n=t.allObserverIds,r=t.nextUserId;e.writeInteger32(n.length),e.writeInteger32(r);for(var i=0,o=n;i<o.length;i++){var a=o[i],s=t.identifierGeneratorWithObserverId(a).latestGenerationId;e.writeUnsignedInteger32(a),e.writeUnsignedInteger32(s)}}(r,t.context);var o=s.getClassReflection(e.rootClass);return a.serializeAkkoObject(r,o,t.object,n),r.toBuffer()},t.deserializeSnapshotFrame=function(e,t){var n=new o.Reader(new DataView(t)),i=f(n),a=function(e){for(var t=e.readInteger32(),n=e.readInteger32(),r=u.IdentifierContext.create(n),i=0;i<t;++i){var o=e.readUnsignedInteger32(),a=e.readUnsignedInteger32();r.putObserver(o,a+1)}return r}(n),l=s.getClassReflection(e.rootClass),p=c.deserializeAkkoObject(n,e,l);return r({},i,{context:a,object:p})},t.serializeActionFrame=function(e,t,n){var r=new i.Writer;if(p(r,t),r.writeByte(t.type),r.writeUnsignedInteger32(t.beginGenerationId),l.isInvokerFrame(t)){r.writeInteger32(t.methodId);var o=s.getClassReflection(e.rootClass),c=o.methodNames,u=o.methods[c[t.methodId]].serializerObject;a.serializeParameters(r,u.parameters,t.parameters,n)}else if(l.isEventFrame(t)){var f=void 0;if(void 0===t.payload)f="undefined";else try{f=JSON.stringify(t.payload)}catch(e){throw new Error("event payload is not JSON: "+e.message)}r.writeByte(t.scope),r.writeString(t.event),r.writeString(f)}return r.toBuffer()},t.deserializeActionFrame=function(e,t){var n=new o.Reader(new DataView(t)),i=f(n),a=n.readByte(),u=n.readUnsignedInteger32();if(a===l.ActionFrameType.Invoker){var p=n.readInteger32(),d=s.getClassReflection(e.rootClass),h=d.methods[d.methodNames[p]].serializerObject,y=c.deserializeParameters(n,e,h.parameters);return r({},i,{type:a,beginGenerationId:u,methodId:p,parameters:y})}if(a===l.ActionFrameType.Event){var m=n.readByte(),g=n.readString(),v=n.readString(),b=void 0;if("undefined"===v)b=void 0;else try{b=JSON.parse(v)}catch(e){throw new Error("event payload parse failed: "+e.message)}return r({},i,{type:a,beginGenerationId:u,scope:m,event:g,payload:b})}if(a===l.ActionFrameType.Ack)return r({},i,{type:a,beginGenerationId:u});throw new Error("unrecognized ActionFrame's type "+a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(78),i=n(7),o=n(36),a=n(152),s=function(){function e(){this.buffer=new a.ExtendableBuffer}return Object.defineProperty(e.prototype,"length",{get:function(){return this.buffer.length},enumerable:!0,configurable:!0}),e.prototype.writeByte=function(e){this.buffer.pushUInt8(e)},e.prototype.writeUnsignedInteger16=function(e){this.buffer.pushUint16(e)},e.prototype.writeInteger32=function(e){this.buffer.pushInt32(e)},e.prototype.writeUnsignedInteger32=function(e){this.buffer.pushUint32(e)},e.prototype.writeInteger53=function(e){var t=0|e,n=(e-t)/o.Pow32;this.buffer.pushInt32(t),this.buffer.pushInt32(n)},e.prototype.writeFloat64=function(e){this.buffer.pushFloat64(e)},e.prototype.writeString=function(e){var t=r.length(e);this.writeInteger32(t),r.write(e,this.buffer)},e.prototype.writeIdentifier=function(e){var t=i.observerIdWithIdentifier(e),n=i.generationIdWithIdentifier(e);this.writeUnsignedInteger16(t),this.writeUnsignedInteger32(n)},e.prototype.toBuffer=function(){return this.buffer.toBuffer()},e}();t.Writer=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._length=0,this.bufferChunks=[],this.appendNewChunk()}return Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),e.prototype.toBuffer=function(){for(var e=new ArrayBuffer(this.length),t=new DataView(e),n=0,r=0,i=this.bufferChunks;r<i.length;r++)for(var o=i[r],a=o.length,s=o.view,c=0;c<a;++c)t.setUint8(n,s.getUint8(c)),n++;return e},e.prototype.pushUInt8=function(e){this.currentChunk.length+1>256&&this.appendNewChunk(),this.currentChunk.view.setUint8(this.currentChunk.length,e),this.currentChunk.length+=1,this._length+=1},e.prototype.pushUint16=function(e){this.currentChunk.length+2>256&&this.appendNewChunk(),this.currentChunk.view.setUint16(this.currentChunk.length,e,!0),this.currentChunk.length+=2,this._length+=2},e.prototype.pushInt32=function(e){this.currentChunk.length+4>256&&this.appendNewChunk(),this.currentChunk.view.setInt32(this.currentChunk.length,e,!0),this.currentChunk.length+=4,this._length+=4},e.prototype.pushUint32=function(e){this.currentChunk.length+4>256&&this.appendNewChunk(),this.currentChunk.view.setUint32(this.currentChunk.length,e,!0),this.currentChunk.length+=4,this._length+=4},e.prototype.pushFloat64=function(e){this.currentChunk.length+8>256&&this.appendNewChunk(),this.currentChunk.view.setFloat64(this.currentChunk.length,e,!0),this.currentChunk.length+=8,this._length+=8},e.prototype.appendNewChunk=function(){var e=new ArrayBuffer(256),t=new DataView(e);this.currentChunk={buffer:e,view:t,length:0},this.bufferChunks.push(this.currentChunk)},e}();t.ExtendableBuffer=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(44),i=n(35),o=n(11);t.serializeAkkoObject=function(e,t,n,r){new a(e,r).serializeAkkoObject(t,n)},t.serializeParameters=function(e,t,n,r){new a(e,r).serializeParameters(t,n)};var a=function(){function e(e,t){this.writer=e,this.identifierGenerator=t,this.touchedObjectTasksSet={},this.tasksQueue=[]}return e.prototype.serializeAkkoObject=function(e,t){var n=r.findIdentifierWith(t),i=this.checkObjectType(t);this.addTaskIfNeed(n,t,i,e.serializerObject),this.handleAndCleanAllTasks()},e.prototype.serializeParameters=function(e,t){this.writer.writeInteger32(t.length);for(var n=0;n<t.length;++n){var i=e[n];i||(i=r.NeverSerializerObject);var o=t[n];this.serializeValue(i,o)}this.handleAndCleanAllTasks()},e.prototype.handleAndCleanAllTasks=function(){for(;this.tasksQueue.length>0;){var e=this.tasksQueue.shift(),t=e.type,n=e.identifier,a=e.object,s=e.serializerObject;switch(this.writer.writeIdentifier(n),this.writer.writeByte(t),t){case r.ObjectType.Array:this.handleArrayTask(s,a);break;case r.ObjectType.FlatObject:this.handleFlatObjectTask(s,a);break;case r.ObjectType.AkkoObject:var c=a,u=o.getClassReflection(c);this.handleAkkoObjectTask(u,c)}}this.writer.writeIdentifier(i.NullIdentifier)},e.prototype.handleArrayTask=function(e,t){var n=e.index;this.writer.writeInteger32(t.length);for(var r=0,i=t;r<i.length;r++){var o=i[r];this.serializeValue(n,o)}},e.prototype.handleFlatObjectTask=function(e,t){for(var n in e.properties){var i=e.properties[n];n in t?this.serializeValue(i,t[n]):this.writer.writeByte(r.AkkoPrimitiveType.Never)}this.serializeFreedomZone(e,t)},e.prototype.handleAkkoObjectTask=function(e,t){for(var n in this.writer.writeInteger32(o.getClassReflection(t).id),e.properties){var i=e.properties[n],a=i.isTransient,s=i.serializerObject;a||(n in t?this.serializeValue(s,t[n]):this.writer.writeByte(r.AkkoPrimitiveType.Never))}},e.prototype.serializeFreedomZone=function(e,t){var n=[];for(var r in t)r in e.properties||n.push(r);this.writer.writeInteger32(n.length);for(var i=0,o=n;i<o.length;i++){r=o[i];this.writer.writeString(r),this.serializeValue(e.key,t[r])}},e.prototype.serializeValue=function(e,t){"object"!==typeof t?this.serializeNotObjectValue(t):null===t?this.writer.writeByte(r.AkkoPrimitiveType.Null):this.serializeObjectValue(e,t)},e.prototype.serializeNotObjectValue=function(e){var t=typeof e;if("undefined"===t)this.writer.writeByte(r.AkkoPrimitiveType.Undefined);else if("string"===t)this.writer.writeByte(r.AkkoPrimitiveType.String),this.writer.writeString(e);else if("number"===t)Number.isSafeInteger(e)?(this.writer.writeByte(r.AkkoPrimitiveType.Integer),this.writer.writeInteger53(e)):(this.writer.writeByte(r.AkkoPrimitiveType.Float),this.writer.writeFloat64(e));else{if("boolean"!==t)throw new Error("not support "+t+" now");e?this.writer.writeByte(r.AkkoPrimitiveType.True):this.writer.writeByte(r.AkkoPrimitiveType.False)}},e.prototype.serializeObjectValue=function(e,t){this.identifierGenerator&&this.identifierGenerator.bind(t);var n=r.findIdentifierWith(t),i=this.checkObjectType(t);switch(i){case r.ObjectType.Array:this.writer.writeByte(r.AkkoPrimitiveType.Array);break;case r.ObjectType.FlatObject:this.writer.writeByte(r.AkkoPrimitiveType.FlatObject);break;case r.ObjectType.AkkoObject:this.writer.writeByte(r.AkkoPrimitiveType.AkkoObject)}this.writer.writeIdentifier(n),this.addTaskIfNeed(n,t,i,e)},e.prototype.addTaskIfNeed=function(e,t,n,r){var o=i.stringWithIdentifier(e);this.touchedObjectTasksSet[o]||(this.touchedObjectTasksSet[o]=!0,this.tasksQueue.push({type:n,identifier:e,object:t,serializerObject:r}))},e.prototype.checkObjectType=function(e){if(e.constructor===Array)return r.ObjectType.Array;if(e.constructor===Object)return r.ObjectType.FlatObject;if(o.isAkkoObject(e))return r.ObjectType.AkkoObject;throw new Error("type of object "+e.constructor.name+" is not supported")},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(35),i=n(44),o=n(42);t.deserializeAkkoObject=function(e,t,n){return new a(e,t).deserializeAkkoObject(n)},t.deserializeParameters=function(e,t,n){return new a(e,t).deserializeParameters(n)};var a=function(){function e(e,t){this.reader=e,this.library=t,this.speculateSerializerObjects={},this.akkoObjectConstructorRouters=[],this.referenceObjectIdsRouterMap={}}return e.prototype.deserializeAkkoObject=function(e){var t=this.reader.readIdentifier(),n=r.stringWithIdentifier(t);this.speculateSerializerObjects[n]=e.serializerObject;var i=this.handleObject(t);return this.deserializeRemainObjectsZone(i),i},e.prototype.deserializeParameters=function(e){for(var t=this.reader.readInteger32(),n=[],o=[],a=0;a<t;++a){var s=e[a];s||(s=i.NeverSerializerObject);var c=this.deserializeValue(s,n,a);if(c===i.AkkoPrimitiveType.Array||c===i.AkkoPrimitiveType.FlatObject||c===i.AkkoPrimitiveType.AkkoObject){var u=r.stringWithIdentifier(n[a]);this.speculateSerializerObjects[u]=s,o.push(u)}else o.push(void 0)}var l=this.deserializeRemainObjectsZone();for(a=0;a<o.length;++a){(u=o[a])&&(n[a]=l[u])}return n},e.prototype.deserializeRemainObjectsZone=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},o=0,a=e;o<a.length;o++){var s=a[o],c=i.findIdentifierWith(s);n[r.stringWithIdentifier(c)]=s}for(var u=this.reader.readIdentifier();!r.isNullIdentifier(u);){var l=this.handleObject(u);n[r.stringWithIdentifier(u)]=l,u=this.reader.readIdentifier()}this.replaceIdWithObjects(n);for(var p=0,f=this.akkoObjectConstructorRouters;p<f.length;p++){var d=f[p],h=(l=d.object,d.constructor);l.constructor=h,Object.setPrototypeOf(l,h.prototype)}return n},e.prototype.handleObject=function(e){switch(this.reader.readByte()){case i.ObjectType.Array:return this.handleArray(e);case i.ObjectType.FlatObject:return this.handleFlatObject(e);case i.ObjectType.AkkoObject:return this.handleAkkoObject(e)}},e.prototype.handleArray=function(e){var t=r.stringWithIdentifier(e),n=this.speculateSerializerObjects[t],i=this.reader.readInteger32(),a=[];o.bindIdentifier(a,e);for(var s=0;s<i;++s)this.deserializeValue(n.index,a,s);return a},e.prototype.handleFlatObject=function(e){var t=r.stringWithIdentifier(e),n=this.speculateSerializerObjects[t],i={};for(var a in o.bindIdentifier(i,e),n.properties){var s=n.properties[a];this.deserializeValue(s,i,a)}for(var c=this.reader.readInteger32(),u=0;u<c;++u){a=this.reader.readString();this.deserializeValue(n.key,i,a)}return i},e.prototype.handleAkkoObject=function(e){var t=this.reader.readInteger32(),n=this.library.classReflectionWithId(t),r={};for(var i in o.bindIdentifier(r,e),n.properties){var a=n.properties[i],s=a.isTransient,c=a.serializerObject;s||this.deserializeValue(c,r,i)}return this.akkoObjectConstructorRouters.push({object:r,constructor:n.clazz}),r},e.prototype.deserializeValue=function(e,t,n){var r=this.reader.readByte();switch(r){case i.AkkoPrimitiveType.Undefined:t[n]=void 0;break;case i.AkkoPrimitiveType.Null:t[n]=null;break;case i.AkkoPrimitiveType.String:t[n]=this.reader.readString();break;case i.AkkoPrimitiveType.Integer:t[n]=this.reader.readInteger53();break;case i.AkkoPrimitiveType.Float:t[n]=this.reader.readFloat64();break;case i.AkkoPrimitiveType.Function:break;case i.AkkoPrimitiveType.True:t[n]=!0;break;case i.AkkoPrimitiveType.False:t[n]=!1;break;case i.AkkoPrimitiveType.FlatObject:case i.AkkoPrimitiveType.AkkoObject:case i.AkkoPrimitiveType.Array:this.deserializeObjectLike(e,t,n)}return r},e.prototype.deserializeObjectLike=function(e,t,n){var i=this.reader.readIdentifier(),o=r.stringWithIdentifier(i);this.speculateSerializerObjects[o]=e;var a=this.referenceObjectIdsRouterMap[o];a||(a=[],this.referenceObjectIdsRouterMap[o]=a),t[n]=i,a.push({target:t,key:n})},e.prototype.replaceIdWithObjects=function(e){for(var t in this.referenceObjectIdsRouterMap){var n=e[t];if(!n)throw new Error('find dangling references Identifier "'+t+'"');for(var r=0,i=this.referenceObjectIdsRouterMap[t];r<i.length;r++){var o=i[r];o.target[o.key]=n}}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),i=n(79),o=n(36),a=18,s=a+4+1;t.translateToAckFrame=function(e){for(var t=new DataView(e),n=new ArrayBuffer(s),i=new DataView(n),o=0;o<s;++o)i.setUint8(o,t.getUint8(o));return i.setUint8(a,r.ActionFrameType.Ack),n};var c=function(){function e(e){if(e.byteLength<a)throw new Error("ArrayBuffer is to short");this.frameBuffer=e,this.dataView=new DataView(e)}return Object.defineProperty(e.prototype,"frameId",{get:function(){return this.dataView.getInt32(0,!0)},set:function(e){this.dataView.setInt32(0,e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalFrameId",{get:function(){return this.dataView.getInt32(4,!0)},set:function(e){this.dataView.setInt32(4,e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timestamp",{get:function(){var e=this.dataView.getInt32(8,!0);return this.dataView.getInt32(12,!0)*o.Pow32+e},set:function(e){var t=0|e,n=(e-t)/o.Pow32;this.dataView.setInt32(8,t,!0),this.dataView.setInt32(12,n,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"authorId",{get:function(){return this.dataView.getUint16(16,!0)},set:function(e){this.dataView.setUint16(16,e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.dataView.getUint8(a)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"beginGenerationId",{get:function(){return this.dataView.getUint32(a+1,!0)},set:function(e){this.dataView.setUint32(a+1,e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventScope",{get:function(){return this.dataView.getInt8(s)},enumerable:!0,configurable:!0}),e.prototype.fetchEventContent=function(){var e=new i.Reader(this.dataView);e.skipBytes(a);var t=e.readByte();if(e.skipBytes(4),t===r.ActionFrameType.Event){var n=e.readByte();return{event:e.readString(),scope:n}}},e}();t.FramePicker=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),i=n(157),o=n(82),a=n(83),s=n(45),c=n(84),u=n(7),l=function(){function e(e,t,n){void 0===n&&(n=!1),this.library=e,this.jsxFactory=t,this.checkFrameId=n}return e.prototype.createWithParameters=function(e,t){var n=this,i=s.IdentifierContext.create(),o=i.identifierGeneratorWithObserverId(s.AdminObserverId),c=Object.freeze({__identifierGenerator:o,__previousGenerationId:o.latestGenerationId,environment:r.Environment.Real,timestamp:Date.now(),authorId:t,observerId:t});e=a.filterParameters(e,{identifierGenerator:o});var u=r.runWithContext({willRejectSet:!1,foundModify:!1},c,this.jsxFactory,function(){return new((t=n.library.rootClass).bind.apply(t,[void 0].concat(e)));var t});return new p({object:u,library:this.library,jsxFactory:this.jsxFactory,checkFrameId:this.checkFrameId,observerId:t,identifierContext:i,frameId:0,timestamp:c.timestamp})},e.prototype.createWithSnapshot=function(e,t,n){var r=u.deserializeSnapshotFrame(this.library,t),i=new p({object:r.object,library:this.library,jsxFactory:this.jsxFactory,checkFrameId:this.checkFrameId,observerId:e,identifierContext:r.context,frameId:r.frameId,timestamp:r.timestamp});if(n)for(var o=0,a=n;o<a.length;o++){var s=a[o];try{i.appendActionFrame(s)}catch(e){}}return i},e}();t.StateFactory=l;var p=function(){function e(e){this.wantOriginalFrameIdMap={},this.library=e.library,this.jsxFactory=e.jsxFactory,this.checkFrameId=e.checkFrameId,this.objectInvoker=new i.ObjectInvoker(e.library,e.object),this.observerId=e.observerId,this.identifierContext=e.identifierContext,this._frameId=e.frameId,this._timestamp=e.timestamp}return Object.defineProperty(e.prototype,"allUserIds",{get:function(){return this.identifierContext.allObserverIds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frameId",{get:function(){return this._frameId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextUserId",{get:function(){return this.identifierContext.nextUserId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timestamp",{get:function(){return this._timestamp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"observerLatestGenerationId",{get:function(){return this.identifierContext.identifierGeneratorWithObserverId(this.observerId).latestGenerationId},enumerable:!0,configurable:!0}),e.prototype.createOperator=function(e){var t=this;void 0===e&&(e={});var n=e.actionFrameCatcher,r=e.escapeObjectFilter,i=this.frameId+1,o=n&&function(e){var r=t.identifierContext.identifierGeneratorWithObserverId(e.authorId),i=u.serializeActionFrame(t.library,e,r);n(i)};return new c.StateOperator(this,this.jsxFactory,this.identifierContext,i,{invoke:function(e,n){return t.objectInvoker.invoke(e,n)},dispatch:function(e,n,r){return t.objectInvoker.dispatch(e,n,r)},addObserver:function(e){return t.identifierContext.putObserver(e,0)},removeObserver:function(e){return t.identifierContext.removeObserver(e)},catchActionFrame:o,escapeObjectFilter:r})},e.prototype.makeSureObserverGenerationIdAfter=function(e){this.identifierContext.identifierGeneratorWithObserverId(this.observerId).makeSureGenerationIdAfter(e)},e.prototype.appendActionFrame=function(e){var t=this,n=u.deserializeActionFrame(this.library,e);this.isSystemEvent(n,"Enter")&&this.identifierContext.putObserver(n.authorId,0),this.identifierContext.hasObserver(n.authorId)&&this.checkIsWantFrame(n);var i=this.identifierContext.identifierGeneratorWithObserverId(n.authorId);i.makeSureGenerationIdAfter(n.beginGenerationId);var o=Object.freeze({__identifierGenerator:i,__previousGenerationId:i.latestGenerationId,environment:r.Environment.Real,timestamp:n.timestamp,authorId:n.authorId,observerId:this.observerId});try{r.runWithContext({willRejectSet:!1,foundModify:!1},o,this.jsxFactory,function(){if(u.isInvokerFrame(n))t.objectInvoker.invoke(n.methodId,n.parameters);else if(u.isEventFrame(n)){var e=a.filterParameters([n.payload],{identifierGenerator:i})[0];t.objectInvoker.dispatch(n.event,e,n.scope)}})}finally{if(this._frameId=n.frameId,this._timestamp=n.timestamp,this.isSystemEvent(n,"Leave")&&(this.identifierContext.removeObserver(n.authorId),delete this.wantOriginalFrameIdMap[n.authorId]),this.eventFrameReceiver&&u.isEventFrame(n))try{this.eventFrameReceiver(n)}catch(e){console.error(e)}}},e.prototype.checkIsWantFrame=function(e){var t=e.authorId,n=e.originalFrameId,r=this.wantOriginalFrameIdMap[t];this.checkFrameId&&void 0!==r&&r!==n&&console.warn("find [userId="+t+"] not expected frameId "+n+", expect "+r),this.wantOriginalFrameIdMap[t]=n+1},e.prototype.snapshot=function(){var e={frameId:this._frameId,originalFrameId:this._frameId,timestamp:this._timestamp,authorId:this.observerId,context:this.identifierContext,object:this.objectInvoker.object},t=this.identifierContext.identifierGeneratorWithObserverId(this.observerId);return u.serializeSnapshotFrame(this.library,e,t)},e.prototype.hasUserId=function(e){return this.identifierContext.hasObserver(e)},e.prototype.clone=function(){var t=o.AkkoValueCopier.copy(this.objectInvoker.object),n=this.identifierContext.clone();return new e({object:t,library:this.library,jsxFactory:this.jsxFactory,checkFrameId:this.checkFrameId,observerId:this.observerId,identifierContext:n,frameId:this._frameId,timestamp:this._timestamp})},e.prototype.isSystemEvent=function(e,t){return u.isEventFrame(e)&&e.scope===u.EventScope.System&&e.event===t},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),i=n(46),o=function(){function e(e,t){this.library=e,this.object=t;var n=r.getClassReflection(e.rootClass),o=[];for(var a in n.methods){var s=n.methods[a].decorators.find(function(e){return e instanceof i.EventDecorator});s&&o.push(Object.freeze({filter:s.eventFilter,method:a}))}this.methodNames=n.methodNames,this.eventHandlers=Object.freeze(o)}return e.prototype.invoke=function(e,t){var n=this.methodNames[e];return this.object[n].apply(this.object,t)},e.prototype.dispatch=function(e,t,n){for(var r=0,i=this.eventHandlers;r<i.length;r++){var o=i[r],a=o.filter,s=o.method;a(e,t,n)&&this.object[s].apply(this.object,[e,t,n])}},e}();t.ObjectInvoker=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26);t.noEffects=new r.AkkoMethodDecorator},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(26),a=n(160);t.event=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new s(e)};var s=function(e){function t(t){var n=e.call(this)||this;return n.eventFilter=new a.EventFilterHub(t).filter,n}return i(t,e),t}(o.AkkoMethodDecorator);t.EventDecorator=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(161))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e){var t=this;this.filters=[],this.filter=function(e,n,r){for(var i=0,o=t.filters;i<o.length;i++)if((0,o[i])(e,n,r))return!0;return!1};for(var n=[],r=function(e){var t=void 0;if("function"===typeof e)t=e;else if("string"===typeof e)t=function(t){return t===e};else{if(!(e instanceof RegExp))throw new Error("unrecognized condition "+e);t=function(t){return e.test(t)}}n.push(t)},i=0,o=e;i<o.length;i++)r(o[i]);this.filters=Object.freeze(n)}}();t.EventFilterHub=r},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(81),c=n(163),u=n(88),l=n(87),p=n(168),f=function(){function e(e,t,n,i){this.imageFactory=new s.ImageFactory(e,t,!0),this.connectionFactory=n,this.magixConfiguration=Object.freeze(r({},i))}return e.prototype.createMagix=function(e){return void 0===e&&(e={}),new d(this.imageFactory,this.connectionFactory,this.magixConfiguration,e)},e}();t.MagixFactory=f,function(e){e.Ready="ready",e.Connecting="connecting",e.Connected="connected",e.Reconnecting="reconnecting",e.Disconnecting="disconnecting",e.Disconnected="disconnected"}(a=t.MagixPhase||(t.MagixPhase={}));var d=function(){function e(e,t,n,r){var i=this;this.imageFactory=e,this.connectionFactory=t,this.magixConfiguration=n,this.callbacks=r,this._phase=a.Ready,this.onReceivedActionFrame=function(e){i.session.magixSession.receivedActionFrame(e)},this.onGeneratedActionFrame=function(e){try{i.session.connection.pushActionFrameToSendingQueue(e)}catch(e){i.callbacks.onReceivedWarning&&i.callbacks.onReceivedWarning(e.message)}},this.onRootChanged=function(){i.callbacks.onRootChanged&&(i.animationFrameTicker?i.animationFrameTicker.invoke():i.callbacks.onRootChanged())},this.onDisconnectWithError=function(e,t){var n=i.session;i.session&&(i.session.magixSession.destroy(),delete i.session),t&&i._phase===a.Connected?i.reconnect(n).catch(function(e){delete i.connectionParams,i.callbacks.onDisconnectWithError&&i.callbacks.onDisconnectWithError(e)}):i.phase!==a.Disconnected&&(delete i.connectionParams,i.changePhase(a.Disconnected),i.callbacks.onDisconnectWithError&&i.callbacks.onDisconnectWithError(e))},this.onKickedWithReason=function(e){i.session&&(i.session.magixSession.destroy(),delete i.session,delete i.connectionParams),i.changePhase(a.Disconnected),i.callbacks.onKickedWithReason&&i.callbacks.onKickedWithReason(e)},this.fireRootChanged=function(){i.callbacks.onRootChanged&&i.callbacks.onRootChanged()},this.callbacks=u.wrapCallbacks(r),n.enableAnimationFrame&&(this.animationFrameTicker=new l.AnimationFrameTicker(this.fireRootChanged))}return Object.defineProperty(e.prototype,"phase",{get:function(){return this._phase},enumerable:!0,configurable:!0}),e.prototype.changePhase=function(e){this._phase!==e&&(this._phase=e,this.callbacks.onPhaseChanged&&this.callbacks.onPhaseChanged(e))},Object.defineProperty(e.prototype,"observerId",{get:function(){if(!this.session)throw new Error("observer id not exist when Magix's phase is "+this.phase);return this.session.magixSession.observerId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imagePhase",{get:function(){if(!this.session)throw new Error("image phase not exist when Magix's phase is "+this.phase);return this.session.magixSession.imagePhase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"triggerObject",{get:function(){if(!this.session)throw new Error("trigger object not exist when Magix's phase is "+this.phase);return this.session.magixSession.triggerObject},enumerable:!0,configurable:!0}),e.prototype.connect=function(e){return i(this,void 0,void 0,function(){var t,n;return o(this,function(r){switch(r.label){case 0:if(this.phase!==a.Ready)throw new Error("can't connect when Magix's phase is "+this.phase);this.changePhase(a.Connecting),delete this.currentSessionToken,this.connectionParams=Object.freeze({uuid:e.uuid,roomToken:e.roomToken,userToken:e.userToken}),r.label=1;case 1:return r.trys.push([1,3,,4]),t=this,[4,this.connectAndBuildSession()];case 2:return t.session=r.sent(),this.changePhase(a.Connected),[3,4];case 3:throw n=r.sent(),this.changePhase(a.Disconnected),n;case 4:return[2]}})})},e.prototype.reconnect=function(e){return i(this,void 0,void 0,function(){var t,n,r=this;return o(this,function(s){switch(s.label){case 0:this.changePhase(a.Reconnecting),this.reconnectionOperator=new p.ReconnectionOperator({reconnect:function(){return r.connectAndBuildSession(e)},cancelReconnect:function(e){return i(r,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return e.magixSession.destroy(),[4,e.connection.disconnect()];case 1:return t.sent(),[2]}})})}}),s.label=1;case 1:return s.trys.push([1,3,,4]),t=this,[4,this.reconnectionOperator.reconnect()];case 2:return t.session=s.sent(),delete this.reconnectionOperator,this.changePhase(a.Connected),this.onRootChanged(),[3,4];case 3:throw n=s.sent(),delete this.reconnectionOperator,this.changePhase(a.Disconnected),n;case 4:return[2]}})})},e.prototype.connectAndBuildSession=function(e){return i(this,void 0,void 0,function(){var t,n,i,a,s,u=this;return o(this,function(o){switch(o.label){case 0:return t=r({},this.connectionParams),e&&Object.assign(t,{previousUserId:e.magixSession.observerId}),this.currentSessionToken&&Object.assign(t,{sessionToken:this.currentSessionToken}),[4,this.connectionFactory.connect(t,{onReceivedWarning:function(e){return u.callbacks.onReceivedWarning&&u.callbacks.onReceivedWarning(e)},onDisconnectWithError:this.onDisconnectWithError,onKickedWithReason:this.onKickedWithReason,onReceivedActionFrame:this.onReceivedActionFrame})];case 1:return n=o.sent(),this.currentSessionToken=n.sessionToken,i=e&&e.magixSession,a=new c.MagixSession(this.imageFactory,n,i,this.magixConfiguration,{onImagePhaseChanged:function(e){return u.callbacks.onImagePhaseChanged&&u.callbacks.onImagePhaseChanged(e)},onGeneratedActionFrame:this.onGeneratedActionFrame,onRootChanged:this.onRootChanged,onEventFire:this.callbacks.onEventFire,onReceivedRttReport:this.callbacks.onReceivedRttReport,onCatchErrorWhenAppendFrame:this.callbacks.onCatchErrorWhenAppendFrame||function(e,t){return console.error(t)},escapeObjectFilter:this.callbacks.escapeObjectFilter}),(s=Object.freeze({connection:n.connection,magixSession:a})).connection.startReceiveActionFrames(),[2,s]}})})},e.prototype.disconnect=function(){return i(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return this.phase!==a.Reconnecting?[3,2]:(delete this.connectionParams,[4,this.reconnectionOperator.cancelReconnect()]);case 1:return e.sent(),[3,8];case 2:if(this.phase!==a.Connected)return[3,7];this.changePhase(a.Disconnecting),e.label=3;case 3:return e.trys.push([3,,5,6]),this.session.magixSession.destroy(),[4,this.session.connection.disconnect()];case 4:return e.sent(),delete this.session,delete this.connectionParams,[3,6];case 5:return this.changePhase(a.Disconnected),[7];case 6:return[3,8];case 7:throw new Error("can't disconnect when Magix's phase is "+this.phase);case 8:return[2]}})})},e.prototype.dispatch=function(e,t){if(this.phase!==a.Connected)throw new Error("can't dispatch event when Magix's phase is "+this.phase);this.session.magixSession.dispatch(e,t)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),i=n(7),o=n(27),a=function(){function e(t,n,a,s,c){var u=s.enableAnimationFrame,l=this;this.paddingEvents=[],this.receivedActionFrame=function(e){l.playerBuffer.pushFrames([new i.FramePicker(e)])},this.onPlayActionFrames=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];l.image.appendActionFrame(r.frameBuffer)}e.some(function(e){return e.authorId!==l.image.observerId})&&l.onRootChanged()},this.onAfterInvokedByTrigger=function(e){e===r.TriggerInvokeMode.Modifiable&&l.onRootChanged()};var p=n.userId,f=a?a.image:null,d=e.splitActionFramesWithEnterEvent(p,n.actionFrames);this.sessionToken=n.sessionToken,this.onRootChanged=c.onRootChanged,this.image=t.createWithSnapshot({snapshotFrame:n.snapshot,actionFrames:d.beforeEnterActionFrames,observerId:p,triggerSourceImage:f,nextObserverFrameId:n.firstCommitFrameId,callbacks:{escapeObjectFilter:c.escapeObjectFilter,onPhaseChanged:c.onImagePhaseChanged,onCatchActionFrame:c.onGeneratedActionFrame,onCatchErrorWhenAppendFrame:c.onCatchErrorWhenAppendFrame,onReceivedRttReport:c.onReceivedRttReport,onAfterInvokedByTrigger:this.onAfterInvokedByTrigger,onEventFire:c.onEventFire&&this.createEventFireCallback(c.onEventFire)}});var h=[];if(d.enterFrameActionFrame){var y=d.enterFrameActionFrame;if(c.onEventFire){var m=i.deserializeActionFrame(t.library,y);this.createEventFireCallback(c.onEventFire)({event:m.event,payload:m.payload,scope:m.scope,authorId:m.authorId})}h.push(y)}h.push.apply(h,d.afterEnterActionFrames);for(var g=0,v=h;g<v.length;g++){m=v[g];this.image.appendActionFrame(m)}this.playerBuffer=o.playerBufferFactory.create({mode:o.PlayerBufferMode.Realtime,enableAnimationFrame:u,initFrameTimestamp:this.image.timestamp,callbacks:{onPlayActionFrames:this.onPlayActionFrames}}),this.handleAndReleasePaddingEvents(c.onEventFire),this.playerBuffer.play()}return e.prototype.handleAndReleasePaddingEvents=function(e){var t=this;e||(this.paddingEvents=void 0),Promise.resolve().then(function(){if(t.paddingEvents){for(var n=0,r=t.paddingEvents;n<r.length;n++){var i=r[n];try{e(i)}catch(e){console.error(e)}}t.paddingEvents=void 0}})},e.splitActionFramesWithEnterEvent=function(e,t){for(var n={beforeEnterActionFrames:[],afterEnterActionFrames:[]},r=!1,o=0,a=t;o<a.length;o++){var s=a[o];if(r)n.afterEnterActionFrames.push(s);else{var c=new i.FramePicker(s),u=c.fetchEventContent();u&&u.scope===i.EventScope.System&&"Enter"===u.event&&c.authorId===e?(r=!0,n.enterFrameActionFrame=s):n.beforeEnterActionFrames.push(s)}}return n},Object.defineProperty(e.prototype,"observerId",{get:function(){return this.image.observerId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imagePhase",{get:function(){return this.image.phase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"triggerObject",{get:function(){return this.image.triggerObject},enumerable:!0,configurable:!0}),e.prototype.dispatch=function(e,t){var n={event:e,payload:t,scope:i.EventScope.Custom,authorId:this.image.observerId};this.image.dispatch(n),this.onRootChanged()},e.prototype.destroy=function(){this.image.destroy()},e.prototype.createEventFireCallback=function(e){var t=this;return function(n){t.paddingEvents?t.paddingEvents.push(n):e(n)}},e}();t.MagixSession=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(27),i=n(165),o=n(167),a=function(){function e(){}return e.prototype.create=function(e){switch(e.mode){case r.PlayerBufferMode.Realtime:return new i.RealtimePlayerBuffer(e);case r.PlayerBufferMode.Reconstruction:return new o.ReconstructionPlayerBuffer(e)}},e}();t.PlayerBufferFactory=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(86),a=[{duration:1200,rate:1},{duration:1e3,rate:.75},{duration:3e3,rate:.5},{duration:5e3,rate:.25}];var s=function(){for(var e=0,t=0,n=a;t<n.length;t++){e+=n[t].duration}return e}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.meanDelayTimeOffset=0,n.latestPlayFrameTimestamp=t.initFrameTimestamp,n.latestPlayDeviceTimestamp=Date.now(),n}return i(t,e),t.prototype.onPlayingContinue=function(){},t.prototype.onPlayingStop=function(){},t.prototype.onTick=function(){for(var e=[],t=Date.now(),n=t+this.frameInterval;this.currentBufferInterval>s;)e.push(this.takeNextFrame());for(;this.framesBufferLength>0;){var r=this.nextFrame,i=this.playTimestampReferPrevious(r)/2+(r.timestamp+this.meanDelayTimeOffset)/2;if(this.reportFrame(t,r),!(i<=n))break;e.push(this.takeNextFrame())}e.length>0&&this.playFrames(e),this.callbacks.onBufferRemainLow&&this.currentBufferRemainTimeInterval<this.remainLowTimeInterval&&this.callbacks.onBufferRemainLow()},t.prototype.reportFrame=function(e,t){var n=e-t.timestamp;this.meanDelayTimeOffset=n/2+this.meanDelayTimeOffset/2},t.prototype.playTimestampReferPrevious=function(e){var t=function(e){for(var t=0,n=a;t<n.length;t++){var r=n[t];if(e<=r.duration)return r.rate;e-=r.duration}throw new Error("durationTime is too large:"+e)}(this.currentBufferInterval)*(e.timestamp-this.latestPlayFrameTimestamp);return this.latestPlayDeviceTimestamp+t},Object.defineProperty(t.prototype,"currentBufferRemainTimeInterval",{get:function(){if(this.framesBufferLength>0){var e=this.newestPushFrame.timestamp-this.latestPlayFrameTimestamp,t=Date.now()-this.latestPlayDeviceTimestamp;return Math.max(0,e-t)}return 0},enumerable:!0,configurable:!0}),t.prototype.playFrames=function(e){try{this.callbacks.onPlayActionFrames&&this.callbacks.onPlayActionFrames(e)}catch(e){console.error(e)}finally{var t=e[e.length-1];this.latestPlayFrameTimestamp=t.timestamp,this.latestPlayDeviceTimestamp=Date.now()}},t}(o.AbstractPlayerBuffer);t.RealtimePlayerBuffer=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.isFreezed=!1,this.shouldInvokeAfterFreeze=!1,this.latestInvokeTimestamp=0,this.timer=-1,this._limitDuration=e,this.invoker=t,this.invokeWhenTimeout=this.invokeWhenTimeout.bind(this)}return Object.defineProperty(e.prototype,"limitDuration",{get:function(){return this._limitDuration},set:function(e){if(this._limitDuration!==e){if(this._limitDuration=e,-1!==this.timer){clearTimeout(this.timer);var t=this.nextInvokeTimeDuration();this.timer=setTimeout(this.invokeWhenTimeout,t)}this.invoke()}},enumerable:!0,configurable:!0}),e.prototype.invoke=function(){if(this.isFreezed)this.shouldInvokeAfterFreeze=!0;else if(-1===this.timer){var e=this.nextInvokeTimeDuration();this.timer=setTimeout(this.invokeWhenTimeout,e)}},e.prototype.nextInvokeTimeDuration=function(){var e=Date.now(),t=this.latestInvokeTimestamp+this.limitDuration-e;return Math.max(0,t)},e.prototype.invokeWhenTimeout=function(){this.timer=-1,this.latestInvokeTimestamp=Date.now(),this.invoker()},e.prototype.cancel=function(){this.isFreezed?this.shouldInvokeAfterFreeze=!1:-1!==this.timer&&(clearTimeout(this.timer),this.timer=-1)},e.prototype.freeze=function(){this.isFreezed||(-1!==this.timer&&(clearTimeout(this.timer),this.timer=-1,this.shouldInvokeAfterFreeze=!0),this.isFreezed=!0)},e.prototype.unfreeze=function(){this.isFreezed&&(this.isFreezed=!1,this.shouldInvokeAfterFreeze&&(this.shouldInvokeAfterFreeze=!1,this.invoke()))},e}();t.InvokeFrequencyLimiter=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this,t)||this;return n.playingBeginDeviceTimestamp=Date.now(),n.playingBeginFrameTimestamp=t.initFrameTimestamp,n.stopPlayingDeviceTimestamp=Date.now(),n.lastPlayingStopFrameTimestamp=t.initFrameTimestamp,n.lastPlayingStopDuration=0,n}return i(t,e),t.prototype.onPlayingContinue=function(){this.playingBeginDeviceTimestamp=Date.now(),this.playingBeginFrameTimestamp=this.lastPlayingStopFrameTimestamp},t.prototype.onPlayingStop=function(){var e=Date.now(),t=e-this.playingBeginDeviceTimestamp;this.stopPlayingDeviceTimestamp=e,this.lastPlayingStopFrameTimestamp=this.playingBeginFrameTimestamp+t,this.lastPlayingStopDuration=0},t.prototype.onTick=function(){for(var e=[],t=Date.now()-this.playingBeginDeviceTimestamp,n=this.playingBeginFrameTimestamp+t+this.frameInterval;this.framesBufferLength>0&&this.nextFrame.timestamp<=n;)e.push(this.takeNextFrame());if(e.length>0)try{this.callbacks.onPlayActionFrames&&this.callbacks.onPlayActionFrames(e)}catch(e){console.error(e)}if(this.callbacks.onTick)if(e.length>0){var r=e[e.length-1].timestamp;this.callbacks.onTick(r,!1)}else this.callbacks.onTick(n,!0);this.callbacks.onBufferRemainLow&&this.currentBufferInterval<this.remainLowTimeInterval&&this.callbacks.onBufferRemainLow()},t}(n(86).AbstractPlayerBuffer);t.ReconstructionPlayerBuffer=o},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a,s=Object.freeze([1e3,1e3,1e3,3e3,3e3,5e3,5e3]);!function(e){e.Ready="ready",e.Reconnecting="reconnecting",e.Canceled="canceled",e.Complete="complete",e.Failed="failed"}(a||(a={}));var c=function(){function e(e){this.phase=a.Ready,this.willCancel=!1,this.callbacks=Object.freeze(r({},e))}return e.prototype.reconnect=function(){return i(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:if(this.phase!==a.Ready)return[2,void 0];this.phase=a.Reconnecting,e=void 0,this.reconnectEndPromise=new Promise(function(t){return e=t}),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,this.reconnectMultiTimes()];case 2:return[2,t.sent()];case 3:return e(),[7];case 4:return[2]}})})},e.prototype.reconnectMultiTimes=function(){return i(this,void 0,void 0,function(){var e,t,n,r,i,c,u;return o(this,function(o){switch(o.label){case 0:e=void 0,n=0,o.label=1;case 1:if(!(n<s.length+1))return[3,14];t=(new Date).getDate(),o.label=2;case 2:return o.trys.push([2,10,,11]),[4,this.callbacks.reconnect()];case 3:if(r=o.sent(),!this.willCancel)return[3,8];o.label=4;case 4:return o.trys.push([4,6,,7]),[4,this.callbacks.cancelReconnect(r)];case 5:return o.sent(),[3,7];case 6:return i=o.sent(),console.error(i),[3,7];case 7:throw this.phase=a.Canceled,new Error("reconnect did cancel");case 8:return this.phase=a.Complete,[2,r];case 9:return[3,11];case 10:return c=o.sent(),e=c,[3,11];case 11:if(this.willCancel)throw this.phase=a.Canceled,new Error("reconnect did cancel");return void 0===(u=s[n])?[3,13]:t+u-(new Date).getDate()>0?[4,(l=u,new Promise(function(e){return setTimeout(e,l)}))]:[3,13];case 12:if(o.sent(),this.willCancel)throw this.phase=a.Canceled,new Error("reconnect did cancel");o.label=13;case 13:return++n,[3,1];case 14:throw this.phase=a.Failed,e}var l})})},e.prototype.cancelReconnect=function(){return i(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return this.phase!==a.Reconnecting?[3,2]:(this.willCancel=!0,[4,this.reconnectEndPromise]);case 1:e.sent(),e.label=2;case 2:return[2]}})})},e}();t.ReconnectionOperator=c},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(91),a=n(7),s=function(){function e(e,t){this.persistenceServerOrigin=e,this.assetsPrefix=t}return e.prototype.create=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,(t=new c(this.persistenceServerOrigin,this.assetsPrefix,e.room)).setupWithParams(e)];case 1:return n.sent(),[2,t]}})})},e}();t.FramesSequenceFactory=s;var c=function(){function e(e,t,n){switch(this.persistenceServerOrigin=e,this.assetsPrefix=t,this.framesBuffer=[],this.setup=null,this.nextChunkId=0,this.roomUUID=n.uuid,this.roomMode=n.mode,this.endFrameId=n.endFrameId,this.chunkFramesCount=n.chunkFramesCount,n.mode){case"transitory":throw new Error("can't create sequence for transitory room");case"persistent":case"historied":break;default:throw new Error("unrecognized room mode "+n.mode)}}return e.prototype.takeFramesSequenceSetup=function(){if(!this.setup)throw new Error("not found FramesSequenceSetup or it had bean taken");try{return this.setup}finally{this.setup=null}},e.prototype.takeFramesBuffer=function(){return this.framesBuffer.splice(0,this.framesBuffer.length)},Object.defineProperty(e.prototype,"framesLength",{get:function(){return this.framesBuffer.length},enumerable:!0,configurable:!0}),e.prototype.setupWithParams=function(e){var t=e.frameId,n=e.timestamp,a=e.chunksCount;return r(this,void 0,void 0,function(){var e,r,s,c,u,l,p,f,d,h,y,m,g,v,b,T,S=this;return i(this,function(i){switch(i.label){case 0:return e={count:a},void 0!==t&&(e.frameId=t),void 0!==n&&(e.timestamp=n),r=this.persistenceServerOrigin+"/v1/rooms/"+this.roomUUID+"/frames?"+o.stringify(e),[4,fetch(r,{method:"get",headers:{"content-type":"application/json",Accept:"application/json"}})];case 1:return s=i.sent(),[4,this.assertStatusWith(s,200,r)];case 2:return i.sent(),[4,s.json()];case 3:return c=i.sent(),u=c.snapshot.frameId,(l=c.chunks.map(function(e){return{chunkId:e.beginFrameId,bytes:e.bytes}})).length>0?(p=l[0].chunkId,[4,this.tryThrice(function(){return Promise.all([S.fetchSnapshot(u)].concat(l.map(function(e){return S.fetchChunk(e.chunkId,e.bytes)})))})]):[3,5];case 4:for(f=i.sent(),b=f[0],d=f.slice(1),h=0,y=d;h<y.length;h++)m=y[h],(T=this.framesBuffer).push.apply(T,this.parseChunk(m));return void 0!==p&&u>p&&(g=u-p+1,this.framesBuffer.splice(0,g)),v=this.spliceSetupFrames(u,t,n),this.setup={snapshot:b,initFrameTimestamp:n,frames:v},this.nextChunkId=Math.max.apply(Math,l.map(function(e){return e.chunkId}))+this.chunkFramesCount,[3,7];case 5:return[4,this.tryThrice(function(){return S.fetchSnapshot(u)})];case 6:b=i.sent(),this.setup={snapshot:b,frames:[]},i.label=7;case 7:return[2]}})})},e.prototype.fetchSnapshot=function(t){return r(this,void 0,void 0,function(){var n,r;return i(this,function(i){switch(i.label){case 0:return n="historied"===this.roomMode?this.assetsPrefix+"/"+this.roomUUID+"/snapshots/"+t+".snapshot":this.assetsPrefix+"/"+this.roomUUID+"/persistence.snapshot",[4,fetch(n,{method:"get",headers:{"content-type":"application/json",Accept:"application/octet-stream"}})];case 1:return r=i.sent(),[4,this.assertStatusWith(r,200,n)];case 2:return i.sent(),[4,e.arrayBufferWithResponse(r)];case 3:return[2,i.sent()]}})})},e.prototype.spliceSetupFrames=function(e,t,n){var r=0;if(void 0!==t)r=t-e;else if(void 0!==n)for(var i=0,o=this.framesBuffer;i<o.length;i++){var s=o[i];if(new a.FramePicker(s).timestamp>n)break;r++}return this.framesBuffer.splice(0,r)},e.prototype.fetchNextChunk=function(){return r(this,void 0,void 0,function(){var e,t,n,r,o,a;return i(this,function(i){switch(i.label){case 0:return this.nextChunkId>this.endFrameId?[2,void 0]:(e=this.persistenceServerOrigin+"/v1/rooms/"+this.roomUUID+"/chunks/"+this.nextChunkId,[4,fetch(e,{method:"get",headers:{"content-type":"application/json",Accept:"application/json"}})]);case 1:return t=i.sent(),[4,this.assertStatusWith(t,200,e)];case 2:return i.sent(),[4,t.json()];case 3:return n=i.sent(),r=n.bytes,[4,this.fetchChunk(this.nextChunkId,r)];case 4:return o=i.sent(),a=this.parseChunk(o),this.nextChunkId+=this.chunkFramesCount,[2,a]}})})},e.prototype.fetchChunk=function(t,n){return r(this,void 0,void 0,function(){var r,o;return i(this,function(i){switch(i.label){case 0:return r=this.assetsPrefix+"/"+this.roomUUID+"/chunks/"+t+".chunk",[4,fetch(r,{method:"get",headers:{"content-type":"application/json",Accept:"application/octet-stream",Range:"bytes=0-"+n}})];case 1:return o=i.sent(),[4,this.assertStatusWith(o,206,r)];case 2:return i.sent(),[4,e.arrayBufferWithResponse(o)];case 3:return[2,i.sent()]}})})},e.prototype.parseChunk=function(e){for(var t=new DataView(e),n=[],r=0;r<t.byteLength;){var i=t.getUint16(r,!0),o=new ArrayBuffer(i),a=new DataView(o);r+=2;for(var s=0;s<i;++s)a.setUint8(s,t.getUint8(r+s));r+=i,n.push(o)}return n},e.prototype.tryThrice=function(e){return r(this,void 0,void 0,function(){var t,n,r;return i(this,function(i){switch(i.label){case 0:t=void 0,n=0,i.label=1;case 1:if(!(n<3))return[3,6];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,e()];case 3:return[2,i.sent()];case 4:return r=i.sent(),t=r,[3,5];case 5:return++n,[3,1];case 6:throw t}})})},e.prototype.assertStatusWith=function(e,t,n){return r(this,void 0,void 0,function(){var r,o;return i(this,function(i){switch(i.label){case 0:return e.status===t?[3,3]:(r="without error message","application/json"!==e.headers.get("content-type")?[3,2]:[4,e.json()]);case 1:(o=i.sent()).error&&(r=o.error),i.label=2;case 2:throw new Error("fetch "+n+" failed with error status code "+e.status+": "+r);case 3:return[2]}})})},e.arrayBufferWithResponse=function(e){return r(this,void 0,void 0,function(){var t,n,r,o;return i(this,function(i){switch(i.label){case 0:return e.arrayBuffer?[4,e.arrayBuffer()]:[3,2];case 1:return[2,i.sent()];case 2:return[4,e.buffer()];case 3:for(t=i.sent(),n=new ArrayBuffer(t.length),r=new DataView(n),o=0;o<t.length;++o)r.setUint8(o,t.readUInt8(o));return[2,n]}})})},e}()},function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function a(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=i.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=a(n[0]);r!==n[0]&&(t[n[0]]=r)}n=i.exec(e)}t["%C2"]="\ufffd";for(var o=Object.keys(t),s=0;s<o.length;s++){var c=o[s];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),s=n(173),c=n(89),u=n(27),l=function(){function e(e,t,n,i,o){var u=this;this._phase=c.ReconstructorPhase.WaitingFirstFrame,this._scheduleTime=0,this.isPlaying=!1,this.isSeeking=!1,this.didStop=!1,this.didTouchEnding=!1,this.currentSeekingTaskId=0,this.currentLine=void 0,this.onTouchEnding=function(){u.didTouchEnding=!0,u.refreshCurrentPhase()},this.onTick=function(e){var t=e-u.beginTimestamp;u._scheduleTime=t,u.callbacks.onScheduleTimeChanged&&u.callbacks.onScheduleTimeChanged(t)},this.onPhaseChanged=function(){u.refreshCurrentPhase()},this.invokeByTrigger=function(e,t,n){if(!u.currentLine)throw new Error("first frame didn't load");return u.currentLine.invokeByTrigger(e,t,n)},this.uuid=e.uuid,this.trigger=new a.Trigger(t.library),this.triggerObject=this.trigger.object,this.timeDuration=e.endTimestamp-e.beginTimestamp,this.framesCount=e.endFrameId+1,this.beginTimestamp=e.beginTimestamp,this.callbacks=Object.freeze(r({},o)),this.lineFactory=new s.ReconstructorLineFactory({room:e,stateFactory:t,framesSequenceFactory:n,enableAnimationFrame:i}),this.trigger.receiver=this.invokeByTrigger}return Object.defineProperty(e.prototype,"phase",{get:function(){return this._phase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scheduleTime",{get:function(){return this._scheduleTime},enumerable:!0,configurable:!0}),e.prototype.play=function(){this.assertNotStop(),this.isPlaying||this.isSeeking||(this.currentLine?this.currentLine.play():this.seekToFrameId(0)),this.isPlaying=!0,this.refreshCurrentPhase()},e.prototype.pause=function(){this.assertNotStop(),this.isPlaying&&!this.isSeeking&&this.currentLine&&this.currentLine.pause(),this.isPlaying=!1,this.refreshCurrentPhase()},e.prototype.stop=function(){this.assertNotStop(),this.isSeeking&&this.currentSeekingTaskId++,this.currentLine&&(this.isPlaying&&!this.isSeeking&&this.currentLine.destroy(),this.currentLine=void 0),this.didStop=!0,this.refreshCurrentPhase()},e.prototype.seekToFrameId=function(e){var t=this;this.assertNotStop(),e=Math.max(e,0),e=Math.min(e,this.framesCount),this.startSeekingTask(function(n){return t.lineFactory.createWithFrameId(e,n)})},e.prototype.seekToScheduleTime=function(e){var t=this;this.assertNotStop(),e=Math.max(e,0),e=Math.min(e,this.timeDuration),Number.isSafeInteger(e)||(e=Math.floor(e));var n=this.beginTimestamp+e;this.startSeekingTask(function(e){return t.lineFactory.createWithTimestamp(n,e)})},e.prototype.startSeekingTask=function(e){return i(this,void 0,void 0,function(){var t,n,r;return o(this,function(i){switch(i.label){case 0:this.currentLine&&this.currentLine.destroy(),this.currentSeekingTaskId++,this.isSeeking=!0,this.didTouchEnding=!1,this.refreshCurrentPhase(),t=this.currentSeekingTaskId,i.label=1;case 1:return i.trys.push([1,,3,4]),n=this.wrapCallbacksWithTaskChecking(t,{escapeObjectFilter:this.callbacks.escapeObjectFilter,onCatchErrorWhenAppendFrame:this.callbacks.onCatchErrorWhenAppendFrame,onCatchErrorWhenFetchBuffer:this.callbacks.onCatchErrorWhenFetchBuffer,onRootChanged:this.callbacks.onRootChanged,onEventFire:this.callbacks.onEventFire,onTouchEnding:this.onTouchEnding,onTick:this.onTick,onPhaseChanged:this.onPhaseChanged}),[4,e(n)];case 2:return r=i.sent(),this.currentSeekingTaskId===t?this.changeCurrentLine(r):r.destroy(),[3,4];case 3:return this.currentSeekingTaskId===t&&(this.isSeeking=!1,this.refreshCurrentPhase()),[7];case 4:return[2]}})})},e.prototype.changeCurrentLine=function(e){this.currentLine=e,this.isPlaying&&e.play(),this.callbacks.onRootChanged&&this.callbacks.onRootChanged(),this.onTick(e.beginTimestamp)},e.prototype.wrapCallbacksWithTaskChecking=function(e,t){var n=this,r={},i=function(i){var o=t[i];r[i]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(e===n.currentSeekingTaskId)return o.apply(void 0,t)}};for(var o in t)i(o);return r},e.prototype.refreshCurrentPhase=function(){var e=this.currentPhase();this._phase!==e&&(this._phase=e,this.callbacks.onPhaseChanged&&this.callbacks.onPhaseChanged(e))},e.prototype.currentPhase=function(){if(this.didStop)return c.ReconstructorPhase.Stop;if(!this.currentLine)return c.ReconstructorPhase.WaitingFirstFrame;if(this.isSeeking)return c.ReconstructorPhase.Seeking;switch(this.currentLine.phase){case u.PlayerBufferPhase.Playing:return c.ReconstructorPhase.Playing;case u.PlayerBufferPhase.Pausing:return c.ReconstructorPhase.Pause;case u.PlayerBufferPhase.Empty:return this.didTouchEnding?c.ReconstructorPhase.TouchedEnding:c.ReconstructorPhase.Buffering}},e.prototype.assertNotStop=function(){if(this.didStop)throw new Error("Reconstructor did stop")},e}();t.ReconstructorImplement=l},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(20),a=n(7),s=n(11),c=n(27),u=function(){function e(e){this.room=e.room,this.stateFactory=e.stateFactory,this.framesSequenceFactory=e.framesSequenceFactory,this.enableAnimationFrame=e.enableAnimationFrame}return e.prototype.createWithFrameId=function(e,t){return r(this,void 0,void 0,function(){var n;return i(this,function(r){switch(r.label){case 0:return[4,this.framesSequenceFactory.create({room:this.room,frameId:e,chunksCount:1})];case 1:return n=r.sent(),[2,new l(this.stateFactory,n,this.enableAnimationFrame,t)]}})})},e.prototype.createWithTimestamp=function(e,t){return r(this,void 0,void 0,function(){var n;return i(this,function(r){switch(r.label){case 0:return[4,this.framesSequenceFactory.create({room:this.room,timestamp:e,chunksCount:1})];case 1:return n=r.sent(),[2,new l(this.stateFactory,n,this.enableAnimationFrame,t)]}})})},e}();t.ReconstructorLineFactory=u;var l=function(){function e(e,t,n,r){var i=this;this.isDownloading=!1,this.didTouchEnding=!1,this.didDestroy=!1,this.onPlayActionFrames=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];try{i.stateOperator.state.appendActionFrame(r.frameBuffer)}catch(e){i.callbacks.onCatchErrorWhenAppendFrame&&i.callbacks.onCatchErrorWhenAppendFrame(r.authorId,e)}}i.callbacks.onRootChanged&&i.callbacks.onRootChanged()},this.onBufferRemainLow=function(){i.didTouchEnding||i.isDownloading||i.fetchNextChunk()},this.receiveEventFrame=function(e){i.callbacks.onEventFire&&i.callbacks.onEventFire({event:e.event,payload:e.payload,scope:e.scope,authorId:e.authorId})};var a=t.takeFramesSequenceSetup(),s=a.snapshot,u=a.frames,l=a.initFrameTimestamp,p=e.createWithSnapshot(o.AdminObserverId,s,u);p.eventFrameReceiver=this.receiveEventFrame,this.beginTimestamp=p.timestamp,this.stateOperator=p.createOperator({escapeObjectFilter:r.escapeObjectFilter}),this.playerBuffer=c.playerBufferFactory.create({mode:c.PlayerBufferMode.Reconstruction,enableAnimationFrame:n,initFrameTimestamp:void 0===l?this.stateOperator.state.timestamp:l,callbacks:{onBufferRemainLow:this.onBufferRemainLow,onPlayActionFrames:this.onPlayActionFrames,onPhaseChanged:r.onPhaseChanged,onTick:r.onTick}}),this.playerBuffer.pushFrames(this.takeFramePickers(t)),this.sequence=t,this.callbacks=r}return e.prototype.takeFramePickers=function(e){for(var t=[],n=0,r=e.takeFramesBuffer();n<r.length;n++){var i=r[n];t.push(new a.FramePicker(i))}return t},e.prototype.play=function(){this.playerBuffer.play()},e.prototype.pause=function(){this.playerBuffer.pause()},e.prototype.destroy=function(){this.didDestroy||(this.playerBuffer.pause(),this.didDestroy=!0)},Object.defineProperty(e.prototype,"phase",{get:function(){return this.playerBuffer.phase},enumerable:!0,configurable:!0}),e.prototype.invokeByTrigger=function(e,t,n){if(n===o.TriggerInvokeMode.Modifiable){var r=this.stateOperator.state.library.rootClass,i=s.getClassReflection(r).methods[e].name;throw new Error("disable to invoke method "+i+" of trigger object. it's modifiable method. you can only invoke no-effects methods")}return this.stateOperator.invoke(e,t,n)},e.prototype.fetchNextChunk=function(){return r(this,void 0,void 0,function(){var e,t,n,r,o,s;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),this.isDownloading=!0,[4,this.sequence.fetchNextChunk()];case 1:if(e=i.sent()){for(t=[],n=0,r=e;n<r.length;n++)o=r[n],t.push(new a.FramePicker(o));this.playerBuffer.pushFrames(t)}else this.didTouchEnding=!0,this.callbacks.onTouchEnding&&this.callbacks.onTouchEnding();return[3,4];case 2:return s=i.sent(),this.callbacks.onCatchErrorWhenFetchBuffer&&this.callbacks.onCatchErrorWhenFetchBuffer(s),[3,4];case 3:return this.isDownloading=!1,[7];case 4:return[2]}})})},e}();t.ReconstructorLineImplement=l},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(7),s=n(88),c=function(){function e(e){this.clientFactory=e}return e.prototype.connect=function(e,t){return r(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return[4,new u(this.clientFactory,t).connect(e)];case 1:return[2,n.sent()]}})})},e}();t.ConnectionFactory=c,function(e){e.Ready="ready",e.Connecting="connecting",e.Connected="connected",e.Disconnecting="disconnecting",e.Disconnected="disconnected"}(o=t.ConnectionPhase||(t.ConnectionPhase={}));var u=function(){function e(e,t){var n=this;this.clientFactory=e,this.callbacks=t,this.phase=o.Ready,this.client=void 0,this.connectionBuilder=void 0,this.onReceivedSetup=function(e){n.phase===o.Connecting&&n.connectionBuilder.receivedSetup(e)},this.onReceivedActionFrame=function(e){n.phase===o.Connecting?n.connectionBuilder.receivedActionFrame(e):n.phase===o.Connected&&(n.actionFramesInterceptBuffer?n.actionFramesInterceptBuffer.push(e):n.callbacks.onReceivedActionFrame(e))},this.onDisconnectByServer=function(e,t){t?n.disconnectWithError(t,!1):e&&n.kickedByServer(e)},this.onDisconnectWithSocketError=function(e){n.disconnectWithError(e,!0)},this.callbacks=s.wrapCallbacks(t)}return e.prototype.connect=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,s,c,u,p,f,d,h;return i(this,function(i){switch(i.label){case 0:this.assertPhase(o.Ready),i.label=1;case 1:return i.trys.push([1,4,,5]),this.connectionBuilder=new l(e.previousUserId),this.phase=o.Connecting,t=this,[4,this.clientFactory.createRoomClient(e,{onReceivedSetup:this.onReceivedSetup,onReceivedActionFrame:this.onReceivedActionFrame,onReceivedWarning:this.callbacks.onReceivedWarning,onDisconnectWithSocketError:this.onDisconnectWithSocketError,onDisconnectByServer:this.onDisconnectByServer})];case 2:return t.client=i.sent(),[4,this.connectionBuilder.promise];case 3:return n=i.sent(),r=n.snapshotPicker,a=n.actionPickers,s=n.userId,c=n.firstCommitFrameId,u=n.sessionToken,p=this.handleBuilderResult(a,r),f=p.snapshot,d=p.actionFrames,this.phase=o.Connected,this.connectionBuilder=void 0,this.actionFramesInterceptBuffer=[],[2,{connection:this,snapshot:f,actionFrames:d,userId:s,firstCommitFrameId:c,sessionToken:u}];case 4:throw h=i.sent(),this.phase=o.Disconnected,h;case 5:return[2]}})})},e.prototype.handleBuilderResult=function(e,t){return e=(e=e.sort(function(e,t){return e.frameId-t.frameId})).filter(function(e){return e.frameId>t.frameId}),{snapshot:t.frameBuffer,actionFrames:e.map(function(e){return e.frameBuffer})}},e.prototype.disconnectWithError=function(e,t){this.phase===o.Connecting?this.connectionBuilder.reject(e):this.phase!==o.Connected&&this.phase!==o.Disconnecting||(this.callbacks.onDisconnectWithError(e,t),this.phase=o.Disconnected)},e.prototype.kickedByServer=function(e){this.phase===o.Connecting?this.connectionBuilder.reject(new Error("kicked by server: "+e)):this.phase!==o.Connected&&this.phase!==o.Disconnecting||(this.callbacks.onKickedWithReason(e),this.phase=o.Disconnected)},e.prototype.startReceiveActionFrames=function(){if(this.actionFramesInterceptBuffer){for(var e=0,t=this.actionFramesInterceptBuffer;e<t.length;e++){var n=t[e];this.callbacks.onReceivedActionFrame(n)}this.actionFramesInterceptBuffer=void 0}},e.prototype.disconnect=function(){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:this.assertPhase(o.Connected),this.phase=o.Disconnecting,e.label=1;case 1:return e.trys.push([1,,3,4]),[4,this.client.disconnect()];case 2:return e.sent(),[3,4];case 3:return this.phase=o.Disconnected,[7];case 4:return[2]}})})},e.prototype.pushActionFrameToSendingQueue=function(e){this.phase===o.Connected&&this.client.sendActionFrame(e)},e.prototype.assertPhase=function(e){if(this.phase!==e)throw new Error("except phase "+e+" but it's "+this.phase)},e}(),l=function(){function e(e){var t=this;this.previousUserId=e,this.connectingActionPickers=[],this.userId=void 0,this.sessionToken=void 0,this.firstCommitFrameId=void 0,this.receivedActionFrame=function(e){var n=new a.FramePicker(e);if(n.type===a.ActionFrameType.Ack)throw new Error("can't received ACK frame before connected");t.connectingActionPickers.push(n),t.isPickerEnterEventOfUserId(n)&&t.waitEnterActionFrame()},this.receivedSetup=function(e){var n=e.userId,r=e.sessionToken,i=e.firstCommitFrameId,o=e.snapshot;t.userId=n,t.sessionToken=r,t.firstCommitFrameId=i,t.didReceiveSetup(new a.FramePicker(o)),t.previousUserId===n?t.waitEnterActionFrame():t.connectingActionPickers.some(function(e){return t.isPickerEnterEventOfUserId(e)})&&t.waitEnterActionFrame()};var n=new Promise(function(e){t.didReceiveSetup=e}),r=new Promise(function(e){t.waitEnterActionFrame=e}),i=new Promise(function(e,n){t.rejectByOutside=n}),o=Promise.all([n,r]).then(function(e){var n=e[0];return{userId:t.userId,firstCommitFrameId:t.firstCommitFrameId,sessionToken:t.sessionToken,snapshotPicker:n,actionPickers:t.connectingActionPickers}});this.promise=Promise.race([o,i]).then(function(e){return e})}return e.prototype.reject=function(e){this.rejectByOutside(e)},e.prototype.isPickerEnterEventOfUserId=function(e){if(void 0===this.userId)return!1;if(e.authorId===this.userId){var t=e.fetchEventContent();if(t&&t.scope===a.EventScope.System&&"Enter"===t.event)return!0}return!1},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.RoomDelete="roomDelete",e.RoomZombie="roomZombie",e.RoomBan="roomBan",e.KickByAdmin="kickByAdmin",e.ReplaceByOther="replaceByOther"}(t.KickReason||(t.KickReason={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__context("impls/Bundles","1.1.0");n(49),n(50),n(51),n(52),n(53),n(54),n(55),r.defineType("0",r.getObjectType({properties:{selector:r.getReferenceType("./Selector:Selector"),pencil:r.getReferenceType("./Pencil:PencilAppliance"),rectangle:r.getReferenceType("./Rectangle:RectangleAppliance"),ellipse:r.getReferenceType("./Ellipse:EllipseAppliance"),eraser:r.getReferenceType("./Eraser:Eraser"),arrow:r.getReferenceType("./Arraw:ArrowAppliance"),text:r.getReferenceType("./Text:TextAppliance")}})),r.defineExport("0","BundleTypes"),r=null},function(e,t,n){"use strict";var r=n(18),i=n(31),o=n(32),a=n(33),s="function"===typeof Symbol&&Symbol.for,c=s?Symbol.for("react.element"):60103,u=s?Symbol.for("react.portal"):60106,l=s?Symbol.for("react.fragment"):60107,p=s?Symbol.for("react.strict_mode"):60108,f=s?Symbol.for("react.profiler"):60114,d=s?Symbol.for("react.provider"):60109,h=s?Symbol.for("react.context"):60110,y=s?Symbol.for("react.async_mode"):60111,m=s?Symbol.for("react.forward_ref"):60112;s&&Symbol.for("react.timeout");var g="function"===typeof Symbol&&Symbol.iterator;function v(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);i(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function T(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||b}function S(){}function E(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||b}T.prototype.isReactComponent={},T.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&v("85"),this.updater.enqueueSetState(this,e,t,"setState")},T.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},S.prototype=T.prototype;var w=E.prototype=new S;w.constructor=E,r(w,T.prototype),w.isPureReactComponent=!0;var x={current:null},k=Object.prototype.hasOwnProperty,P={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r=void 0,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,r)&&!P.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:c,type:e,key:o,ref:a,props:i,_owner:x.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===c}var O=/\/+/g,I=[];function M(e,t,n,r){if(I.length){var i=I.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function R(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function A(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case c:case u:o=!0}}if(o)return n(r,e,""===t?"."+N(e,0):t),1;if(o=0,t=""===t?".":t+":",Array.isArray(e))for(var a=0;a<e.length;a++){var s=t+N(i=e[a],a);o+=A(i,s,n,r)}else if(null===e||"undefined"===typeof e?s=null:s="function"===typeof(s=g&&e[g]||e["@@iterator"])?s:null,"function"===typeof s)for(e=s.call(e),a=0;!(i=e.next()).done;)o+=A(i=i.value,s=t+N(i,a++),n,r);else"object"===i&&v("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return o}function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function j(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?D(e,r,n,a.thatReturnsArgument):null!=e&&(_(e)&&(t=i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(O,"$&/")+"/")+n,e={$$typeof:c,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function D(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(O,"$&/")+"/"),t=M(t,o,r,i),null==e||A(e,"",F,t),R(t)}var B={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return D(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=M(null,null,t,n),null==e||A(e,"",j,t),R(t)},count:function(e){return null==e?0:A(e,"",a.thatReturnsNull,null)},toArray:function(e){var t=[];return D(e,t,null,a.thatReturnsArgument),t},only:function(e){return _(e)||v("143"),e}},createRef:function(){return{current:null}},Component:T,PureComponent:E,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_currentValue2:e,_changedBits:0,_changedBits2:0,Provider:null,Consumer:null}).Provider={$$typeof:d,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:m,render:e}},Fragment:l,StrictMode:p,unstable_AsyncMode:y,unstable_Profiler:f,createElement:C,cloneElement:function(e,t,n){(null===e||void 0===e)&&v("267",e);var i=void 0,o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key);var l=void 0;for(i in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)k.call(t,i)&&!P.hasOwnProperty(i)&&(o[i]=void 0===t[i]&&void 0!==l?l[i]:t[i])}if(1===(i=arguments.length-2))o.children=n;else if(1<i){l=Array(i);for(var p=0;p<i;p++)l[p]=arguments[p+2];o.children=l}return{$$typeof:c,type:e.type,key:a,ref:s,props:o,_owner:u}},createFactory:function(e){var t=C.bind(null,e);return t.type=e,t},isValidElement:_,version:"16.4.1",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:x,assign:r}},W={default:B},U=W&&B||W;e.exports=U.default?U.default:U},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(179))},function(e,t,n){"use strict";(function(e){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(180),c=n(91);WebSocket=WebSocket||e.WebSocket;var u=function(){function e(e){this.serverUrl=e,this.socketFactory=new s.AkkoSocketFactory("setup","snapshot","action")}return e.prototype.createRoomClient=function(e,t){return i(this,void 0,void 0,function(){var n,r;return o(this,function(i){switch(i.label){case 0:return n=this.createWebSocket(e),[4,(r=new l(this.socketFactory,n,t)).connect()];case 1:return i.sent(),[2,r]}})})},e.prototype.createWebSocket=function(e){var t={akkoVersion:a.AkkoVersion,room:e.uuid,token:e.roomToken};return e.userToken&&(t.userToken=e.userToken),e.sessionToken&&(t.sessionToken=e.sessionToken),new WebSocket(this.serverUrl+"?"+c.stringify(t))},e}();t.WebSocketClientFactory=u;var l=function(){function e(e,t,n){var i=this;this.onDisconnect=function(e){var t=e.reason,n=e.message;switch(t){case s.AkkoSocketDisconnectReason.WebSocketError:case s.AkkoSocketDisconnectReason.CommunicationError:i.callbacks.onDisconnectWithSocketError(new Error(n));break;case s.AkkoSocketDisconnectReason.Normal:i.callbacks.onDisconnectByServer(t);break;case s.AkkoSocketDisconnectReason.RemoteError:i.callbacks.onDisconnectByServer(void 0,new Error(n))}},this.receivedSetup=function(e){var t;try{t=JSON.parse(e)}catch(e){try{i.callbacks.onDisconnectWithSocketError(e)}finally{i.socket.disconnect()}throw e}i.setupCollection=t,i.checkDidReceivedAllSetupInfo()},this.receivedSnapshot=function(e){i.snapshot=e,i.checkDidReceivedAllSetupInfo()},this.callbacks=Object.freeze(r({},n)),this.socket=e.create(t,{onDisconnect:this.onDisconnect}),this.socket.on("action",n.onReceivedActionFrame),this.socket.on("setup",this.receivedSetup),this.socket.on("snapshot",this.receivedSnapshot)}return e.prototype.checkDidReceivedAllSetupInfo=function(){this.setupCollection&&this.snapshot&&(this.callbacks.onReceivedSetup({userId:this.setupCollection.userId,sessionToken:this.setupCollection.sessionToken,firstCommitFrameId:this.setupCollection.frameId,snapshot:this.snapshot}),delete this.setupCollection,delete this.snapshot)},e.prototype.connect=function(){return this.socket.waitToConnected()},e.prototype.disconnect=function(){return this.socket.disconnect()},e.prototype.sendActionFrame=function(e){this.socket.emit("action",e)},e}();t.WebSocketClient=l}).call(t,n(63))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(105))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(182),u=n(105),l=n(107),p=function(e){function t(t,n,r){var i=e.call(this)||this;return i.onError=function(){console.warn("websocket received error")},i.onCloseByRemote=function(e){if(i._phase===u.AkkoSocketPhase.Connected){i.sessionChannel.stop(),i.socket.close(1e3),i.updatePhase(u.AkkoSocketPhase.Disconnected);var t=e&&e.error,n=e&&e.reason;t?i.params.onDisconnect({reason:u.AkkoSocketDisconnectReason.RemoteError,message:t}):i.params.onDisconnect({reason:u.AkkoSocketDisconnectReason.Normal,message:n||"ok"})}},i.onClose=function(e){var t=e.code,n=void 0===t?1e3:t,r=e.reason;if(i._phase===u.AkkoSocketPhase.Connected){var o=i.errorMessageWithCode(n)||"disconnected with code "+n+' "'+r+'"';i.sessionChannel.stop(),i.updatePhase(u.AkkoSocketPhase.Disconnected),i.params.onDisconnect({reason:u.AkkoSocketDisconnectReason.WebSocketError,message:o,webSocketCode:n})}},i.socket=t,i.socket.binaryType="arraybuffer",i.params=Object.freeze(o({},r)),i.sessionChannel=new l.SessionChannel(i,t,n,{onCloseByRemote:i.onCloseByRemote,onEvent:function(e,t){return i.dispatchToListeners(e,t)},onRemoteHeartbeatTimeout:function(){return i.onCommunicationErrorMessage("remote heartbeat timeout")},onSendingBufferOverflow:function(){return i.onCommunicationErrorMessage("sending buffer overflow")}}),i.initializePhaseWithSocketReadyState(),i}return i(t,e),t.prototype.initializePhaseWithSocketReadyState=function(){if(this.socket.readyState===c.ReadyState.CONNECTING)this._phase=u.AkkoSocketPhase.Connecting,this.connect();else{if(this.socket.readyState!==c.ReadyState.OPEN)throw new Error("WebSocket's readyState can be only CLOSED or OPEN, instead of "+this.socket.readyState);this._phase=u.AkkoSocketPhase.Connected,this.addSessionListeners(),this.sessionChannel.start()}},Object.defineProperty(t.prototype,"phase",{get:function(){return this._phase},enumerable:!0,configurable:!0}),t.prototype.updatePhase=function(e){if(this._phase!==e)try{this.params.onPhaseChanged(e)}finally{this._phase=e}},t.prototype.emit=function(e,t){if(this._phase!==u.AkkoSocketPhase.Connected)throw new Error("AkkoSocket can't emit when phase is "+this.phase);this.sessionChannel.send(e,t)},t.prototype.connect=function(){return a(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.waitToConnected()];case 1:return t.sent(),this.addSessionListeners(),this.sessionChannel.start(),this.updatePhase(u.AkkoSocketPhase.Connected),[3,3];case 2:return e=t.sent(),this.updatePhase(u.AkkoSocketPhase.Disconnected),this.connectFailError=e,[3,3];case 3:return[2]}})})},t.prototype.addSessionListeners=function(){this.socket.addEventListener("close",this.onClose),this.socket.addEventListener("error",this.onError)},t.prototype.waitToConnected=function(){var e=this;if(this.connectFailError)throw this.connectFailError;if(this._phase===u.AkkoSocketPhase.Connected)return Promise.resolve();if(this._phase===u.AkkoSocketPhase.Connecting)return new Promise(function(t,n){var r=function(){e.socket.removeEventListener("open",r),e.socket.removeEventListener("error",i),t()},i=function(t){e.socket.removeEventListener("open",r),e.socket.removeEventListener("error",i),n(new Error(t.message||"connect failed"))};e.socket.addEventListener("open",r),e.socket.addEventListener("error",i)});throw new Error("AkkoSocket's phase had became "+this._phase)},t.prototype.disconnect=function(e){return e?this.disconnectWithCodeAndReason({reason:e}):this.disconnectWithCodeAndReason()},t.prototype.disconnectWithError=function(e){return this.disconnectWithCodeAndReason({error:e.message})},t.prototype.disconnectWithCodeAndReason=function(e){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:if(this._phase!==u.AkkoSocketPhase.Connected)throw new Error("AkkoSocket can't disconnect when phase is "+this.phase);return this.updatePhase(u.AkkoSocketPhase.Disconnecting),this.sessionChannel.dispatchClose(e),[4,this.waitUtilCloseAndCheckTimeout()];case 1:return t.sent()&&this.socket.close(1e3),this.sessionChannel.stop(),this.updatePhase(u.AkkoSocketPhase.Disconnected),[2]}})})},t.prototype.waitUtilCloseAndCheckTimeout=function(){var e=this,t=null,n=new Promise(function(e){t=setTimeout(function(){t=null,e(!0)},3e3)}),r=new Promise(function(t){e.socket.readyState===c.ReadyState.CLOSED?t(!1):e.socket.addEventListener("close",function(){return t(!1)})});return Promise.race([n,r]).then(function(e){return null!==t&&clearTimeout(t),e})},t.prototype.onCommunicationErrorMessage=function(e){this._phase===u.AkkoSocketPhase.Connected&&(this.disconnectWithError(new Error("CommunicationError: "+e)),this.params.onDisconnect({reason:u.AkkoSocketDisconnectReason.CommunicationError,message:e}))},t.prototype.errorMessageWithCode=function(e){switch(e){case 1e3:return"CLOSE_NORMAL";case 1001:return"CLOSE_GOING_AWAY";case 1002:return"CLOSE_PROTOCOL_ERROR";case 1003:return"CLOSE_UNSUPPORTED";case 1005:return"CLOSE_NO_STATUS";case 1006:return"CLOSE_ABNORMAL";case 1007:return"Unsupported Data";case 1008:return"Policy Violation";case 1009:return"CLOSE_TOO_LARGE";case 1010:return"Missing Extension";case 1011:return"Internal Error";case 1012:return"Service Restart";case 1013:return"Try Again Later";case 1015:return"TLS Handshake";default:return}},t}(n(185).EventsManagers);t.AkkoSocketImplement=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"}(t.ReadyState||(t.ReadyState={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Math.pow(2,32),o=!0;!function(e){e[e.ArrayBuffer=0]="ArrayBuffer",e[e.String=1]="String",e[e.Integer=2]="Integer"}(r||(r={}));var a=function(){function e(e,t,n){var r=this;this.typesMap=e,this.socket=t,this.receiver=n,this.latestThreePackageBytes=[],this.nextSelfPackageId=0,this._latestReceivedRemoteId=-1,this.onMessage=function(e){if(r.receivedPackageHeadBuffer){var t=r.receivedPackageHeadBuffer,n=e.data,i=r.parsePackage(t,n);r._latestReceivedRemoteId=Math.max(i.id,r._latestReceivedRemoteId),r.receivedPackageHeadBuffer=void 0,r.receiver(i)}else r.receivedPackageHeadBuffer=e.data},t.binaryType="arraybuffer",t.addEventListener("message",this.onMessage)}return Object.defineProperty(e.prototype,"bufferedAmount",{get:function(){return this.socket.bufferedAmount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxPackageBytesInLatestThree",{get:function(){return Math.max.apply(Math,[0].concat(this.latestThreePackageBytes))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"latestReceivedRemoteId",{get:function(){return this.latestReceivedRemoteId},enumerable:!0,configurable:!0}),e.prototype.sendPackage=function(e,t){void 0===t&&(t=0);var n=Object.freeze({id:this.nextSelfPackageId,receivedId:this._latestReceivedRemoteId,type:e,data:t});this.nextSelfPackageId++;var r=this.createPackageHead(n),i=this.wrapPackageData(n.data),o=r.byteLength+i.byteLength;return this.socket.send(r),this.socket.send(i),this.latestThreePackageBytes[0]=this.latestThreePackageBytes[1],this.latestThreePackageBytes[1]=this.latestThreePackageBytes[2],this.latestThreePackageBytes[2]=o,n.id},e.prototype.createPackageHead=function(e){var t=new ArrayBuffer(18),n=new DataView(t);return s(n,0,e.id),s(n,8,e.receivedId),n.setUint8(16,this.typesMap.findTypeId(e.type)),n.setUint8(17,this.findDataTypeWith(e.data)),t},e.prototype.findDataTypeWith=function(e){switch(typeof e){case"number":return r.Integer;case"string":return r.String;default:return r.ArrayBuffer}},e.prototype.wrapPackageData=function(e){if("string"===typeof e){for(var t=new String(e),n=new ArrayBuffer(2*t.length),r=new DataView(n),i=0;i<t.length;++i)r.setUint16(2*i,65535&t.charCodeAt(i),o);return n}if("number"===typeof e){n=new ArrayBuffer(8);return s(r=new DataView(n),0,e),n}return e},e.prototype.parsePackage=function(e,t){var n,i=new DataView(e),a=c(i,0),s=c(i,8),u=i.getUint8(16),l=i.getUint8(17);switch(l){case r.String:for(var p=t.byteLength/2,f=[],d=new DataView(t),h=0;h<p;++h)f[h]=d.getUint16(2*h,o);n=String.fromCharCode.apply(String,f);break;case r.Integer:n=c(d=new DataView(t),0);break;case r.ArrayBuffer:n=t;break;default:throw new Error("unrecognized data type "+l)}return Object.freeze({id:a,receivedId:s,type:this.typesMap.findTypeById(u),data:n})},e}();function s(e,t,n){var r=n%i,a=(n-r)/i;e.setInt32(t,r,o),e.setInt32(t+4,a,o)}function c(e,t){var n=e.getInt32(t,o);return e.getInt32(t+4,o)*i+n}t.PackagesChannel=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=this;this.invoker=e,this.timer=null,this.invokeWhenTimeout=function(){t.timer=null,t.invoker()}}return e.prototype.refreshAndInvokeAfterInterval=function(e){null!==this.timer&&clearTimeout(this.timer),this.timer=setTimeout(this.invokeWhenTimeout,e)},e.prototype.cancel=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},e}();t.Delayer=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.eventListeners={}}return e.prototype.on=function(e,t){var n=this.eventListeners[e];n||(n=[],this.eventListeners[e]=n),-1===n.indexOf(t)&&n.push(t)},e.prototype.off=function(e,t){var n=this.eventListeners[e];if(n){var r=n.indexOf(t);-1!==r&&(n.splice(r,1),0===n.length&&delete this.eventListeners[e])}},e.prototype.once=function(e,t){var n=this,r=function(i){try{t(i)}finally{n.off(e,r)}};this.on(e,r)},e.prototype.dispatchToListeners=function(e,t){var n=this.eventListeners[e];if(n)for(var r=0,i=n;r<i.length;r++){var o=i[r];try{o(t)}catch(e){console.error(e)}}},e}();t.EventsManagers=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(187);function o(e){if(e)try{e()}catch(e){console.error(e)}}!function(e){e[e.TickBeforeMe=0]="TickBeforeMe",e[e.TickAfterMe=1]="TickAfterMe"}(r||(r={}));var a=function(){function e(){var e=this;this.onTick=function(){e.rootGen.tick()};var t=i.createAnimationFrameRefresher(i.AnimationFrameRefresherType.Browser,this.onTick);this.rootGen=new s(r.TickAfterMe,t)}return e.prototype.create=function(){return this.rootGen.createChildTickAfterMe()},e}();t.AnimationTickGenFactory=a;var s=function(){function e(t,n,r){this.relationship=t,this.refresher=n,this.parent=r,this.id=e.nextId++,this.childGensCount=0,this.previousCount=0,this.tickBeforeMeGens={},this.tickAfterMeGens={}}return e.prototype.tick=function(){for(var e in this.tickBeforeMeGens)this.tickBeforeMeGens[e].tick();for(var e in o(this._onTick),o(this.onceInvoker),this.tickAfterMeGens)this.tickAfterMeGens[e].tick();o(this.onAfterTick),this.onceInvoker&&(this.onceInvoker=void 0,this.checkIfNeedAddOrRemoveFromParent())},e.prototype.createChildTickBeforeMe=function(){return new e(r.TickBeforeMe,this.refresher,this)},e.prototype.createChildTickAfterMe=function(){return new e(r.TickAfterMe,this.refresher,this)},e.prototype.invokeOnce=function(t){void 0===t&&(t=e.EmptyInvoker),this.onceInvoker?this.onceInvoker=t:(this.onceInvoker=t,this.checkIfNeedAddOrRemoveFromParent())},Object.defineProperty(e.prototype,"onTick",{get:function(){return this._onTick},set:function(e){this._onTick=e,this.checkIfNeedAddOrRemoveFromParent()},enumerable:!0,configurable:!0}),e.prototype.checkIfNeedAddOrRemoveFromParent=function(){var e=(this._onTick?1:0)+(this.onceInvoker?1:0)+this.childGensCount;this.previousCount!==e&&(this.parent?this.previousCount>0&&0===e?this.parent.removeChildGen(this):0===this.previousCount&&1===e&&this.parent.addChildGen(this):0===e?this.refresher.stop():1===e&&this.refresher.start(),this.previousCount=e)},e.prototype.addChildGen=function(e){(e.relationship===r.TickBeforeMe?this.tickBeforeMeGens:this.tickAfterMeGens)[e.id]=e,this.childGensCount++,this.checkIfNeedAddOrRemoveFromParent()},e.prototype.removeChildGen=function(e){delete(e.relationship===r.TickBeforeMe?this.tickBeforeMeGens:this.tickAfterMeGens)[e.id],this.childGensCount--,this.checkIfNeedAddOrRemoveFromParent()},e.nextId=0,e.EmptyInvoker=function(){},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e.Browser="browser",e.Node="node"}(r=t.AnimationFrameRefresherType||(t.AnimationFrameRefresherType={})),t.createAnimationFrameRefresher=function(e,t){return e===r.Node?new o(t):new i(t)};var i=function(){function e(e){var t=this;this.ticker=e,this.animationFrameId=void 0,this.interceptNextTick=!1,this.onTick=function(){t.interceptNextTick||(t.ticker(),t.interceptNextTick||(void 0!==t.animationFrameId&&cancelAnimationFrame(t.animationFrameId),t.animationFrameId=requestAnimationFrame(t.onTick))),t.interceptNextTick=!1}}return e.prototype.start=function(){void 0!==this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.animationFrameId=requestAnimationFrame(this.onTick),this.interceptNextTick=!1},e.prototype.stop=function(){this.interceptNextTick=!0},e}(),o=function(){function e(e){this.ticker=e,this.timer=void 0}return e.prototype.start=function(){void 0===this.timer&&(this.timer=setInterval(this.ticker,34))},e.prototype.stop=function(){void 0!==this.timer&&(clearInterval(this.timer),this.timer=void 0)},e}()},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(108),c=function(){function e(e,t){this.akkoFactory=e,this.mediaPlayerFactory=t}return e.prototype.create=function(e,t,n){return void 0===n&&(n={}),new u(this.akkoFactory,this.mediaPlayerFactory).setup(e,t,n)},e}();t.MediaAdapterFactory=c;var u=function(){function e(t,n){var r=this;this.akkoFactory=t,this.mediaPlayerFactory=n,this.isPlaying=!1,this.onReconstructorPhaseChanged=function(t){var n=e.isReconstructorPadding(r.latestReconstructorPhase),i=e.isReconstructorPadding(t);!n&&i?r.mediaPlayer.pause():r.isPlaying&&n&&!i&&r.mediaPlayer.play(),r.refreshAdapterPhase(),r.latestReconstructorPhase=t},this.onMediaPlayerPhaseChanged=function(t){var n=e.isMediaPlayerPadding(r.latestMediaPlayerPhase),i=e.isMediaPlayerPadding(t);!n&&i?r.reconstructor.pause():r.isPlaying&&n&&!i&&r.reconstructor.play(),r.refreshAdapterPhase(),r.latestMediaPlayerPhase=t}}return Object.defineProperty(e.prototype,"phase",{get:function(){return this.adapterPhase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scheduleTime",{get:function(){return this.reconstructor.scheduleTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uuid",{get:function(){return this.reconstructor.uuid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"triggerObject",{get:function(){return this.reconstructor.triggerObject},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeDuration",{get:function(){return this.reconstructor.timeDuration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"framesCount",{get:function(){return this.reconstructor.framesCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"beginTimestamp",{get:function(){return this.reconstructor.beginTimestamp},enumerable:!0,configurable:!0}),e.prototype.setup=function(e,t,n){return void 0===n&&(n={}),i(this,void 0,void 0,function(){var i,a;return o(this,function(o){switch(o.label){case 0:return this.onPhaseChangedCallback=n.onPhaseChanged,i=this,[4,this.akkoFactory.createReconstructor(e,r({},n,{onPhaseChanged:this.onReconstructorPhaseChanged}))];case 1:return i.reconstructor=o.sent(),a=this,[4,this.mediaPlayerFactory.create({uuid:e,roomToken:t,beginTimestamp:this.reconstructor.beginTimestamp,onPhaseChanged:this.onMediaPlayerPhaseChanged})];case 2:return a.mediaPlayer=o.sent(),this.adapterPhase=this.currentAdapterPhase(),this.latestReconstructorPhase=this.reconstructor.phase,this.latestMediaPlayerPhase=this.mediaPlayer.phase,[2,this]}})})},e.prototype.seekToScheduleTime=function(e){this.reconstructor.seekToScheduleTime(e),this.mediaPlayer.seekToScheduleTime(e)},e.prototype.play=function(){if(!this.isPlaying){var t=e.isMediaPlayerPadding(this.latestMediaPlayerPhase),n=e.isReconstructorPadding(this.latestReconstructorPhase);t||this.reconstructor.phase===a.ReconstructorPhase.Playing||this.reconstructor.play(),n||this.mediaPlayer.phase===s.MediaPlayerPhase.Playing||this.mediaPlayer.play(),this.isPlaying=!0}},e.prototype.pause=function(){this.isPlaying&&(this.reconstructor.phase!==a.ReconstructorPhase.Pause&&this.reconstructor.pause(),this.mediaPlayer.phase!==s.MediaPlayerPhase.Pause&&this.mediaPlayer.pause(),this.isPlaying=!1)},e.prototype.stop=function(){this.reconstructor.stop(),this.mediaPlayer.stop()},e.prototype.refreshAdapterPhase=function(){var e=this.currentAdapterPhase();e!==this.adapterPhase&&(this.adapterPhase=e,this.onPhaseChangedCallback&&this.onPhaseChangedCallback(e))},e.prototype.currentAdapterPhase=function(){return this.reconstructor.phase===a.ReconstructorPhase.WaitingFirstFrame&&this.mediaPlayer.phase===s.MediaPlayerPhase.WaitingData?a.ReconstructorPhase.WaitingFirstFrame:this.mediaPlayer.phase===s.MediaPlayerPhase.Buffering?a.ReconstructorPhase.Buffering:this.mediaPlayer.phase===s.MediaPlayerPhase.Seeking?a.ReconstructorPhase.Seeking:this.reconstructor.phase},e.isReconstructorPadding=function(e){return e===a.ReconstructorPhase.Buffering||e===a.ReconstructorPhase.Seeking},e.isMediaPlayerPadding=function(e){return e===s.MediaPlayerPhase.Buffering||e===s.MediaPlayerPhase.Seeking},e}()},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(17),a=n(58),s=n(59),c=n(194),u=n(12);!function(e){e[e.None=0]="None",e[e.Mouse=1]="Mouse",e[e.Pinch=2]="Pinch"}(i||(i={}));var l=function(){function e(e,t,n,u,l,f){void 0===f&&(f={});var d=this;this.deviceType=e,this.animationTickGen=t,this.camera=n,this.zoomMaxScale=u,this.zoomMinScale=l,this.viewUnderclockingInvoker=new s.UnderclockingInvoker(a.TransformLimitTimeInterval),this.state=i.None,this.pinchTouches=null,this.mouseReplacementTouch=null,this.mouseReplacementStartX=0,this.mouseReplacementStartY=0,this.springBackCentroidX=0,this.springBackCentroidY=0,this.viewTransformStartLinear=new o.LinearTransformation,this.viewTransformEndTimer=null,this.pinchStart=function(){d.camera.beginMoveOperation(),d.callbacks.beginPinch&&d.callbacks.beginPinch()},this.pinchMove=function(e){d.camera.appendTransform(e),d.callbacks.updateCameraView&&d.viewUnderclockingInvoker.invoke(function(){return d.callbacks.updateCameraView(d.camera.view)}),d.animationTickGen.invokeOnce()},this.pinchEnd=function(e,t){d.camera.endMoveOperation(),d.springBackCentroidX=e,d.springBackCentroidY=t},this.callbacks=Object.freeze(r({},f)),this.multiFingersToleranceBlocker=new p(this.callbacks),this.pinchRecognizer=new c.PinchRecognizerImplement({onPinchStart:this.pinchStart,onPinchMove:this.pinchMove,onPinchEnd:this.pinchEnd})}return e.prototype.zoomChange=function(e){var t=this.camera.view,n=t.centerX,r=t.centerY,i={centerX:n,centerY:r,scale:this.scaleInRange(e)};this.camera.setIdealView({centerX:n,centerY:r,scale:e}),this.viewUnderclockingInvoker.cancel(),this.callbacks.updateCameraView&&this.callbacks.updateCameraView(i)},e.prototype.viewTransform=function(e){var t=this,n=(e=r({},e)).offsetX,i=void 0===n?0:n,a=e.offsetY,s=void 0===a?0:a,c=e.x,l=e.y;null===this.viewTransformEndTimer&&this.pinchStart();var p=1+.02*Math.max(e.scale,-40),f=this.camera.view.scale,d=this.scaleInRange(p*f)/f;this.viewTransformStartLinear.translate(i,s).translate(-c,-l).scale(d,d).translate(c,l),this.pinchMove(this.viewTransformStartLinear),null!==this.viewTransformEndTimer&&clearTimeout(this.viewTransformEndTimer),this.viewTransformEndTimer=setTimeout(function(){t.pinchEnd(c,l),t.viewTransformStartLinear=new o.LinearTransformation,t.viewTransformEndTimer=null,t.deviceType===u.DeviceType.Touch&&t.springBackIfScaleOverRange()},300)},e.prototype.touchStart=function(e){switch(this.state){case i.None:this.multiFingersToleranceBlocker.startOperation(),1===e.length?(this.state=i.Mouse,this.mouseReplacementStartX=e[0].x,this.mouseReplacementStartY=e[0].y,this.mouseReplacementTouch={identifier:e[0].identifier,previousX:this.mouseReplacementStartX,previousY:this.mouseReplacementStartY},this.multiFingersToleranceBlocker.mouseDown(this.convertToMouseEvent(e[0]))):(this.state=i.Pinch,this.pinchTouches=e.map(function(e){return{x:e.x,y:e.y,identifier:e.identifier}}),this.pinchRecognizer.handleTouchEvents(this.pinchTouches,this.currentCentroidPoint()));break;case i.Mouse:this.pinchTouches=[{x:this.mouseReplacementTouch.previousX,y:this.mouseReplacementTouch.previousY,identifier:this.mouseReplacementTouch.identifier}],this.multiFingersToleranceBlocker.unknownIsMultiFingers&&(this.multiFingersToleranceBlocker.assertMultiFingers(),this.mouseReplacementTouch=null),this.pushToPinchTouches(e),this.pinchRecognizer.handleTouchEvents(this.pinchTouches,this.currentCentroidPoint()),this.state=i.Pinch;break;case i.Pinch:this.pushToPinchTouches(e),this.pinchRecognizer.handleTouchEvents(this.pinchTouches,this.currentCentroidPoint())}},e.prototype.touchMove=function(e){var t=this;switch(this.refreshFirstPressedTouch(e),this.state){case i.Mouse:var n=e.find(function(e){return e.identifier===t.mouseReplacementTouch.identifier});this.multiFingersToleranceBlocker.mouseMove(this.convertToMouseEvent(n));break;case i.Pinch:for(var r=function(t){var n=e.find(function(e){return e.identifier===t.identifier});n&&(t.x=n.x,t.y=n.y)},o=0,a=this.pinchTouches;o<a.length;o++){r(a[o])}this.pinchRecognizer.handleTouchEvents(this.pinchTouches,this.currentCentroidPoint())}},e.prototype.touchEnd=function(e){var t=this;this.mouseReplacementTouch&&((s=e.find(function(e){return e.identifier===t.mouseReplacementTouch.identifier}))&&(this.multiFingersToleranceBlocker.mouseUp(this.convertToMouseEvent(s)),this.springBackCentroidX=this.mouseReplacementTouch.previousX,this.springBackCentroidY=this.mouseReplacementTouch.previousY,this.mouseReplacementTouch=null));switch(this.state){case i.Mouse:this.multiFingersToleranceBlocker.assertSingleFinger(),this.completeOperation();break;case i.Pinch:this.multiFingersToleranceBlocker.assertMultiFingers();for(var n=function(e){var t=r.pinchTouches.findIndex(function(t){return t.identifier===e.identifier});-1!==t&&r.pinchTouches.splice(t,1)},r=this,o=0,a=e;o<a.length;o++){var s;n(s=a[o])}this.mouseReplacementTouch&&1===this.pinchTouches.length?(this.state=i.Mouse,this.pinchRecognizer.handleTouchEvents([],this.currentCentroidPoint()),this.pinchTouches=null):0===this.pinchTouches.length?(this.pinchRecognizer.handleTouchEvents(this.pinchTouches,this.currentCentroidPoint()),this.pinchTouches=null,this.completeOperation()):this.pinchRecognizer.handleTouchEvents(this.pinchTouches,this.currentCentroidPoint())}},e.prototype.touchCancel=function(e){this.touchEnd(e)},e.prototype.refreshFirstPressedTouch=function(e){if(this.mouseReplacementTouch){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(r.identifier===this.mouseReplacementTouch.identifier){this.mouseReplacementTouch.previousX=r.x,this.mouseReplacementTouch.previousY=r.y;break}}if(this.multiFingersToleranceBlocker.unknownIsMultiFingers){var i=this.mouseReplacementTouch.previousX-this.mouseReplacementStartX,o=this.mouseReplacementTouch.previousY-this.mouseReplacementStartY;i*i+o*o>=9&&this.multiFingersToleranceBlocker.assertSingleFinger()}}},e.prototype.pushToPinchTouches=function(e){if(this.pinchTouches)for(var t=function(e){n.pinchTouches.some(function(t){return t.identifier===e.identifier})||n.pinchTouches.push({x:e.x,y:e.y,identifier:e.identifier})},n=this,r=0,i=e;r<i.length;r++){t(i[r])}},e.prototype.completeOperation=function(){this.state=i.None,this.multiFingersToleranceBlocker.unknownIsMultiFingers&&this.multiFingersToleranceBlocker.assertMultiFingers(),this.deviceType===u.DeviceType.Touch&&this.springBackIfScaleOverRange()},e.prototype.springBackIfScaleOverRange=function(){var e=this.camera.view.scale,t=Math.min(this.zoomMaxScale,Math.max(this.zoomMinScale,e));if(t!==e){var n=this.camera.calculatePointInScreenToScene({x:this.springBackCentroidX,y:this.springBackCentroidY}),r={centerX:n.x,centerY:n.y,scale:t};this.viewUnderclockingInvoker.cancel(),this.camera.setIdealView(r),this.callbacks.updateCameraView&&this.callbacks.updateCameraView(r)}},e.prototype.convertToMouseEvent=function(e){return{x:e.x,y:e.y,targetsMap:e.targetsMap}},e.prototype.currentCentroidPoint=function(){return this.mouseReplacementTouch?{x:this.mouseReplacementTouch.previousX,y:this.mouseReplacementTouch.previousY}:void 0},e.prototype.scaleInRange=function(e){return e>this.zoomMaxScale?this.zoomMaxScale:e<this.zoomMinScale?this.zoomMinScale:e},e}();t.EventAndViewSorter=l;var p=function(){function e(e){var t=this;this.callbacks=e,this.operationBuffer=[],this.willBlockOperation=!1,this.flushingOperationBufferTimer=null,this.flushOperationBuffer=function(){if(t.operationBuffer){for(var e=0,n=t.operationBuffer;e<n.length;e++){(0,n[e])()}t.operationBuffer.splice(0,t.operationBuffer.length),t.willBlockOperation=!1}t.flushingOperationBufferTimer=null}}return Object.defineProperty(e.prototype,"unknownIsMultiFingers",{get:function(){return this.willBlockOperation},enumerable:!0,configurable:!0}),e.prototype.startOperation=function(){this.willBlockOperation=!0,this.flushingOperationBufferTimer=setTimeout(this.flushOperationBuffer,300)},e.prototype.assertMultiFingers=function(){this.operationBuffer.splice(0,this.operationBuffer.length),this.willBlockOperation=!1,null!==this.flushingOperationBufferTimer&&(clearTimeout(this.flushingOperationBufferTimer),this.flushingOperationBufferTimer=null)},e.prototype.assertSingleFinger=function(){null!==this.flushingOperationBufferTimer&&clearTimeout(this.flushingOperationBufferTimer),this.flushOperationBuffer()},e.prototype.mouseDown=function(e){var t=this;this.callbacks.mouseDown&&(this.willBlockOperation?this.operationBuffer.push(function(){return t.callbacks.mouseDown(e)}):this.callbacks.mouseDown(e))},e.prototype.mouseUp=function(e){var t=this;this.callbacks.mouseUp&&(this.willBlockOperation?this.operationBuffer.push(function(){return t.callbacks.mouseUp(e)}):this.callbacks.mouseUp(e))},e.prototype.mouseMove=function(e){var t=this;this.callbacks.mouseMove&&(this.willBlockOperation?this.operationBuffer.push(function(){return t.callbacks.mouseMove(e)}):this.callbacks.mouseMove(e))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(110);var i=function(){function e(e){void 0===e&&(e=r.Matrix3D.E()),this._matrix=e}return e.createBy=function(t){var n=t.deltaX,r=t.deltaY,i=t.scaleX,o=t.scaleY;return(new e).scale(i,o).translate(n,r)},e.prototype.clone=function(){return new e(this._matrix.clone())},Object.defineProperty(e.prototype,"matrix",{get:function(){return this._matrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inverse",{get:function(){return new e(r.Matrix.inverseOf3D(this._matrix))},enumerable:!0,configurable:!0}),e.prototype.translate=function(e,t){return this._matrix=r.Matrix.multiply(this._matrix,function(e,t){return r.Matrix3D.create(1,0,e,0,1,t,0,0,1)}(e,t)),this},e.prototype.scale=function(e,t){return this._matrix=r.Matrix.multiply(this._matrix,function(e,t){return r.Matrix3D.create(e,0,0,0,t,0,0,0,1)}(e,t)),this},e.link=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=void 0,o=0,a=t;o<a.length;o++){var s=a[o];i=i?r.Matrix.multiply(i,s._matrix):s._matrix}return new e(i)},e.prototype.transformPoint=function(e,t){var n=r.Matrix.multiply(r.Vector3D.create(e,t,1),this._matrix),i=n.get(0,2);return{x:n.get(0,0)/i,y:n.get(0,1)/i}},Object.defineProperty(e.prototype,"transformationResult",{get:function(){var e=r.Matrix.multiply(r.Vector3D.create(0,0,1),this._matrix),t=r.Matrix.multiply(r.Vector3D.create(1,1,1),this._matrix),n=e.get(0,2),i=t.get(0,2),o=e.get(0,0)/n,a=e.get(0,1)/n;return{deltaX:o,deltaY:a,scaleX:t.get(0,0)/i-o,scaleY:t.get(0,1)/i-a}},enumerable:!0,configurable:!0}),e.prototype.standardize=function(){var e=this.transformationResult,t=e.deltaX,n=e.deltaY,i=e.scaleX,o=e.scaleY;return this._matrix=r.Matrix3D.E(),this.scale(i,o),this.translate(t,n),this},e}();t.LinearTransformation=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cloneToPlaneObject=function e(t){if("object"===typeof t&&null!==t){if(t instanceof Array){for(var n=[],r=0;r<t.length;++r)n[r]=e(t[r]);return n}var i={};for(var o in t)i[o]=e(t[o]);return i}return t},t.commitModify=function(e,t){var n={};for(var r in e)n[r]=r in t?t[r]:e[r];return n},t.copyValue=function e(t){if("object"===typeof t){if(t instanceof Array)return t.map(function(t){return e(t)});var n={};for(var r in t){var i=e(t[r]);void 0!==i&&(n[r]=i)}return n}return"function"===typeof t?void 0:t},t.checkValueIsEquals=function e(t,n){if(t===n)return!0;var r=typeof t;if(r!==typeof n||"object"!==r)return!1;if(t instanceof Array&&n instanceof Array){if(t.length!==n.length)return!1;for(var i=0;i<t.length;++i)if(!e(t[i],n[i]))return!1}else if(t.constructor===Object&&n.constructor===Object){for(var o in t)if(!e(t[o],n[o]))return!1;for(var o in n)if(!(o in t))return!1}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=function(){function e(e){this._bundle=Object.assign({},e)}return Object.defineProperty(e.prototype,"bundle",{get:function(){return this._bundle},enumerable:!0,configurable:!0}),e.prototype.setAndCompare=function(e){var t={};for(var n in e){var i=this._bundle[n],o=e[n];this._bundle[n]=o,r.checkValueIsEquals(i,o)||(t[n]={origin:i,target:o})}return t},e}();t.DiffBundle=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.isFreezed=!1,this.shouldInvokeAfterFreeze=!1,this.latestInvokeTimestamp=0,this.timer=-1,this._limitDuration=e,this.invoker=t,this.invokeWhenTimeout=this.invokeWhenTimeout.bind(this)}return Object.defineProperty(e.prototype,"limitDuration",{get:function(){return this._limitDuration},set:function(e){if(this._limitDuration!==e){if(this._limitDuration=e,-1!==this.timer){clearTimeout(this.timer);var t=this.nextInvokeTimeDuration();this.timer=setTimeout(this.invokeWhenTimeout,t)}this.invoke()}},enumerable:!0,configurable:!0}),e.prototype.invoke=function(){if(this.isFreezed)this.shouldInvokeAfterFreeze=!0;else if(-1===this.timer){var e=this.nextInvokeTimeDuration();this.timer=setTimeout(this.invokeWhenTimeout,e)}},e.prototype.nextInvokeTimeDuration=function(){var e=(new Date).getTime(),t=this.latestInvokeTimestamp+this.limitDuration-e;return Math.max(0,t)},e.prototype.invokeWhenTimeout=function(){this.timer=-1,this.latestInvokeTimestamp=(new Date).getTime(),this.invoker()},e.prototype.cancel=function(){this.isFreezed?this.shouldInvokeAfterFreeze=!1:-1!==this.timer&&(clearTimeout(this.timer),this.timer=-1)},e.prototype.freeze=function(){this.isFreezed||(-1!==this.timer&&(clearTimeout(this.timer),this.timer=-1,this.shouldInvokeAfterFreeze=!0),this.isFreezed=!0)},e.prototype.unfreeze=function(){this.isFreezed&&(this.isFreezed=!1,this.shouldInvokeAfterFreeze&&(this.shouldInvokeAfterFreeze=!1,this.invoke()))},e}();t.InvokeFrequencyLimiter=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=function(){function e(e){this.callbacks=e,this.previousTouchesCount=0,this.originCentroidX=0,this.originCentroidY=0,this.originEccentricity=1,this.basicLinear=new r.LinearTransformation,this.currentLinear=new r.LinearTransformation,this.centroidX=0,this.centroidY=0}return e.prototype.resetTouchInformation=function(){this.previousTouchesCount=0,this.originCentroidX=0,this.originCentroidY=0,this.originEccentricity=1,this.basicLinear=new r.LinearTransformation,this.currentLinear=new r.LinearTransformation},Object.defineProperty(e.prototype,"linear",{get:function(){return r.LinearTransformation.link(this.basicLinear,this.currentLinear)},enumerable:!0,configurable:!0}),e.prototype.handleTouchEvents=function(e,t){0===this.previousTouchesCount&&e.length>0&&this.resetTouchInformation(),this.refreshWithTouches(e,t),0===this.previousTouchesCount&&e.length>0&&this.callbacks.onPinchStart(),this.previousTouchesCount>0&&0===e.length?(this.resetTouchInformation(),this.callbacks.onPinchEnd(this.centroidX,this.centroidY)):this.callbacks.onPinchMove(this.linear),this.previousTouchesCount=e.length},e.prototype.refreshWithTouches=function(e,t){if(0!==e.length){if(t)this.centroidX=t.x,this.centroidY=t.y;else{for(var n=0,i=0,o=0,a=e;o<a.length;o++){var s=a[o];n+=f=s.x,i+=d=s.y}this.centroidX=n/e.length,this.centroidY=i/e.length}for(var c=0,u=0,l=e;u<l.length;u++){var p=l[u],f=p.x,d=p.y;n=f-this.centroidX,i=d-this.centroidY;c+=Math.sqrt(n*n+i*i)}0===c&&(c=1),this.previousTouchesCount!==e.length&&(this.originCentroidX=this.centroidX,this.originCentroidY=this.centroidY,this.originEccentricity=c,this.basicLinear=r.LinearTransformation.link(this.basicLinear,this.currentLinear));var h=this.centroidX-this.originCentroidX,y=this.centroidY-this.originCentroidY,m=c/this.originEccentricity;this.currentLinear=(new r.LinearTransformation).translate(h,y).translate(-this.centroidX,-this.centroidY).scale(m,m).translate(this.centroidX,this.centroidY)}},e}();t.PinchRecognizerImplement=i},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(59),a=n(58),s=function(){function e(e){this.latestTargetsMap={},this.latestHitTestIdentifies=[],this.isHover=!0,this.underclockingInvoker=new o.UnderclockingInvoker(a.HoverMouseEventLimitTimeInterval),this.params=r({},e)}return e.prototype.fireMouseEvent=function(e,t,n,r){var i=this,o=this.params,a=o.hitTest,s=o.fireMouseEvent,c=a(t,n);this.updateHoverState(e),this.isHover&&"onMouseMove"===e&&!this.isHitTestIdentifiesDifferent(c)?(this.latestTargetsMap=r,this.underclockingInvoker.invoke(function(){s(e,t,n,i.latestTargetsMap,c)})):(this.latestTargetsMap={},this.underclockingInvoker.cancel(),s(e,t,n,r,c))},e.prototype.updateHoverState=function(e){"onMouseDown"===e?this.isHover=!1:"onMouseUp"===e&&(this.isHover=!0)},e.prototype.isHitTestIdentifiesDifferent=function(e){var t=this.latestHitTestIdentifies.length!==e.length;if(!t)for(var n=0;n<e.length;++n){var r=e[n],o=this.latestHitTestIdentifies[n];if(t=!i.isIdentifierEquals(r,o))break}return t},e}();t.HoverFrequencyManager=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),i=n(111),o=n(59),a=n(112),s=n(17),c=n(40),u=function(){function e(e,t,n,r,i){this.displayer=e,this.animationTickGen=t,this.camera=n,this.willHideSelfCursor=r,this.memberDisplayers=[],this.cursorContextsMap={},this.previousObserverId=e.observerId,this.refreshMemberDisplayers(i)}return Object.defineProperty(e.prototype,"cursorViews",{get:function(){var e=[],t=this.displayer.observerId;if(this.observerCursorContext)for(var n in this.cursorContextsMap){var r=this.cursorContextsMap[n];!r.isDisplay||this.willHideSelfCursor&&r.memberId===t||e.push(r.cursorView(this.observerCursorContext))}return e},enumerable:!0,configurable:!0}),e.prototype.refreshMemberDisplayers=function(e){s.checkValueIsEquals(this.memberDisplayers,e)||(this.memberDisplayers=e,this.updateMemberDisplayers(e))},e.prototype.dispose=function(){for(var e in this.memberDisplayers=[],this.observerCursorContext=void 0,this.cursorContextsMap)this.cursorContextsMap[e].remove()},e.prototype.updateMemberDisplayers=function(e){var t=this.displayer.observerId;t!==this.previousObserverId&&(this.previousObserverId=t,this.observerCursorContext=void 0);for(var n={},i=e.find(function(e){return e.mode===r.ViewMode.Broadcaster}),o=0,a=e;o<a.length;o++){var s=a[o],c=s.memberId;if(p=this.cursorContextsMap[c])p.updateMemberDisplayer(s,i);else{var u=this.animationTickGen.createChildTickBeforeMe();p=new l(u,this.camera,s,i)}void 0===this.observerCursorContext&&p.memberId===t&&(this.observerCursorContext=p),n[c]=p,delete this.cursorContextsMap[c]}for(var c in this.cursorContextsMap){var p;(p=this.cursorContextsMap[c]).memberId===t&&(this.observerCursorContext=void 0),p.remove()}this.cursorContextsMap=n},e}();t.CursorsManager=u;var l=function(){function e(t,n,i,s){this.underclockingInvoker=new o.UnderclockingInvoker(c.HoverMouseEventLimitTimeInterval),this.isCursorInScene=!1,this.isPressed=!1,this.isHidingCursor=!1,this.isActivity=!1,this.inactivityTimer=null,this._memberId=i.memberId,this.information=i.information,this.currentMode=i.mode,this.color=i.color,this.appliance=i.currentApplianceName,this.isCursorInScene=i.isCursorInScene,this.isPressed=i.isPressed,this.isHidingCursor=i.isHidingCursor,this.animationTickGen=t,this.camera=n;var u=t.createChildTickBeforeMe();s&&i.mode===r.ViewMode.Follower?this.cameraAnimation=new a.CameraAnimation(u,s):this.cameraAnimation=new a.CameraAnimation(u,i),this.cursorSpaceSpring=e.cursorSpaceSpringFactory.create(t,[i.cursorX,i.cursorY])}return Object.defineProperty(e.prototype,"isDisplay",{get:function(){return this.isCursorInScene&&!this.isHidingCursor&&(this.isActivity||this.isPressed)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"memberId",{get:function(){return this._memberId},enumerable:!0,configurable:!0}),e.prototype.cursorView=function(e){var t,n,r=this.cursorSpaceSpring.point,i=r[0],o=r[1];if(this.isViewLockedAtBroadcaster(e)&&this.isViewLockedAtBroadcaster(this))t=i,n=o;else{var a=this.camera.view,s=this.cameraAnimation.view,c=s.centerX+i/s.scale,u=s.centerY+o/s.scale;t=(c-a.centerX)*a.scale,n=(u-a.centerY)*a.scale}return{x:t,y:n,color:this.color,appliance:this.appliance,memberId:this._memberId,information:this.information}},e.prototype.isViewLockedAtBroadcaster=function(e){return e.currentMode===r.ViewMode.Broadcaster||e.currentMode===r.ViewMode.Follower},e.prototype.updateMemberDisplayer=function(e,t){var n=this;this.currentMode=e.mode,this.color=e.color,this.appliance=e.currentApplianceName,this.isCursorInScene=e.isCursorInScene,this.isPressed=e.isPressed,this.isHidingCursor=e.isHidingCursor;var i=this.cursorSpaceSpring.point,o=i[0],a=i[1];if(this.cursorSpaceSpring.isPlayingAnimation||e.cursorX!==o||e.cursorY!==a){var s=!this.isDisplay;this.isActivity=!0,this.delayInactivity(),this.isPressed?(this.cursorSpaceSpring.moveRightNow([e.cursorX,e.cursorY]),t&&e.mode===r.ViewMode.Follower?this.cameraAnimation.moveToView(t):this.cameraAnimation.moveToView(e)):this.underclockingInvoker.invoke(function(){s?n.cursorSpaceSpring.moveRightNow([e.cursorX,e.cursorY]):n.cursorSpaceSpring.moveTo([e.cursorX,e.cursorY]),t&&e.mode===r.ViewMode.Follower?n.cameraAnimation.moveToView(t):n.cameraAnimation.moveToView(e)})}},e.prototype.remove=function(){this.cursorSpaceSpring.stop(),this.cameraAnimation.stop(),null!==this.inactivityTimer&&(clearTimeout(this.inactivityTimer),this.inactivityTimer=null)},e.prototype.delayInactivity=function(){var e=this;null!==this.inactivityTimer&&clearTimeout(this.inactivityTimer),this.inactivityTimer=setTimeout(function(){e.isActivity=!1,e.animationTickGen.invokeOnce(),e.inactivityTimer=null},5600)},e.cursorSpaceSpringFactory=new i.SpaceSpringFactory({matchingDistance:2,zeroSpeed:.55,kDistance:.17,velocityDamping:.55,heavyDampingRadius:15,heavyDampingSpeed:.25,pedesisSpeedMean:0,pedesisSpeedVariance:0},{matchingDistance:2,zeroSpeed:.55,kDistance:.12,velocityDamping:.35,heavyDampingRadius:15,heavyDampingSpeed:.35,pedesisSpeedMean:0,pedesisSpeedVariance:0}),e}()},function(e,t,n){"use strict";function r(e){var t=Math.abs(e),n=1/(1+t/2),r=n*Math.exp(-t*t-1.26551223+n*(1.00002368+n*(.37409196+n*(.09678418+n*(n*(.27886807+n*(n*(1.48851587+n*(.17087277*n-.82215223))-1.13520398))-.18628806)))));return e>=0?r:2-r}function i(e,t){return new a(e,t)}function o(e,t){return i(t/e,1/e)}Object.defineProperty(t,"__esModule",{value:!0}),t.gaussian=i;var a=function(){function e(e,t){this.mean=e,this.variance=t,this.standardDeviation=Math.sqrt(t)}return e.prototype.pdf=function(e){var t=this.standardDeviation*Math.sqrt(2*Math.PI);return Math.exp(-Math.pow(e-this.mean,2)/(2*this.variance))/t},e.prototype.cdf=function(e){return.5*r(-(e-this.mean)/(this.standardDeviation*Math.sqrt(2)))},e.prototype.ppf=function(e){return this.mean-this.standardDeviation*Math.sqrt(2)*function(e){if(e>=2)return-100;if(e<=0)return 100;for(var t=e<1?e:2-e,n=Math.sqrt(-2*Math.log(t/2)),i=-.70711*((2.30753+.27061*n)/(1+n*(.99229+.04481*n))-n),o=0;o<2;o++){var a=r(i)-t;i+=a/(1.1283791670955126*Math.exp(-i*i)-i*a)}return e<1?i:-i}(2*e)},e.prototype.mul=function(e){if("number"===typeof e)return this.scale(e);var t=1/this.variance,n=1/e.variance;return o(t+n,t*this.mean+n*e.mean)},e.prototype.div=function(e){if("number"===typeof e)return this.scale(1/e);var t=1/this.variance,n=1/e.variance;return o(t-n,t*this.mean-n*e.mean)},e.prototype.add=function(e){return i(this.mean+e.mean,this.variance+e.variance)},e.prototype.sub=function(e){return i(this.mean-e.mean,this.variance+e.variance)},e.prototype.scale=function(e){return i(this.mean*e,this.variance*e*e)},e}();t.Gaussian=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(112),o=function(){function e(e,t){var n=this;this.isMovingBySelf=!1,this._width=0,this._height=0,this.afterResetSpring=function(){n._view=n.cameraAnimation.view,n._transform=void 0,n._linear=void 0,n._inverseLinear=void 0},(e=e.createChildTickBeforeMe()).onAfterTick=this.afterResetSpring,this._view=t,this.cameraAnimation=new i.CameraAnimation(e,t)}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.setSize=function(e,t){this._width=e,this._height=t},Object.defineProperty(e.prototype,"linear",{get:function(){if(!this._linear){var e=this._view,t=e.centerX,n=e.centerY,i=e.scale,o=this._width/2,a=this._height/2;this._linear=(new r.LinearTransformation).translate(-t,-n).scale(i,i).translate(o,a)}return this._linear},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inverseLinear",{get:function(){return this._inverseLinear||(this._inverseLinear=this.linear.inverse),this._inverseLinear},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transform",{get:function(){return this._transform||(this._transform=this.linear.transformationResult),this._transform},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){if(!this._view){var e=this.inverseLinear,t=this._width/2,n=this._height/2,r=e.transformPoint(t,n);this._view={centerX:r.x,centerY:r.y,scale:this.transform.scaleX}}return this._view},enumerable:!0,configurable:!0}),e.prototype.calculatePointInScreenToScene=function(e){return this.inverseLinear.transformPoint(e.x,e.y)},e.prototype.beginMoveOperation=function(){this.cameraAnimation.stop(),this.moveBeginLinear=this.linear,this.isMovingBySelf=!0},e.prototype.appendTransform=function(e){this._linear=r.LinearTransformation.link(this.moveBeginLinear,e),this._transform=void 0,this._inverseLinear=void 0,this._view=void 0},e.prototype.endMoveOperation=function(){this.moveBeginLinear=void 0,this.isMovingBySelf=!1,this.cameraAnimation.moveToRightNow(this.view),this.blockedIdealView&&(this.cameraAnimation.moveToView(this.blockedIdealView),this.blockedIdealView=void 0)},e.prototype.setIdealView=function(e){this.isMovingBySelf?this.blockedIdealView=e:this.cameraAnimation.moveToView(e)},e}();t.Camera=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.listeners={},this.waitingNodes=[]}return e.prototype.dispatchMagixEvent=function(e){var t=this.listeners[e.event];if(t)for(var n=0,r=t;n<r.length;n++){var i=r[n];try{i(e)}catch(e){console.log(e)}}var o=this.waitingNodes.findIndex(function(t){return!!t.filter(e)&&(t.resolve(e),!0)});-1!==o&&this.waitingNodes.splice(o,1)},e.prototype.addMagiEventListener=function(e,t){var n=this.listeners[e];n||(n=[],this.listeners[e]=n),n.push(t)},e.prototype.removeMagixEventListener=function(e,t){if(t){var n=this.listeners[e];if(n){var r=n.indexOf(t);-1!==r&&(n.splice(r),0===n.length&&delete this.listeners[e])}}else delete this.listeners[e]},e.prototype.waitMagixEvent=function(e){var t=this;return new Promise(function(n){t.waitingNodes.push({resolve:n,filter:e})})},e}();t.MagixEventsManager=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(25),c=n(3),u=n(0),l=n(57),p=n(60),f=n(113),d=n(12),h=n(119),y=n(40),m=function(e){function t(t){var n=e.call(this,t.animationTickGenFactory,t.deviceType,t.callbacks,t.disableOperations,!0)||this;n._isAbleToCommitChange=!1,n.beginPinch=function(){n.state.broadcastState.mode===s.ViewMode.Follower&&n.applianceManager.setViewState({mode:s.ViewMode.Freedom})},n.updateCameraView=function(e){n.applianceManager.setViewState(e)},n.fireMouseEvent=function(e,t,r,i,o){var a={x:t,y:r,targetsMap:i,hitTestIdentifies:o};n.applianceManager[e](a)},n.onImagePhaseChanged=function(e){var t=e!==u.ImagePhase.Persistence;n._isAbleToCommitChange!==t&&(n._isAbleToCommitChange=t,n.callbacks.onBeingAbleToCommitChange&&n.callbacks.onBeingAbleToCommitChange(t))},n.onPhaseChanged=function(e){var t=n.callbacks.onPhaseChanged;if(e===u.MagixPhase.Disconnected&&n.dispose(),t)switch(e){case u.MagixPhase.Ready:case u.MagixPhase.Connecting:t(p.RoomPhase.Connecting);break;case u.MagixPhase.Connected:t(p.RoomPhase.Connected);break;case u.MagixPhase.Reconnecting:t(p.RoomPhase.Reconnecting);break;case u.MagixPhase.Disconnecting:t(p.RoomPhase.Disconnecting);break;case u.MagixPhase.Disconnected:t(p.RoomPhase.Disconnected)}},n.mouseCursorDefinition=t.mouseCursorDefinition,n.zoomMaxScale=t.zoomMaxScale,n.zoomMinScale=t.zoomMinScale,n.magix=t.akkoFactory.createMagix({onImagePhaseChanged:n.onImagePhaseChanged,onPhaseChanged:n.onPhaseChanged,onDisconnectWithError:n.callbacks.onDisconnectWithError,onKickedWithReason:n.callbacks.onKickedWithReason,onCatchErrorWhenAppendFrame:n.callbacks.onCatchErrorWhenAppendFrame,escapeObjectFilter:c.isValidElement,onEventFire:function(e){return n.dispatchMagixEventWithObject(e)},onRootChanged:function(){return n.notifyRootChanged()}});var r=n.selectRadiusInScreen(t.deviceType);return n.hoverFrequencyManager=new y.HoverFrequencyManager({hitTest:function(e,t){return n.applianceManager.hitTest(e,t,r)},fireMouseEvent:n.fireMouseEvent}),n.operator=n.createWhiteboardRoomOperator(),n}return i(t,e),t.prototype.selectRadiusInScreen=function(e){switch(e){case d.DeviceType.Desktop:return 0;case d.DeviceType.Touch:return 16}},Object.defineProperty(t.prototype,"disableOperations",{get:function(){return this.displayerSyncNode.props.disableOperations},set:function(e){this.displayerSyncNode.setProps({disableOperations:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"observerId",{get:function(){return this.magix.observerId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"applianceManager",{get:function(){return this.magix.triggerObject},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentAppliance",{get:function(){return this.stateTrigger.exportState.memberState.currentApplianceName},enumerable:!0,configurable:!0}),t.prototype.shouldDisplayNow=function(){return this.phase===p.RoomPhase.Connected||this.phase===p.RoomPhase.Reconnecting},Object.defineProperty(t.prototype,"uuid",{get:function(){return this._uuid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"roomToken",{get:function(){return this._roomToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"phase",{get:function(){return this.displayerSyncNode.props.phase},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this.stateTrigger.exportState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAbleToCommitChange",{get:function(){return this._isAbleToCommitChange},enumerable:!0,configurable:!0}),t.prototype.bindHtmlElement=function(e){var t=this;this.element!==e&&(this.element&&f.bindRoom(this.element,null),this.element=e,this.element&&f.bindRoom(this.element,{room:this,willInterceptKeyboardEvent:this.callbacks.willInterceptKeyboardEvent,onKeyDown:this.callbacks.onKeyDown,onKeyUp:this.callbacks.onKeyUp,onIsMouseOrTouchOperatingChanged:this.callbacks.onIsMouseOrTouchOperatingChanged,focusTextareaSetter:function(e){return t.setFocusTextarea=e}}))},t.prototype.connect=function(e){return o(this,void 0,void 0,function(){var t,n,r,i=this;return a(this,function(o){switch(o.label){case 0:return this._uuid=e.uuid,this._roomToken=e.roomToken,[4,this.magix.connect(e)];case 1:return o.sent(),t=this.applianceManager,n=t.getMemberDisplayers(),this.stateTrigger=new h.StateTrigger({stateKeys:["globalState","memberState","pptImages","roomMembers","broadcastState","zoomScale"],state:{globalState:t.getGlobalState(),memberState:t.getMemberState(),pptImages:t.getPptImages(),viewState:t.getViewState(),roomMembers:n.map(l.DisplayerImplement.covertMemberDisplayerToMember),broadcastState:this.getBroadcastState(),zoomScale:this.displayerSyncNode.props.transform.scaleX},onStateChanged:this.callbacks.onRoomStateChanged}),this.setup(),r=this.animationTickGen.createChildTickBeforeMe(),this.sorter=new y.EventAndViewSorter(this.deviceType,r,this.camera,this.zoomMaxScale,this.zoomMinScale,{beginPinch:this.beginPinch,updateCameraView:this.updateCameraView,mouseDown:function(e){return i.sendMouseEventToMagix("onMouseDown",e)},mouseUp:function(e){return i.sendMouseEventToMagix("onMouseUp",e)},mouseMove:function(e){return i.sendMouseEventToMagix("onMouseMove",e)}}),this.notifyRootChanged(),[2]}})})},t.prototype.notifyRootChanged=function(){this.refreshDisplayer();var e=this.applianceManager,t=e.getMemberDisplayers(),n=this.stateTrigger.setAndCompare({globalState:e.getGlobalState(),memberState:e.getMemberState(),pptImages:e.getPptImages(),viewState:e.getViewState(),roomMembers:t.map(l.DisplayerImplement.covertMemberDisplayerToMember),broadcastState:this.getBroadcastState(),zoomScale:this.displayerSyncNode.props.transform.scaleX});n.viewState&&n.viewState.target.mode!==s.ViewMode.Broadcaster&&this.camera.setIdealView(n.viewState.target)},t.prototype.onCameraTransformChanged=function(e){this.stateTrigger.setAndCompare({zoomScale:e.scaleX})},t.prototype.getBroadcastState=function(){var e=this.applianceManager,t=e.getViewState(),n=e.getBroadcasterId(),r=void 0;if(void 0!==n)for(var i=0,o=e.getMemberDisplayers();i<o.length;i++){var a=o[i];if(a.memberId===n){r=a.information;break}}return{mode:t.mode,broadcasterId:n,broadcasterInformation:r}},t.prototype.sendMouseEventToMagix=function(e,t){var n=this.camera.calculatePointInScreenToScene(t),r=n.x,i=n.y;this.hoverFrequencyManager.fireMouseEvent(e,r,i,t.targetsMap)},t.prototype.dispatchMagixEvent=function(e,t){this.magix.dispatch(e,t)},t.prototype.disconnect=function(){return o(this,void 0,void 0,function(){return a(this,function(e){return[2,this.magix.disconnect()]})})},t.prototype.setGlobalState=function(e){return this.stateTrigger.setProperty("globalState",this.applianceManager.setGlobalState(e))},t.prototype.setMemberState=function(e){return this.stateTrigger.setProperty("memberState",this.applianceManager.setMemberState(e))},t.prototype.setViewMode=function(e){this.applianceManager.setViewState({mode:e});var t=this.stateTrigger.setAndCompare({broadcastState:this.getBroadcastState()});t.viewState&&t.viewState.target.mode!==s.ViewMode.Broadcaster&&this.camera.setIdealView(t.viewState.target),this.notifyRootChanged()},t.prototype.zoomChange=function(e){this.sorter.zoomChange(e)},t.prototype.insertImage=function(e){this.applianceManager.insertImage(e)},t.prototype.pushPptPages=function(e){this.applianceManager.pushPptPages(e)},t.prototype.completeImageUpload=function(e,t){this.applianceManager.completeImageUpload(e,t)},t.prototype.insertNewPage=function(e){this.applianceManager.insertNewPage(e)},t.prototype.removePage=function(e){this.applianceManager.removePage(e)},t.prototype.updateTextarea=function(e){this.applianceManager.updateTextarea(e)},t.prototype.createWhiteboardRoomOperator=function(){var e=this,t={deviceType:this.deviceType,willDisplayMouseCursor:!0,onKeyUp:function(t){e.deviceType===d.DeviceType.Desktop&&e.applianceManager.onKeyUp(t)},onKeyDown:function(t){e.deviceType===d.DeviceType.Desktop&&e.applianceManager.onKeyDown(t)},onMouseDown:function(t){e.deviceType===d.DeviceType.Desktop&&e.sendMouseEventToMagix("onMouseDown",t)},onMouseUp:function(t){e.deviceType===d.DeviceType.Desktop&&e.sendMouseEventToMagix("onMouseUp",t)},onMouseMove:function(t){e.deviceType===d.DeviceType.Desktop&&e.sendMouseEventToMagix("onMouseMove",t)},onMouseLeave:function(t){e.deviceType===d.DeviceType.Desktop&&e.sendMouseEventToMagix("onMouseLeave",t)},onViewTransform:function(t){e.deviceType===d.DeviceType.Desktop&&e.sorter.viewTransform(t)},onTouchStart:function(t){e.deviceType===d.DeviceType.Touch&&(e.sorter.touchStart(t),e.setFocusTextarea&&!e.applianceManager.renderTagBoxes().some(function(e){return"myText"===e.type})&&e.setFocusTextarea(!1))},onTouchMove:function(t){e.deviceType===d.DeviceType.Touch&&e.sorter.touchMove(t)},onTouchEnd:function(t){e.deviceType===d.DeviceType.Touch&&(e.sorter.touchEnd(t),e.setFocusTextarea&&e.applianceManager.renderTagBoxes().some(function(e){return"myText"===e.type})&&e.setFocusTextarea(!0))},onTouchCancel:function(t){e.deviceType===d.DeviceType.Touch&&e.sorter.touchCancel(t)},onTextareaUpdate:function(t){e.applianceManager.updateTextarea(t)}};return Object.freeze(t)},t}(l.DisplayerImplement);t.RoomImplement=m},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(202)},function(e,t,n){"use strict";var r=n(31),i=n(3),o=n(64),a=n(18),s=n(33),c=n(65),u=n(66),l=n(67),p=n(32);function f(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);r(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}i||f("227");var d={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(e,t,n,r,i,o,a,s,c){(function(e,t,n,r,i,o,a,s,c){this._hasCaughtError=!1,this._caughtError=null;var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this._caughtError=e,this._hasCaughtError=!0}}).apply(d,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,r,i,o,a,s,c){if(d.invokeGuardedCallback.apply(this,arguments),d.hasCaughtError()){var u=d.clearCaughtError();d._hasRethrowError||(d._hasRethrowError=!0,d._rethrowError=u)}},rethrowCaughtError:function(){return function(){if(d._hasRethrowError){var e=d._rethrowError;throw d._rethrowError=null,d._hasRethrowError=!1,e}}.apply(d,arguments)},hasCaughtError:function(){return d._hasCaughtError},clearCaughtError:function(){if(d._hasCaughtError){var e=d._caughtError;return d._caughtError=null,d._hasCaughtError=!1,e}f("198")}};var h=null,y={};function m(){if(h)for(var e in y){var t=y[e],n=h.indexOf(e);if(-1<n||f("96",e),!v[n])for(var r in t.extractEvents||f("97",e),v[n]=t,n=t.eventTypes){var i=void 0,o=n[r],a=t,s=r;b.hasOwnProperty(s)&&f("99",s),b[s]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&g(c[i],a,s);i=!0}else o.registrationName?(g(o.registrationName,a,s),i=!0):i=!1;i||f("98",r,e)}}}function g(e,t,n){T[e]&&f("100",e),T[e]=t,S[e]=t.eventTypes[n].dependencies}var v=[],b={},T={},S={};function E(e){h&&f("101"),h=Array.prototype.slice.call(e),m()}function w(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];y.hasOwnProperty(t)&&y[t]===r||(y[t]&&f("102",t),y[t]=r,n=!0)}n&&m()}var x={plugins:v,eventNameDispatchConfigs:b,registrationNameModules:T,registrationNameDependencies:S,possibleRegistrationNames:null,injectEventPluginOrder:E,injectEventPluginsByName:w},k=null,P=null,C=null;function _(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=C(r),d.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function O(e,t){return null==t&&f("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function I(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var M=null;function R(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)_(e,t,n[i],r[i]);else n&&_(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function A(e){return R(e,!0)}function N(e){return R(e,!1)}var j={injectEventPluginOrder:E,injectEventPluginsByName:w};function F(e,t){var n=e.stateNode;if(!n)return null;var r=k(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!==typeof n&&f("231",t,typeof n),n)}function D(e,t){null!==e&&(M=O(M,e)),e=M,M=null,e&&(I(e,t?A:N),M&&f("95"),d.rethrowCaughtError())}function B(e,t,n,r){for(var i=null,o=0;o<v.length;o++){var a=v[o];a&&(a=a.extractEvents(e,t,n,r))&&(i=O(i,a))}D(i,!1)}var W={injection:j,getListener:F,runEventsInBatch:D,runExtractedEventsInBatch:B},U=Math.random().toString(36).slice(2),z="__reactInternalInstance$"+U,L="__reactEventHandlers$"+U;function V(e){if(e[z])return e[z];for(;!e[z];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[z]).tag||6===e.tag?e:null}function H(e){if(5===e.tag||6===e.tag)return e.stateNode;f("33")}function G(e){return e[L]||null}var K={precacheFiberNode:function(e,t){t[z]=e},getClosestInstanceFromNode:V,getInstanceFromNode:function(e){return!(e=e[z])||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:H,getFiberCurrentPropsFromNode:G,updateFiberProps:function(e,t){e[L]=t}};function X(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Y(e,t,n){for(var r=[];e;)r.push(e),e=X(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function Q(e,t,n){(t=F(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=O(n._dispatchListeners,t),n._dispatchInstances=O(n._dispatchInstances,e))}function q(e){e&&e.dispatchConfig.phasedRegistrationNames&&Y(e._targetInst,Q,e)}function $(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;Y(t=t?X(t):null,Q,e)}}function J(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=F(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=O(n._dispatchListeners,t),n._dispatchInstances=O(n._dispatchInstances,e))}function Z(e){e&&e.dispatchConfig.registrationName&&J(e._targetInst,null,e)}function ee(e){I(e,q)}function te(e,t,n,r){if(n&&r)e:{for(var i=n,o=r,a=0,s=i;s;s=X(s))a++;s=0;for(var c=o;c;c=X(c))s++;for(;0<a-s;)i=X(i),a--;for(;0<s-a;)o=X(o),s--;for(;a--;){if(i===o||i===o.alternate)break e;i=X(i),o=X(o)}i=null}else i=null;for(o=i,i=[];n&&n!==o&&(null===(a=n.alternate)||a!==o);)i.push(n),n=X(n);for(n=[];r&&r!==o&&(null===(a=r.alternate)||a!==o);)n.push(r),r=X(r);for(r=0;r<i.length;r++)J(i[r],"bubbled",e);for(e=n.length;0<e--;)J(n[e],"captured",t)}var ne={accumulateTwoPhaseDispatches:ee,accumulateTwoPhaseDispatchesSkipTarget:function(e){I(e,$)},accumulateEnterLeaveDispatches:te,accumulateDirectDispatches:function(e){I(e,Z)}};function re(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}var ie={animationend:re("Animation","AnimationEnd"),animationiteration:re("Animation","AnimationIteration"),animationstart:re("Animation","AnimationStart"),transitionend:re("Transition","TransitionEnd")},oe={},ae={};function se(e){if(oe[e])return oe[e];if(!ie[e])return e;var t,n=ie[e];for(t in n)if(n.hasOwnProperty(t)&&t in ae)return oe[e]=n[t];return e}o.canUseDOM&&(ae=document.createElement("div").style,"AnimationEvent"in window||(delete ie.animationend.animation,delete ie.animationiteration.animation,delete ie.animationstart.animation),"TransitionEvent"in window||delete ie.transitionend.transition);var ce=se("animationend"),ue=se("animationiteration"),le=se("animationstart"),pe=se("transitionend"),fe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),de=null;function he(){return!de&&o.canUseDOM&&(de="textContent"in document.documentElement?"textContent":"innerText"),de}var ye={_root:null,_startText:null,_fallbackText:null};function me(){if(ye._fallbackText)return ye._fallbackText;var e,t,n=ye._startText,r=n.length,i=ge(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return ye._fallbackText=i.slice(e,1<t?1-t:void 0),ye._fallbackText}function ge(){return"value"in ye._root?ye._root.value:ye._root[he()]}var ve="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),be={type:null,target:null,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function Te(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?s.thatReturnsTrue:s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse,this}function Se(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Ee(e){e instanceof this||f("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function we(e){e.eventPool=[],e.getPooled=Se,e.release=Ee}a(Te.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=s.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=s.thatReturnsTrue)},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<ve.length;t++)this[ve[t]]=null}}),Te.Interface=be,Te.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return a(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=a({},r.Interface,e),n.extend=r.extend,we(n),n},we(Te);var xe=Te.extend({data:null}),ke=Te.extend({data:null}),Pe=[9,13,27,32],Ce=o.canUseDOM&&"CompositionEvent"in window,_e=null;o.canUseDOM&&"documentMode"in document&&(_e=document.documentMode);var Oe=o.canUseDOM&&"TextEvent"in window&&!_e,Ie=o.canUseDOM&&(!Ce||_e&&8<_e&&11>=_e),Me=String.fromCharCode(32),Re={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ae=!1;function Ne(e,t){switch(e){case"keyup":return-1!==Pe.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function je(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Fe=!1;var De={eventTypes:Re,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(Ce)e:{switch(e){case"compositionstart":i=Re.compositionStart;break e;case"compositionend":i=Re.compositionEnd;break e;case"compositionupdate":i=Re.compositionUpdate;break e}i=void 0}else Fe?Ne(e,n)&&(i=Re.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=Re.compositionStart);return i?(Ie&&(Fe||i!==Re.compositionStart?i===Re.compositionEnd&&Fe&&(o=me()):(ye._root=r,ye._startText=ge(),Fe=!0)),i=xe.getPooled(i,t,n,r),o?i.data=o:null!==(o=je(n))&&(i.data=o),ee(i),o=i):o=null,(e=Oe?function(e,t){switch(e){case"compositionend":return je(t);case"keypress":return 32!==t.which?null:(Ae=!0,Me);case"textInput":return(e=t.data)===Me&&Ae?null:e;default:return null}}(e,n):function(e,t){if(Fe)return"compositionend"===e||!Ce&&Ne(e,t)?(e=me(),ye._root=null,ye._startText=null,ye._fallbackText=null,Fe=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ie?null:t.data;default:return null}}(e,n))?((t=ke.getPooled(Re.beforeInput,t,n,r)).data=e,ee(t)):t=null,null===o?t:null===t?o:[o,t]}},Be=null,We={injectFiberControlledHostComponent:function(e){Be=e}},Ue=null,ze=null;function Le(e){if(e=P(e)){Be&&"function"===typeof Be.restoreControlledState||f("194");var t=k(e.stateNode);Be.restoreControlledState(e.stateNode,e.type,t)}}function Ve(e){Ue?ze?ze.push(e):ze=[e]:Ue=e}function He(){return null!==Ue||null!==ze}function Ge(){if(Ue){var e=Ue,t=ze;if(ze=Ue=null,Le(e),t)for(e=0;e<t.length;e++)Le(t[e])}}var Ke={injection:We,enqueueStateRestore:Ve,needsStateRestore:He,restoreStateIfNeeded:Ge};function Xe(e,t){return e(t)}function Ye(e,t,n){return e(t,n)}function Qe(){}var qe=!1;function $e(e,t){if(qe)return e(t);qe=!0;try{return Xe(e,t)}finally{qe=!1,He()&&(Qe(),Ge())}}var Je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ze(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Je[e.type]:"textarea"===t}function et(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function tt(e,t){return!(!o.canUseDOM||t&&!("addEventListener"in document))&&((t=(e="on"+e)in document)||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t)}function nt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function rt(e){e._valueTracker||(e._valueTracker=function(e){var t=nt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function it(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=nt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var ot=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,at="function"===typeof Symbol&&Symbol.for,st=at?Symbol.for("react.element"):60103,ct=at?Symbol.for("react.portal"):60106,ut=at?Symbol.for("react.fragment"):60107,lt=at?Symbol.for("react.strict_mode"):60108,pt=at?Symbol.for("react.profiler"):60114,ft=at?Symbol.for("react.provider"):60109,dt=at?Symbol.for("react.context"):60110,ht=at?Symbol.for("react.async_mode"):60111,yt=at?Symbol.for("react.forward_ref"):60112,mt=at?Symbol.for("react.timeout"):60113,gt="function"===typeof Symbol&&Symbol.iterator;function vt(e){return null===e||"undefined"===typeof e?null:"function"===typeof(e=gt&&e[gt]||e["@@iterator"])?e:null}function bt(e){var t=e.type;if("function"===typeof t)return t.displayName||t.name;if("string"===typeof t)return t;switch(t){case ht:return"AsyncMode";case dt:return"Context.Consumer";case ut:return"ReactFragment";case ct:return"ReactPortal";case pt:return"Profiler("+e.pendingProps.id+")";case ft:return"Context.Provider";case lt:return"StrictMode";case mt:return"Timeout"}if("object"===typeof t&&null!==t)switch(t.$$typeof){case yt:return""!==(e=t.render.displayName||t.render.name||"")?"ForwardRef("+e+")":"ForwardRef"}return null}function Tt(e){var t="";do{e:switch(e.tag){case 0:case 1:case 2:case 5:var n=e._debugOwner,r=e._debugSource,i=bt(e),o=null;n&&(o=bt(n)),n=r,i="\n    in "+(i||"Unknown")+(n?" (at "+n.fileName.replace(/^.*[\\\/]/,"")+":"+n.lineNumber+")":o?" (created by "+o+")":"");break e;default:i=""}t+=i,e=e.return}while(e);return t}var St=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Et=Object.prototype.hasOwnProperty,wt={},xt={};function kt(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pt[e]=new kt(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pt[t]=new kt(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pt[e]=new kt(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(e){Pt[e]=new kt(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pt[e]=new kt(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){Pt[e]=new kt(e,3,!0,e.toLowerCase(),null)}),["capture","download"].forEach(function(e){Pt[e]=new kt(e,4,!1,e.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(e){Pt[e]=new kt(e,6,!1,e.toLowerCase(),null)}),["rowSpan","start"].forEach(function(e){Pt[e]=new kt(e,5,!1,e.toLowerCase(),null)});var Ct=/[\-:]([a-z])/g;function _t(e){return e[1].toUpperCase()}function Ot(e,t,n,r){var i=Pt.hasOwnProperty(t)?Pt[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!Et.call(xt,e)||!Et.call(wt,e)&&(St.test(e)?xt[e]=!0:(wt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function It(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Mt(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Ft(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Rt(e,t){null!=(t=t.checked)&&Ot(e,"checked",t,!1)}function At(e,t){Rt(e,t);var n=Ft(t.value);null!=n&&("number"===t.type?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n)),t.hasOwnProperty("value")?jt(e,t.type,n):t.hasOwnProperty("defaultValue")&&jt(e,t.type,Ft(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Nt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){t=""+e._wrapperState.initialValue;var r=e.value;n||t===r||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==n&&(e.name=n)}function jt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ft(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ct,_t);Pt[t]=new kt(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ct,_t);Pt[t]=new kt(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ct,_t);Pt[t]=new kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),Pt.tabIndex=new kt("tabIndex",1,!1,"tabindex",null);var Dt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Bt(e,t,n){return(e=Te.getPooled(Dt.change,e,t,n)).type="change",Ve(n),ee(e),e}var Wt=null,Ut=null;function zt(e){D(e,!1)}function Lt(e){if(it(H(e)))return e}function Vt(e,t){if("change"===e)return t}var Ht=!1;function Gt(){Wt&&(Wt.detachEvent("onpropertychange",Kt),Ut=Wt=null)}function Kt(e){"value"===e.propertyName&&Lt(Ut)&&$e(zt,e=Bt(Ut,e,et(e)))}function Xt(e,t,n){"focus"===e?(Gt(),Ut=n,(Wt=t).attachEvent("onpropertychange",Kt)):"blur"===e&&Gt()}function Yt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Lt(Ut)}function Qt(e,t){if("click"===e)return Lt(t)}function qt(e,t){if("input"===e||"change"===e)return Lt(t)}o.canUseDOM&&(Ht=tt("input")&&(!document.documentMode||9<document.documentMode));var $t={eventTypes:Dt,_isInputEventSupported:Ht,extractEvents:function(e,t,n,r){var i=t?H(t):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=Vt:Ze(i)?Ht?o=qt:(o=Yt,a=Xt):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Qt),o&&(o=o(e,t)))return Bt(o,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&jt(i,"number",i.value)}},Jt=Te.extend({view:null,detail:null}),Zt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function en(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Zt[e])&&!!t[e]}function tn(){return en}var nn=Jt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:tn,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}}),rn=nn.extend({pointerId:null,width:null,height:null,pressure:null,tiltX:null,tiltY:null,pointerType:null,isPrimary:null}),on={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},an={eventTypes:on,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?V(t):null):o=null,o===t)return null;var a=void 0,s=void 0,c=void 0,u=void 0;return"mouseout"===e||"mouseover"===e?(a=nn,s=on.mouseLeave,c=on.mouseEnter,u="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=rn,s=on.pointerLeave,c=on.pointerEnter,u="pointer"),e=null==o?i:H(o),i=null==t?i:H(t),(s=a.getPooled(s,o,n,r)).type=u+"leave",s.target=e,s.relatedTarget=i,(n=a.getPooled(c,t,n,r)).type=u+"enter",n.target=i,n.relatedTarget=e,te(s,n,o,t),[s,n]}};function sn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(0!==(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function cn(e){2!==sn(e)&&f("188")}function un(e){var t=e.alternate;if(!t)return 3===(t=sn(e))&&f("188"),1===t?null:e;for(var n=e,r=t;;){var i=n.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var a=i.child;a;){if(a===n)return cn(i),e;if(a===r)return cn(i),t;a=a.sibling}f("188")}if(n.return!==r.return)n=i,r=o;else{a=!1;for(var s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}a||f("189")}}n.alternate!==r&&f("190")}return 3!==n.tag&&f("188"),n.stateNode.current===n?e:t}function ln(e){if(!(e=un(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var pn=Te.extend({animationName:null,elapsedTime:null,pseudoElement:null}),fn=Te.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dn=Jt.extend({relatedTarget:null});function hn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn=Jt.extend({key:function(e){if(e.key){var t=yn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=hn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:tn,charCode:function(e){return"keypress"===e.type?hn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?hn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),vn=nn.extend({dataTransfer:null}),bn=Jt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:tn}),Tn=Te.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Sn=nn.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),En=[["abort","abort"],[ce,"animationEnd"],[ue,"animationIteration"],[le,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[pe,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],wn={},xn={};function kn(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},wn[e]=t,xn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){kn(e,!0)}),En.forEach(function(e){kn(e,!1)});var Pn={eventTypes:wn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=xn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=xn[e];if(!i)return null;switch(e){case"keypress":if(0===hn(n))return null;case"keydown":case"keyup":e=gn;break;case"blur":case"focus":e=dn;break;case"click":if(2===n.button)return null;case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=bn;break;case ce:case ue:case le:e=pn;break;case pe:e=Tn;break;case"scroll":e=Jt;break;case"wheel":e=Sn;break;case"copy":case"cut":case"paste":e=fn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=rn;break;default:e=Te}return ee(t=e.getPooled(i,t,n,r)),t}},Cn=Pn.isInteractiveTopLevelEventType,_n=[];function On(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(t),t=V(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],B(e.topLevelType,t,e.nativeEvent,et(e.nativeEvent))}var In=!0;function Mn(e){In=!!e}function Rn(e,t){if(!t)return null;var n=(Cn(e)?Nn:jn).bind(null,e);t.addEventListener(e,n,!1)}function An(e,t){if(!t)return null;var n=(Cn(e)?Nn:jn).bind(null,e);t.addEventListener(e,n,!0)}function Nn(e,t){Ye(jn,e,t)}function jn(e,t){if(In){var n=et(t);if(null===(n=V(n))||"number"!==typeof n.tag||2===sn(n)||(n=null),_n.length){var r=_n.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{$e(On,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>_n.length&&_n.push(e)}}}var Fn={get _enabled(){return In},setEnabled:Mn,isEnabled:function(){return In},trapBubbledEvent:Rn,trapCapturedEvent:An,dispatchEvent:jn},Dn={},Bn=0,Wn="_reactListenersID"+(""+Math.random()).slice(2);function Un(e){return Object.prototype.hasOwnProperty.call(e,Wn)||(e[Wn]=Bn++,Dn[e[Wn]]={}),Dn[e[Wn]]}function zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ln(e,t){var n,r=zn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zn(r)}}function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Hn=o.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Gn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Kn=null,Xn=null,Yn=null,Qn=!1;function qn(e,t){if(Qn||null==Kn||Kn!==c())return null;var n=Kn;return"selectionStart"in n&&Vn(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?n={anchorNode:(n=window.getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}:n=void 0,Yn&&u(Yn,n)?null:(Yn=n,(e=Te.getPooled(Gn.select,Xn,e,t)).type="select",e.target=Kn,ee(e),e)}var $n={eventTypes:Gn,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=Un(o),i=S.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?H(t):window,e){case"focus":(Ze(o)||"true"===o.contentEditable)&&(Kn=o,Xn=t,Yn=null);break;case"blur":Yn=Xn=Kn=null;break;case"mousedown":Qn=!0;break;case"contextmenu":case"mouseup":return Qn=!1,qn(n,r);case"selectionchange":if(Hn)break;case"keydown":case"keyup":return qn(n,r)}return null}};j.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),k=K.getFiberCurrentPropsFromNode,P=K.getInstanceFromNode,C=K.getNodeFromInstance,j.injectEventPluginsByName({SimpleEventPlugin:Pn,EnterLeaveEventPlugin:an,ChangeEventPlugin:$t,SelectEventPlugin:$n,BeforeInputEventPlugin:De});var Jn="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,Zn=Date,er=setTimeout,tr=clearTimeout,nr=void 0;if("object"===typeof performance&&"function"===typeof performance.now){var rr=performance;nr=function(){return rr.now()}}else nr=function(){return Zn.now()};var ir=void 0,or=void 0;if(o.canUseDOM){var ar="function"===typeof Jn?Jn:function(){f("276")},sr=null,cr=null,ur=-1,lr=!1,pr=!1,fr=0,dr=33,hr=33,yr={didTimeout:!1,timeRemaining:function(){var e=fr-nr();return 0<e?e:0}},mr=function(e,t){var n=e.scheduledCallback,r=!1;try{n(t),r=!0}finally{or(e),r||(lr=!0,window.postMessage(gr,"*"))}},gr="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===gr&&(lr=!1,null!==sr)){if(null!==sr){var t=nr();if(!(-1===ur||ur>t)){e=-1;for(var n=[],r=sr;null!==r;){var i=r.timeoutTime;-1!==i&&i<=t?n.push(r):-1!==i&&(-1===e||i<e)&&(e=i),r=r.next}if(0<n.length)for(yr.didTimeout=!0,t=0,r=n.length;t<r;t++)mr(n[t],yr);ur=e}}for(e=nr();0<fr-e&&null!==sr;)e=sr,yr.didTimeout=!1,mr(e,yr),e=nr();null===sr||pr||(pr=!0,ar(vr))}},!1);var vr=function(e){pr=!1;var t=e-fr+hr;t<hr&&dr<hr?(8>t&&(t=8),hr=t<dr?dr:t):dr=t,fr=e+hr,lr||(lr=!0,window.postMessage(gr,"*"))};ir=function(e,t){var n=-1;return null!=t&&"number"===typeof t.timeout&&(n=nr()+t.timeout),(-1===ur||-1!==n&&n<ur)&&(ur=n),e={scheduledCallback:e,timeoutTime:n,prev:null,next:null},null===sr?sr=e:null!==(t=e.prev=cr)&&(t.next=e),cr=e,pr||(pr=!0,ar(vr)),e},or=function(e){if(null!==e.prev||sr===e){var t=e.next,n=e.prev;e.next=null,e.prev=null,null!==t?null!==n?(n.next=t,t.prev=n):(t.prev=null,sr=t):null!==n?(n.next=null,cr=n):cr=sr=null}}}else{var br=new Map;ir=function(e){var t={scheduledCallback:e,timeoutTime:0,next:null,prev:null},n=er(function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})});return br.set(e,n),t},or=function(e){var t=br.get(e.scheduledCallback);br.delete(e),tr(t)}}function Tr(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,function(e){null==e||"string"!==typeof e&&"number"!==typeof e||(t+=e)}),t}(t.children))&&(e.children=t),e}function Sr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+n,t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Er(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}}function wr(e,t){return null!=t.dangerouslySetInnerHTML&&f("91"),a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xr(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&f("92"),Array.isArray(t)&&(1>=t.length||f("93"),t=t[0]),n=""+t),null==n&&(n="")),e._wrapperState={initialValue:""+n}}function kr(e,t){var n=t.value;null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function Pr(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}var Cr={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function _r(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Or(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?_r(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ir,Mr=void 0,Rr=(Ir=function(e,t){if(e.namespaceURI!==Cr.svg||"innerHTML"in e)e.innerHTML=t;else{for((Mr=Mr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=Mr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return Ir(e,t)})}:Ir);function Ar(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Nr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jr=["Webkit","ms","Moz","O"];function Fr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,o=t[n];i=null==o||"boolean"===typeof o||""===o?"":r||"number"!==typeof o||0===o||Nr.hasOwnProperty(i)&&Nr[i]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Nr).forEach(function(e){jr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nr[t]=Nr[e]})});var Dr=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Br(e,t,n){t&&(Dr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&f("137",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&f("60"),"object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||f("61")),null!=t.style&&"object"!==typeof t.style&&f("62",n()))}function Wr(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ur=s.thatReturns("");function zr(e,t){var n=Un(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":An("scroll",e);break;case"focus":case"blur":An("focus",e),An("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":tt(i,!0)&&An(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===fe.indexOf(i)&&Rn(i,e)}n[i]=!0}}}function Lr(e,t,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===Cr.html&&(r=_r(e)),r===Cr.html?"script"===e?((e=n.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"===typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e}function Vr(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function Hr(e,t,n,r){var i=Wr(t,n);switch(t){case"iframe":case"object":Rn("load",e);var o=n;break;case"video":case"audio":for(o=0;o<fe.length;o++)Rn(fe[o],e);o=n;break;case"source":Rn("error",e),o=n;break;case"img":case"image":case"link":Rn("error",e),Rn("load",e),o=n;break;case"form":Rn("reset",e),Rn("submit",e),o=n;break;case"details":Rn("toggle",e),o=n;break;case"input":Mt(e,n),o=It(e,n),Rn("invalid",e),zr(r,"onChange");break;case"option":o=Tr(e,n);break;case"select":Er(e,n),o=a({},n,{value:void 0}),Rn("invalid",e),zr(r,"onChange");break;case"textarea":xr(e,n),o=wr(e,n),Rn("invalid",e),zr(r,"onChange");break;default:o=n}Br(t,o,Ur);var c,u=o;for(c in u)if(u.hasOwnProperty(c)){var l=u[c];"style"===c?Fr(e,l):"dangerouslySetInnerHTML"===c?null!=(l=l?l.__html:void 0)&&Rr(e,l):"children"===c?"string"===typeof l?("textarea"!==t||""!==l)&&Ar(e,l):"number"===typeof l&&Ar(e,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(T.hasOwnProperty(c)?null!=l&&zr(r,c):null!=l&&Ot(e,c,l,i))}switch(t){case"input":rt(e),Nt(e,n,!1);break;case"textarea":rt(e),Pr(e);break;case"option":null!=n.value&&e.setAttribute("value",n.value);break;case"select":e.multiple=!!n.multiple,null!=(t=n.value)?Sr(e,!!n.multiple,t,!1):null!=n.defaultValue&&Sr(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=s)}}function Gr(e,t,n,r,i){var o=null;switch(t){case"input":n=It(e,n),r=It(e,r),o=[];break;case"option":n=Tr(e,n),r=Tr(e,r),o=[];break;case"select":n=a({},n,{value:void 0}),r=a({},r,{value:void 0}),o=[];break;case"textarea":n=wr(e,n),r=wr(e,r),o=[];break;default:"function"!==typeof n.onClick&&"function"===typeof r.onClick&&(e.onclick=s)}Br(t,r,Ur),t=e=void 0;var c=null;for(e in n)if(!r.hasOwnProperty(e)&&n.hasOwnProperty(e)&&null!=n[e])if("style"===e){var u=n[e];for(t in u)u.hasOwnProperty(t)&&(c||(c={}),c[t]="")}else"dangerouslySetInnerHTML"!==e&&"children"!==e&&"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&"autoFocus"!==e&&(T.hasOwnProperty(e)?o||(o=[]):(o=o||[]).push(e,null));for(e in r){var l=r[e];if(u=null!=n?n[e]:void 0,r.hasOwnProperty(e)&&l!==u&&(null!=l||null!=u))if("style"===e)if(u){for(t in u)!u.hasOwnProperty(t)||l&&l.hasOwnProperty(t)||(c||(c={}),c[t]="");for(t in l)l.hasOwnProperty(t)&&u[t]!==l[t]&&(c||(c={}),c[t]=l[t])}else c||(o||(o=[]),o.push(e,c)),c=l;else"dangerouslySetInnerHTML"===e?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(e,""+l)):"children"===e?u===l||"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(e,""+l):"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&(T.hasOwnProperty(e)?(null!=l&&zr(i,e),o||u===l||(o=[])):(o=o||[]).push(e,l))}return c&&(o=o||[]).push("style",c),o}function Kr(e,t,n,r,i){"input"===n&&"radio"===i.type&&null!=i.name&&Rt(e,i),Wr(n,r),r=Wr(n,i);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?Fr(e,s):"dangerouslySetInnerHTML"===a?Rr(e,s):"children"===a?Ar(e,s):Ot(e,a,s,r)}switch(n){case"input":At(e,i);break;case"textarea":kr(e,i);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?Sr(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Sr(e,!!i.multiple,i.defaultValue,!0):Sr(e,!!i.multiple,i.multiple?[]:"",!1))}}function Xr(e,t,n,r,i){switch(t){case"iframe":case"object":Rn("load",e);break;case"video":case"audio":for(r=0;r<fe.length;r++)Rn(fe[r],e);break;case"source":Rn("error",e);break;case"img":case"image":case"link":Rn("error",e),Rn("load",e);break;case"form":Rn("reset",e),Rn("submit",e);break;case"details":Rn("toggle",e);break;case"input":Mt(e,n),Rn("invalid",e),zr(i,"onChange");break;case"select":Er(e,n),Rn("invalid",e),zr(i,"onChange");break;case"textarea":xr(e,n),Rn("invalid",e),zr(i,"onChange")}for(var o in Br(t,n,Ur),r=null,n)if(n.hasOwnProperty(o)){var a=n[o];"children"===o?"string"===typeof a?e.textContent!==a&&(r=["children",a]):"number"===typeof a&&e.textContent!==""+a&&(r=["children",""+a]):T.hasOwnProperty(o)&&null!=a&&zr(i,o)}switch(t){case"input":rt(e),Nt(e,n,!0);break;case"textarea":rt(e),Pr(e);break;case"select":case"option":break;default:"function"===typeof n.onClick&&(e.onclick=s)}return r}function Yr(e,t){return e.nodeValue!==t}var Qr={createElement:Lr,createTextNode:Vr,setInitialProperties:Hr,diffProperties:Gr,updateProperties:Kr,diffHydratedProperties:Xr,diffHydratedText:Yr,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":if(At(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=G(r);i||f("90"),it(r),At(r,i)}}}break;case"textarea":kr(e,n);break;case"select":null!=(t=n.value)&&Sr(e,!!n.multiple,t,!1)}}},qr=null,$r=null;function Jr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Zr(e,t){return"textarea"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"===typeof t.dangerouslySetInnerHTML.__html}var ei=nr,ti=ir,ni=or;function ri(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function ii(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var oi=[],ai=-1;function si(e){return{current:e}}function ci(e){0>ai||(e.current=oi[ai],oi[ai]=null,ai--)}function ui(e,t){oi[++ai]=e.current,e.current=t}var li=si(p),pi=si(!1),fi=p;function di(e){return yi(e)?fi:li.current}function hi(e,t){var n=e.type.contextTypes;if(!n)return p;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function yi(e){return 2===e.tag&&null!=e.type.childContextTypes}function mi(e){yi(e)&&(ci(pi),ci(li))}function gi(e){ci(pi),ci(li)}function vi(e,t,n){li.current!==p&&f("168"),ui(li,t),ui(pi,n)}function bi(e,t){var n=e.stateNode,r=e.type.childContextTypes;if("function"!==typeof n.getChildContext)return t;for(var i in n=n.getChildContext())i in r||f("108",bt(e)||"Unknown",i);return a({},t,n)}function Ti(e){if(!yi(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||p,fi=li.current,ui(li,t),ui(pi,pi.current),!0}function Si(e,t){var n=e.stateNode;if(n||f("169"),t){var r=bi(e,fi);n.__reactInternalMemoizedMergedChildContext=r,ci(pi),ci(li),ui(li,r)}else ci(pi);ui(pi,t)}function Ei(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function wi(e,t,n){var r=e.alternate;return null===r?((r=new Ei(e.tag,t,e.key,e.mode)).type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xi(e,t,n){var r=e.type,i=e.key;if(e=e.props,"function"===typeof r)var o=r.prototype&&r.prototype.isReactComponent?2:0;else if("string"===typeof r)o=5;else switch(r){case ut:return ki(e.children,t,n,i);case ht:o=11,t|=3;break;case lt:o=11,t|=2;break;case pt:return(r=new Ei(15,e,i,4|t)).type=pt,r.expirationTime=n,r;case mt:o=16,t|=2;break;default:e:{switch("object"===typeof r&&null!==r?r.$$typeof:null){case ft:o=13;break e;case dt:o=12;break e;case yt:o=14;break e;default:f("130",null==r?r:typeof r,"")}o=void 0}}return(t=new Ei(o,e,i,t)).type=r,t.expirationTime=n,t}function ki(e,t,n,r){return(e=new Ei(10,e,r,t)).expirationTime=n,e}function Pi(e,t,n){return(e=new Ei(6,e,null,t)).expirationTime=n,e}function Ci(e,t,n){return(t=new Ei(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _i(e,t,n){return e={current:t=new Ei(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:n,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},t.stateNode=e}var Oi=null,Ii=null;function Mi(e){return function(t){try{return e(t)}catch(e){}}}function Ri(e){"function"===typeof Oi&&Oi(e)}function Ai(e){"function"===typeof Ii&&Ii(e)}var Ni=!1;function ji(e){return{expirationTime:0,baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Fi(e){return{expirationTime:e.expirationTime,baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Di(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Bi(e,t,n){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t),(0===e.expirationTime||e.expirationTime>n)&&(e.expirationTime=n)}function Wi(e,t,n){var r=e.alternate;if(null===r){var i=e.updateQueue,o=null;null===i&&(i=e.updateQueue=ji(e.memoizedState))}else i=e.updateQueue,o=r.updateQueue,null===i?null===o?(i=e.updateQueue=ji(e.memoizedState),o=r.updateQueue=ji(r.memoizedState)):i=e.updateQueue=Fi(o):null===o&&(o=r.updateQueue=Fi(i));null===o||i===o?Bi(i,t,n):null===i.lastUpdate||null===o.lastUpdate?(Bi(i,t,n),Bi(o,t,n)):(Bi(i,t,n),o.lastUpdate=t)}function Ui(e,t,n){var r=e.updateQueue;null===(r=null===r?e.updateQueue=ji(e.memoizedState):zi(e,r)).lastCapturedUpdate?r.firstCapturedUpdate=r.lastCapturedUpdate=t:(r.lastCapturedUpdate.next=t,r.lastCapturedUpdate=t),(0===r.expirationTime||r.expirationTime>n)&&(r.expirationTime=n)}function zi(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Fi(t)),t}function Li(e,t,n,r,i,o){switch(n.tag){case 1:return"function"===typeof(e=n.payload)?e.call(o,r,i):e;case 3:e.effectTag=-1025&e.effectTag|64;case 0:if(null===(i="function"===typeof(e=n.payload)?e.call(o,r,i):e)||void 0===i)break;return a({},r,i);case 2:Ni=!0}return r}function Vi(e,t,n,r,i){if(Ni=!1,!(0===t.expirationTime||t.expirationTime>i)){for(var o=(t=zi(e,t)).baseState,a=null,s=0,c=t.firstUpdate,u=o;null!==c;){var l=c.expirationTime;l>i?(null===a&&(a=c,o=u),(0===s||s>l)&&(s=l)):(u=Li(e,0,c,u,n,r),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=c:(t.lastEffect.nextEffect=c,t.lastEffect=c))),c=c.next}for(l=null,c=t.firstCapturedUpdate;null!==c;){var p=c.expirationTime;p>i?(null===l&&(l=c,null===a&&(o=u)),(0===s||s>p)&&(s=p)):(u=Li(e,0,c,u,n,r),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=c:(t.lastCapturedEffect.nextEffect=c,t.lastCapturedEffect=c))),c=c.next}null===a&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===l&&(o=u),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=l,t.expirationTime=s,e.memoizedState=u}}function Hi(e,t){"function"!==typeof e&&f("191",e),e.call(t)}function Gi(e,t,n){for(null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),e=t.firstEffect,t.firstEffect=t.lastEffect=null;null!==e;){var r=e.callback;null!==r&&(e.callback=null,Hi(r,n)),e=e.nextEffect}for(e=t.firstCapturedEffect,t.firstCapturedEffect=t.lastCapturedEffect=null;null!==e;)null!==(t=e.callback)&&(e.callback=null,Hi(t,n)),e=e.nextEffect}function Ki(e,t){return{value:e,source:t,stack:Tt(t)}}var Xi=si(null),Yi=si(null),Qi=si(0);function qi(e){var t=e.type._context;ui(Qi,t._changedBits),ui(Yi,t._currentValue),ui(Xi,e),t._currentValue=e.pendingProps.value,t._changedBits=e.stateNode}function $i(e){var t=Qi.current,n=Yi.current;ci(Xi),ci(Yi),ci(Qi),(e=e.type._context)._currentValue=n,e._changedBits=t}var Ji={},Zi=si(Ji),eo=si(Ji),to=si(Ji);function no(e){return e===Ji&&f("174"),e}function ro(e,t){ui(to,t),ui(eo,e),ui(Zi,Ji);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Or(null,"");break;default:t=Or(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}ci(Zi),ui(Zi,t)}function io(e){ci(Zi),ci(eo),ci(to)}function oo(e){eo.current===e&&(ci(Zi),ci(eo))}function ao(e,t,n){var r=e.memoizedState;r=null===(t=t(n,r))||void 0===t?r:a({},r,t),e.memoizedState=r,null!==(e=e.updateQueue)&&0===e.expirationTime&&(e.baseState=r)}var so={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===sn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Ta(),i=Di(r=va(r,e));i.payload=t,void 0!==n&&null!==n&&(i.callback=n),Wi(e,i,r),ba(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Ta(),i=Di(r=va(r,e));i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),Wi(e,i,r),ba(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Ta(),r=Di(n=va(n,e));r.tag=2,void 0!==t&&null!==t&&(r.callback=t),Wi(e,r,n),ba(e,n)}};function co(e,t,n,r,i,o){var a=e.stateNode;return e=e.type,"function"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(n,i,o):!e.prototype||!e.prototype.isPureReactComponent||(!u(t,n)||!u(r,i))}function uo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&so.enqueueReplaceState(t,t.state,null)}function lo(e,t){var n=e.type,r=e.stateNode,i=e.pendingProps,o=di(e);r.props=i,r.state=e.memoizedState,r.refs=p,r.context=hi(e,o),null!==(o=e.updateQueue)&&(Vi(e,o,i,r,t),r.state=e.memoizedState),"function"===typeof(o=e.type.getDerivedStateFromProps)&&(ao(e,o,i),r.state=e.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(n=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),n!==r.state&&so.enqueueReplaceState(r,r.state,null),null!==(o=e.updateQueue)&&(Vi(e,o,i,r,t),r.state=e.memoizedState)),"function"===typeof r.componentDidMount&&(e.effectTag|=4)}var po=Array.isArray;function fo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){var r=void 0;(n=n._owner)&&(2!==n.tag&&f("110"),r=n.stateNode),r||f("147",e);var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs===p?r.refs={}:r.refs;null===e?delete t[i]:t[i]=e})._stringRef=i,t)}"string"!==typeof e&&f("148"),n._owner||f("254",e)}return e}function ho(e,t){"textarea"!==e.type&&f("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function yo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=wi(e,t,n)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Pi(n,e.mode,r)).return=e,t):((t=i(t,n,r)).return=e,t)}function c(e,t,n,r){return null!==t&&t.type===n.type?((r=i(t,n.props,r)).ref=fo(e,t,n),r.return=e,r):((r=xi(n,e.mode,r)).ref=fo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ci(n,e.mode,r)).return=e,t):((t=i(t,n.children||[],r)).return=e,t)}function l(e,t,n,r,o){return null===t||10!==t.tag?((t=ki(n,e.mode,r,o)).return=e,t):((t=i(t,n,r)).return=e,t)}function p(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Pi(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case st:return(n=xi(t,e.mode,n)).ref=fo(e,null,t),n.return=e,n;case ct:return(t=Ci(t,e.mode,n)).return=e,t}if(po(t)||vt(t))return(t=ki(t,e.mode,n,null)).return=e,t;ho(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case st:return n.key===i?n.type===ut?l(e,t,n.props.children,r,i):c(e,t,n,r):null;case ct:return n.key===i?u(e,t,n,r):null}if(po(n)||vt(n))return null!==i?null:l(e,t,n,r,null);ho(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case st:return e=e.get(null===r.key?n:r.key)||null,r.type===ut?l(t,e,r.props.children,i,r.key):c(t,e,r,i);case ct:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(po(r)||vt(r))return l(t,e=e.get(n)||null,r,i,null);ho(t,r)}return null}function y(i,a,s,c){for(var u=null,l=null,f=a,y=a=0,m=null;null!==f&&y<s.length;y++){f.index>y?(m=f,f=null):m=f.sibling;var g=d(i,f,s[y],c);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,y),null===l?u=g:l.sibling=g,l=g,f=m}if(y===s.length)return n(i,f),u;if(null===f){for(;y<s.length;y++)(f=p(i,s[y],c))&&(a=o(f,a,y),null===l?u=f:l.sibling=f,l=f);return u}for(f=r(i,f);y<s.length;y++)(m=h(f,i,y,s[y],c))&&(e&&null!==m.alternate&&f.delete(null===m.key?y:m.key),a=o(m,a,y),null===l?u=m:l.sibling=m,l=m);return e&&f.forEach(function(e){return t(i,e)}),u}function m(i,a,s,c){var u=vt(s);"function"!==typeof u&&f("150"),null==(s=u.call(s))&&f("151");for(var l=u=null,y=a,m=a=0,g=null,v=s.next();null!==y&&!v.done;m++,v=s.next()){y.index>m?(g=y,y=null):g=y.sibling;var b=d(i,y,v.value,c);if(null===b){y||(y=g);break}e&&y&&null===b.alternate&&t(i,y),a=o(b,a,m),null===l?u=b:l.sibling=b,l=b,y=g}if(v.done)return n(i,y),u;if(null===y){for(;!v.done;m++,v=s.next())null!==(v=p(i,v.value,c))&&(a=o(v,a,m),null===l?u=v:l.sibling=v,l=v);return u}for(y=r(i,y);!v.done;m++,v=s.next())null!==(v=h(y,i,m,v.value,c))&&(e&&null!==v.alternate&&y.delete(null===v.key?m:v.key),a=o(v,a,m),null===l?u=v:l.sibling=v,l=v);return e&&y.forEach(function(e){return t(i,e)}),u}return function(e,r,o,s){var c="object"===typeof o&&null!==o&&o.type===ut&&null===o.key;c&&(o=o.props.children);var u="object"===typeof o&&null!==o;if(u)switch(o.$$typeof){case st:e:{for(u=o.key,c=r;null!==c;){if(c.key===u){if(10===c.tag?o.type===ut:c.type===o.type){n(e,c.sibling),(r=i(c,o.type===ut?o.props.children:o.props,s)).ref=fo(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===ut?((r=ki(o.props.children,e.mode,s,o.key)).return=e,e=r):((s=xi(o,e.mode,s)).ref=fo(e,r,o),s.return=e,e=s)}return a(e);case ct:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[],s)).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ci(o,e.mode,s)).return=e,e=r}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o,s)).return=e,e=r):(n(e,r),(r=Pi(o,e.mode,s)).return=e,e=r),a(e);if(po(o))return y(e,r,o,s);if(vt(o))return m(e,r,o,s);if(u&&ho(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 2:case 1:f("152",(s=e.type).displayName||s.name||"Component")}return n(e,r)}}var mo=yo(!0),go=yo(!1),vo=null,bo=null,To=!1;function So(e,t){var n=new Ei(5,null,null,0);n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Eo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function wo(e){if(To){var t=bo;if(t){var n=t;if(!Eo(e,t)){if(!(t=ri(n))||!Eo(e,t))return e.effectTag|=2,To=!1,void(vo=e);So(vo,n)}vo=e,bo=ii(t)}else e.effectTag|=2,To=!1,vo=e}}function xo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;vo=e}function ko(e){if(e!==vo)return!1;if(!To)return xo(e),To=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Zr(t,e.memoizedProps))for(t=bo;t;)So(e,t),t=ri(t);return xo(e),bo=vo?ri(e.stateNode):null,!0}function Po(){bo=vo=null,To=!1}function Co(e,t,n){_o(e,t,n,t.expirationTime)}function _o(e,t,n,r){t.child=null===e?go(t,null,n,r):mo(t,e.child,n,r)}function Oo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Io(e,t,n,r,i){Oo(e,t);var o=0!==(64&t.effectTag);if(!n&&!o)return r&&Si(t,!1),Ao(e,t);n=t.stateNode,ot.current=t;var a=o?null:n.render();return t.effectTag|=1,o&&(_o(e,t,null,i),t.child=null),_o(e,t,a,i),t.memoizedState=n.state,t.memoizedProps=n.props,r&&Si(t,!0),t.child}function Mo(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),ro(e,t.containerInfo)}function Ro(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){switch(i.tag){case 12:var o=0|i.stateNode;if(i.type===t&&0!==(o&n)){for(o=i;null!==o;){var a=o.alternate;if(0===o.expirationTime||o.expirationTime>r)o.expirationTime=r,null!==a&&(0===a.expirationTime||a.expirationTime>r)&&(a.expirationTime=r);else{if(null===a||!(0===a.expirationTime||a.expirationTime>r))break;a.expirationTime=r}o=o.return}o=null}else o=i.child;break;case 13:o=i.type===e.type?null:i.child;break;default:o=i.child}if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Ao(e,t){if(null!==e&&t.child!==e.child&&f("153"),null!==t.child){var n=wi(e=t.child,e.pendingProps,e.expirationTime);for(t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=wi(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function No(e,t,n){if(0===t.expirationTime||t.expirationTime>n){switch(t.tag){case 3:Mo(t);break;case 2:Ti(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 13:qi(t)}return null}switch(t.tag){case 0:null!==e&&f("155");var r=t.type,i=t.pendingProps,o=di(t);return r=r(i,o=hi(t,o)),t.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(o=t.type,t.tag=2,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,"function"===typeof(o=o.getDerivedStateFromProps)&&ao(t,o,i),i=Ti(t),r.updater=so,t.stateNode=r,r._reactInternalFiber=t,lo(t,n),e=Io(e,t,!0,i,n)):(t.tag=1,Co(e,t,r),t.memoizedProps=i,e=t.child),e;case 1:return i=t.type,n=t.pendingProps,pi.current||t.memoizedProps!==n?(i=i(n,r=hi(t,r=di(t))),t.effectTag|=1,Co(e,t,i),t.memoizedProps=n,e=t.child):e=Ao(e,t),e;case 2:if(i=Ti(t),null===e)if(null===t.stateNode){var a=t.pendingProps,s=t.type;r=di(t);var c=2===t.tag&&null!=t.type.contextTypes;a=new s(a,o=c?hi(t,r):p),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=so,t.stateNode=a,a._reactInternalFiber=t,c&&((c=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,c.__reactInternalMemoizedMaskedChildContext=o),lo(t,n),r=!0}else{s=t.type,r=t.stateNode,c=t.memoizedProps,o=t.pendingProps,r.props=c;var u=r.context;a=hi(t,a=di(t));var l=s.getDerivedStateFromProps;(s="function"===typeof l||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(c!==o||u!==a)&&uo(t,r,o,a),Ni=!1;var d=t.memoizedState;u=r.state=d;var h=t.updateQueue;null!==h&&(Vi(t,h,o,r,n),u=t.memoizedState),c!==o||d!==u||pi.current||Ni?("function"===typeof l&&(ao(t,l,o),u=t.memoizedState),(c=Ni||co(t,c,o,d,u,a))?(s||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.effectTag|=4)):("function"===typeof r.componentDidMount&&(t.effectTag|=4),t.memoizedProps=o,t.memoizedState=u),r.props=o,r.state=u,r.context=a,r=c):("function"===typeof r.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.type,r=t.stateNode,o=t.memoizedProps,c=t.pendingProps,r.props=o,u=r.context,a=hi(t,a=di(t)),(s="function"===typeof(l=s.getDerivedStateFromProps)||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o!==c||u!==a)&&uo(t,r,c,a),Ni=!1,u=t.memoizedState,d=r.state=u,null!==(h=t.updateQueue)&&(Vi(t,h,c,r,n),d=t.memoizedState),o!==c||u!==d||pi.current||Ni?("function"===typeof l&&(ao(t,l,c),d=t.memoizedState),(l=Ni||co(t,o,c,u,d,a))?(s||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(c,d,a),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(c,d,a)),"function"===typeof r.componentDidUpdate&&(t.effectTag|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof r.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=c,t.memoizedState=d),r.props=c,r.state=d,r.context=a,r=l):("function"!==typeof r.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Io(e,t,r,i,n);case 3:return Mo(t),null!==(i=t.updateQueue)?(r=null!==(r=t.memoizedState)?r.element:null,Vi(t,i,t.pendingProps,null,n),(i=t.memoizedState.element)===r?(Po(),e=Ao(e,t)):(r=t.stateNode,(r=(null===e||null===e.child)&&r.hydrate)&&(bo=ii(t.stateNode.containerInfo),vo=t,r=To=!0),r?(t.effectTag|=2,t.child=go(t,null,i,n)):(Po(),Co(e,t,i)),e=t.child)):(Po(),e=Ao(e,t)),e;case 5:return no(to.current),(i=no(Zi.current))!==(r=Or(i,t.type))&&(ui(eo,t),ui(Zi,r)),null===e&&wo(t),i=t.type,c=t.memoizedProps,r=t.pendingProps,o=null!==e?e.memoizedProps:null,pi.current||c!==r||((c=1&t.mode&&!!r.hidden)&&(t.expirationTime=1073741823),c&&1073741823===n)?(c=r.children,Zr(i,r)?c=null:o&&Zr(i,o)&&(t.effectTag|=16),Oo(e,t),1073741823!==n&&1&t.mode&&r.hidden?(t.expirationTime=1073741823,t.memoizedProps=r,e=null):(Co(e,t,c),t.memoizedProps=r,e=t.child)):e=Ao(e,t),e;case 6:return null===e&&wo(t),t.memoizedProps=t.pendingProps,null;case 16:return null;case 4:return ro(t,t.stateNode.containerInfo),i=t.pendingProps,pi.current||t.memoizedProps!==i?(null===e?t.child=mo(t,null,i,n):Co(e,t,i),t.memoizedProps=i,e=t.child):e=Ao(e,t),e;case 14:return i=t.type.render,n=t.pendingProps,r=t.ref,pi.current||t.memoizedProps!==n||r!==(null!==e?e.ref:null)?(Co(e,t,i=i(n,r)),t.memoizedProps=n,e=t.child):e=Ao(e,t),e;case 10:return n=t.pendingProps,pi.current||t.memoizedProps!==n?(Co(e,t,n),t.memoizedProps=n,e=t.child):e=Ao(e,t),e;case 11:return n=t.pendingProps.children,pi.current||null!==n&&t.memoizedProps!==n?(Co(e,t,n),t.memoizedProps=n,e=t.child):e=Ao(e,t),e;case 15:return n=t.pendingProps,t.memoizedProps===n?e=Ao(e,t):(Co(e,t,n.children),t.memoizedProps=n,e=t.child),e;case 13:return function(e,t,n){var r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=!0;if(pi.current)a=!1;else if(o===i)return t.stateNode=0,qi(t),Ao(e,t);var s=i.value;if(t.memoizedProps=i,null===o)s=1073741823;else if(o.value===i.value){if(o.children===i.children&&a)return t.stateNode=0,qi(t),Ao(e,t);s=0}else{var c=o.value;if(c===s&&(0!==c||1/c===1/s)||c!==c&&s!==s){if(o.children===i.children&&a)return t.stateNode=0,qi(t),Ao(e,t);s=0}else if(s="function"===typeof r._calculateChangedBits?r._calculateChangedBits(c,s):1073741823,0===(s|=0)){if(o.children===i.children&&a)return t.stateNode=0,qi(t),Ao(e,t)}else Ro(t,r,s,n)}return t.stateNode=s,qi(t),Co(e,t,i.children),t.child}(e,t,n);case 12:e:if(r=t.type,o=t.pendingProps,c=t.memoizedProps,i=r._currentValue,a=r._changedBits,pi.current||0!==a||c!==o){if(t.memoizedProps=o,void 0!==(s=o.unstable_observedBits)&&null!==s||(s=1073741823),t.stateNode=s,0!==(a&s))Ro(t,r,a,n);else if(c===o){e=Ao(e,t);break e}n=(n=o.children)(i),t.effectTag|=1,Co(e,t,n),e=t.child}else e=Ao(e,t);return e;default:f("156")}}function jo(e){e.effectTag|=4}var Fo=void 0,Do=void 0,Bo=void 0;function Wo(e,t){var n=t.pendingProps;switch(t.tag){case 1:return null;case 2:return mi(t),null;case 3:io(),gi();var r=t.stateNode;return r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ko(t),t.effectTag&=-3),Fo(t),null;case 5:oo(t),r=no(to.current);var i=t.type;if(null!==e&&null!=t.stateNode){var o=e.memoizedProps,a=t.stateNode,s=no(Zi.current);a=Gr(a,i,o,n,r),Do(e,t,a,i,o,n,r,s),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!n)return null===t.stateNode&&f("166"),null;if(e=no(Zi.current),ko(t))n=t.stateNode,i=t.type,o=t.memoizedProps,n[z]=t,n[L]=o,r=Xr(n,i,o,e,r),t.updateQueue=r,null!==r&&jo(t);else{(e=Lr(i,n,r,e))[z]=t,e[L]=n;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}Hr(e,i,n,r),Jr(i,n)&&jo(t),t.stateNode=e}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Bo(e,t,e.memoizedProps,n);else{if("string"!==typeof n)return null===t.stateNode&&f("166"),null;r=no(to.current),no(Zi.current),ko(t)?(r=t.stateNode,n=t.memoizedProps,r[z]=t,Yr(r,n)&&jo(t)):((r=Vr(n,r))[z]=t,t.stateNode=r)}return null;case 14:case 16:case 10:case 11:case 15:return null;case 4:return io(),Fo(t),null;case 13:return $i(t),null;case 12:return null;case 0:f("167");default:f("156")}}function Uo(e,t){var n=t.source;null===t.stack&&null!==n&&Tt(n),null!==n&&bt(n),t=t.value,null!==e&&2===e.tag&&bt(e);try{t&&t.suppressReactErrorLogging||console.error(t)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}}function zo(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(t){ma(e,t)}else t.current=null}function Lo(e){switch(Ai(e),e.tag){case 2:zo(e);var t=e.stateNode;if("function"===typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){ma(e,t)}break;case 5:zo(e);break;case 4:Go(e)}}function Vo(e){return 5===e.tag||3===e.tag||4===e.tag}function Ho(e){e:{for(var t=e.return;null!==t;){if(Vo(t)){var n=t;break e}t=t.return}f("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:f("161")}16&n.effectTag&&(Ar(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Vo(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(n)if(r){var o=t,a=i.stateNode,s=n;8===o.nodeType?o.parentNode.insertBefore(a,s):o.insertBefore(a,s)}else t.insertBefore(i.stateNode,n);else r?(o=t,a=i.stateNode,8===o.nodeType?o.parentNode.insertBefore(a,o):o.appendChild(a)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Go(e){for(var t=e,n=!1,r=void 0,i=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&f("160"),n.tag){case 5:r=n.stateNode,i=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,a=o;;)if(Lo(a),null!==a.child&&4!==a.tag)a.child.return=a,a=a.child;else{if(a===o)break;for(;null===a.sibling;){if(null===a.return||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}i?(o=r,a=t.stateNode,8===o.nodeType?o.parentNode.removeChild(a):o.removeChild(a)):r.removeChild(t.stateNode)}else if(4===t.tag?r=t.stateNode.containerInfo:Lo(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function Ko(e,t){switch(t.tag){case 2:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&(n[L]=r,Kr(n,o,i,e,r))}break;case 6:null===t.stateNode&&f("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 15:case 16:break;default:f("163")}}function Xo(e,t,n){(n=Di(n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Za(r),Uo(e,t)},n}function Yo(e,t,n){(n=Di(n)).tag=3;var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){null===pa?pa=new Set([this]):pa.add(this);var n=t.value,r=t.stack;Uo(e,t),this.componentDidCatch(n,{componentStack:null!==r?r:""})}),n}function Qo(e,t,n,r,i,o){n.effectTag|=512,n.firstEffect=n.lastEffect=null,r=Ki(r,n),e=t;do{switch(e.tag){case 3:return e.effectTag|=1024,void Ui(e,r=Xo(e,r,o),o);case 2:if(t=r,n=e.stateNode,0===(64&e.effectTag)&&null!==n&&"function"===typeof n.componentDidCatch&&(null===pa||!pa.has(n)))return e.effectTag|=1024,void Ui(e,r=Yo(e,t,o),o)}e=e.return}while(null!==e)}function qo(e){switch(e.tag){case 2:mi(e);var t=e.effectTag;return 1024&t?(e.effectTag=-1025&t|64,e):null;case 3:return io(),gi(),1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 5:return oo(e),null;case 16:return 1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 4:return io(),null;case 13:return $i(e),null;default:return null}}Fo=function(){},Do=function(e,t,n){(t.updateQueue=n)&&jo(t)},Bo=function(e,t,n,r){n!==r&&jo(t)};var $o=ei(),Jo=2,Zo=$o,ea=0,ta=0,na=!1,ra=null,ia=null,oa=0,aa=-1,sa=!1,ca=null,ua=!1,la=!1,pa=null;function fa(){if(null!==ra)for(var e=ra.return;null!==e;){var t=e;switch(t.tag){case 2:mi(t);break;case 3:io(),gi();break;case 5:oo(t);break;case 4:io();break;case 13:$i(t)}e=e.return}ia=null,oa=0,aa=-1,sa=!1,ra=null,la=!1}function da(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0===(512&e.effectTag)){t=Wo(t,e);var i=e;if(1073741823===oa||1073741823!==i.expirationTime){var o=0;switch(i.tag){case 3:case 2:var a=i.updateQueue;null!==a&&(o=a.expirationTime)}for(a=i.child;null!==a;)0!==a.expirationTime&&(0===o||o>a.expirationTime)&&(o=a.expirationTime),a=a.sibling;i.expirationTime=o}if(null!==t)return t;if(null!==n&&0===(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){la=!0;break}e=n}else{if(null!==(e=qo(e)))return e.effectTag&=511,e;if(null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512),null!==r)return r;if(null===n)break;e=n}}return null}function ha(e){var t=No(e.alternate,e,oa);return null===t&&(t=da(e)),ot.current=null,t}function ya(e,t,n){na&&f("243"),na=!0,t===oa&&e===ia&&null!==ra||(fa(),oa=t,aa=-1,ra=wi((ia=e).current,null,oa),e.pendingCommitExpirationTime=0);var r=!1;for(sa=!n||oa<=Jo;;){try{if(n)for(;null!==ra&&!Ja();)ra=ha(ra);else for(;null!==ra;)ra=ha(ra)}catch(t){if(null===ra)r=!0,Za(t);else{null===ra&&f("271");var i=(n=ra).return;if(null===i){r=!0,Za(t);break}Qo(e,i,n,t,0,oa),ra=da(n)}}break}if(na=!1,r)return null;if(null===ra){if(la)return e.pendingCommitExpirationTime=t,e.current.alternate;sa&&f("262"),0<=aa&&setTimeout(function(){var t=e.current.expirationTime;0!==t&&(0===e.remainingExpirationTime||e.remainingExpirationTime<t)&&Va(e,t)},aa),function(e){null===_a&&f("246"),_a.remainingExpirationTime=e}(e.current.expirationTime)}return null}function ma(e,t){var n;e:{for(na&&!ua&&f("263"),n=e.return;null!==n;){switch(n.tag){case 2:var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromCatch||"function"===typeof r.componentDidCatch&&(null===pa||!pa.has(r))){Wi(n,e=Yo(n,e=Ki(t,e),1),1),ba(n,1),n=void 0;break e}break;case 3:Wi(n,e=Xo(n,e=Ki(t,e),1),1),ba(n,1),n=void 0;break e}n=n.return}3===e.tag&&(Wi(e,n=Xo(e,n=Ki(t,e),1),1),ba(e,1)),n=void 0}return n}function ga(){var e=2+25*(1+((Ta()-2+500)/25|0));return e<=ea&&(e=ea+1),ea=e}function va(e,t){return e=0!==ta?ta:na?ua?1:oa:1&t.mode?Da?2+10*(1+((e-2+15)/10|0)):2+25*(1+((e-2+500)/25|0)):1,Da&&(0===Ia||e>Ia)&&(Ia=e),e}function ba(e,t){for(;null!==e;){if((0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>t)&&(e.alternate.expirationTime=t),null===e.return){if(3!==e.tag)break;var n=e.stateNode;!na&&0!==oa&&t<oa&&fa();var r=n.current.expirationTime;na&&!ua&&ia===n||Va(n,r),Ua>Wa&&f("185")}e=e.return}}function Ta(){return Zo=ei()-$o,Jo=2+(Zo/10|0)}function Sa(e){var t=ta;ta=2+25*(1+((Ta()-2+500)/25|0));try{return e()}finally{ta=t}}function Ea(e,t,n,r,i){var o=ta;ta=1;try{return e(t,n,r,i)}finally{ta=o}}var wa=null,xa=null,ka=0,Pa=void 0,Ca=!1,_a=null,Oa=0,Ia=0,Ma=!1,Ra=!1,Aa=null,Na=null,ja=!1,Fa=!1,Da=!1,Ba=null,Wa=1e3,Ua=0,za=1;function La(e){if(0!==ka){if(e>ka)return;null!==Pa&&ni(Pa)}var t=ei()-$o;ka=e,Pa=ti(Ga,{timeout:10*(e-2)-t})}function Va(e,t){if(null===e.nextScheduledRoot)e.remainingExpirationTime=t,null===xa?(wa=xa=e,e.nextScheduledRoot=e):(xa=xa.nextScheduledRoot=e).nextScheduledRoot=wa;else{var n=e.remainingExpirationTime;(0===n||t<n)&&(e.remainingExpirationTime=t)}Ca||(ja?Fa&&(_a=e,Oa=1,qa(e,1,!1)):1===t?Ka():La(t))}function Ha(){var e=0,t=null;if(null!==xa)for(var n=xa,r=wa;null!==r;){var i=r.remainingExpirationTime;if(0===i){if((null===n||null===xa)&&f("244"),r===r.nextScheduledRoot){wa=xa=r.nextScheduledRoot=null;break}if(r===wa)wa=i=r.nextScheduledRoot,xa.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===xa){(xa=n).nextScheduledRoot=wa,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if((0===e||i<e)&&(e=i,t=r),r===xa)break;n=r,r=r.nextScheduledRoot}}null!==(n=_a)&&n===t&&1===e?Ua++:Ua=0,_a=t,Oa=e}function Ga(e){Xa(0,!0,e)}function Ka(){Xa(1,!1,null)}function Xa(e,t,n){if(Na=n,Ha(),t)for(;null!==_a&&0!==Oa&&(0===e||e>=Oa)&&(!Ma||Ta()>=Oa);)Ta(),qa(_a,Oa,!Ma),Ha();else for(;null!==_a&&0!==Oa&&(0===e||e>=Oa);)qa(_a,Oa,!1),Ha();null!==Na&&(ka=0,Pa=null),0!==Oa&&La(Oa),Na=null,Ma=!1,Qa()}function Ya(e,t){Ca&&f("253"),_a=e,Oa=t,qa(e,t,!1),Ka(),Qa()}function Qa(){if(Ua=0,null!==Ba){var e=Ba;Ba=null;for(var t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){Ra||(Ra=!0,Aa=e)}}}if(Ra)throw e=Aa,Aa=null,Ra=!1,e}function qa(e,t,n){Ca&&f("245"),Ca=!0,n?null!==(n=e.finishedWork)?$a(e,n,t):null!==(n=ya(e,t,!0))&&(Ja()?e.finishedWork=n:$a(e,n,t)):null!==(n=e.finishedWork)?$a(e,n,t):null!==(n=ya(e,t,!1))&&$a(e,n,t),Ca=!1}function $a(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime<=n&&(null===Ba?Ba=[r]:Ba.push(r),r._defer))return e.finishedWork=t,void(e.remainingExpirationTime=0);if(e.finishedWork=null,ua=na=!0,(n=t.stateNode).current===t&&f("177"),0===(r=n.pendingCommitExpirationTime)&&f("261"),n.pendingCommitExpirationTime=0,Ta(),ot.current=null,1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var i=t.firstEffect}else i=t;else i=t.firstEffect;qr=In;var o=c();if(Vn(o)){if("selectionStart"in o)var a={start:o.selectionStart,end:o.selectionEnd};else e:{var s=window.getSelection&&window.getSelection();if(s&&0!==s.rangeCount){a=s.anchorNode;var u=s.anchorOffset,p=s.focusNode;s=s.focusOffset;try{a.nodeType,p.nodeType}catch(e){a=null;break e}var d=0,h=-1,y=-1,m=0,g=0,v=o,b=null;t:for(;;){for(var T;v!==a||0!==u&&3!==v.nodeType||(h=d+u),v!==p||0!==s&&3!==v.nodeType||(y=d+s),3===v.nodeType&&(d+=v.nodeValue.length),null!==(T=v.firstChild);)b=v,v=T;for(;;){if(v===o)break t;if(b===a&&++m===u&&(h=d),b===p&&++g===s&&(y=d),null!==(T=v.nextSibling))break;b=(v=b).parentNode}v=T}a=-1===h||-1===y?null:{start:h,end:y}}else a=null}a=a||{start:0,end:0}}else a=null;for($r={focusedElem:o,selectionRange:a},Mn(!1),ca=i;null!==ca;){o=!1,a=void 0;try{for(;null!==ca;){if(256&ca.effectTag){var S=ca.alternate;switch((u=ca).tag){case 2:if(256&u.effectTag&&null!==S){var E=S.memoizedProps,w=S.memoizedState,x=u.stateNode;x.props=u.memoizedProps,x.state=u.memoizedState;var k=x.getSnapshotBeforeUpdate(E,w);x.__reactInternalSnapshotBeforeUpdate=k}break;case 3:case 5:case 6:case 4:break;default:f("163")}}ca=ca.nextEffect}}catch(e){o=!0,a=e}o&&(null===ca&&f("178"),ma(ca,a),null!==ca&&(ca=ca.nextEffect))}for(ca=i;null!==ca;){S=!1,E=void 0;try{for(;null!==ca;){var P=ca.effectTag;if(16&P&&Ar(ca.stateNode,""),128&P){var C=ca.alternate;if(null!==C){var _=C.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(14&P){case 2:Ho(ca),ca.effectTag&=-3;break;case 6:Ho(ca),ca.effectTag&=-3,Ko(ca.alternate,ca);break;case 4:Ko(ca.alternate,ca);break;case 8:Go(w=ca),w.return=null,w.child=null,w.alternate&&(w.alternate.child=null,w.alternate.return=null)}ca=ca.nextEffect}}catch(e){S=!0,E=e}S&&(null===ca&&f("178"),ma(ca,E),null!==ca&&(ca=ca.nextEffect))}if(_=$r,C=c(),P=_.focusedElem,S=_.selectionRange,C!==P&&l(document.documentElement,P)){null!==S&&Vn(P)&&(C=S.start,void 0===(_=S.end)&&(_=C),"selectionStart"in P?(P.selectionStart=C,P.selectionEnd=Math.min(_,P.value.length)):window.getSelection&&(C=window.getSelection(),E=P[he()].length,_=Math.min(S.start,E),S=void 0===S.end?_:Math.min(S.end,E),!C.extend&&_>S&&(E=S,S=_,_=E),E=Ln(P,_),w=Ln(P,S),E&&w&&(1!==C.rangeCount||C.anchorNode!==E.node||C.anchorOffset!==E.offset||C.focusNode!==w.node||C.focusOffset!==w.offset)&&((x=document.createRange()).setStart(E.node,E.offset),C.removeAllRanges(),_>S?(C.addRange(x),C.extend(w.node,w.offset)):(x.setEnd(w.node,w.offset),C.addRange(x))))),C=[];for(_=P;_=_.parentNode;)1===_.nodeType&&C.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof P.focus&&P.focus(),P=0;P<C.length;P++)(_=C[P]).element.scrollLeft=_.left,_.element.scrollTop=_.top}for($r=null,Mn(qr),qr=null,n.current=t,ca=i;null!==ca;){i=!1,P=void 0;try{for(C=r;null!==ca;){var O=ca.effectTag;if(36&O){var I=ca.alternate;switch(S=C,(_=ca).tag){case 2:var M=_.stateNode;if(4&_.effectTag)if(null===I)M.props=_.memoizedProps,M.state=_.memoizedState,M.componentDidMount();else{var R=I.memoizedProps,A=I.memoizedState;M.props=_.memoizedProps,M.state=_.memoizedState,M.componentDidUpdate(R,A,M.__reactInternalSnapshotBeforeUpdate)}var N=_.updateQueue;null!==N&&(M.props=_.memoizedProps,M.state=_.memoizedState,Gi(_,N,M));break;case 3:var j=_.updateQueue;if(null!==j){if(E=null,null!==_.child)switch(_.child.tag){case 5:E=_.child.stateNode;break;case 2:E=_.child.stateNode}Gi(_,j,E)}break;case 5:var F=_.stateNode;null===I&&4&_.effectTag&&Jr(_.type,_.memoizedProps)&&F.focus();break;case 6:case 4:case 15:case 16:break;default:f("163")}}if(128&O){_=void 0;var D=ca.ref;if(null!==D){var B=ca.stateNode;switch(ca.tag){case 5:_=B;break;default:_=B}"function"===typeof D?D(_):D.current=_}}var W=ca.nextEffect;ca.nextEffect=null,ca=W}}catch(e){i=!0,P=e}i&&(null===ca&&f("178"),ma(ca,P),null!==ca&&(ca=ca.nextEffect))}na=ua=!1,Ri(t.stateNode),0===(t=n.current.expirationTime)&&(pa=null),e.remainingExpirationTime=t}function Ja(){return!(null===Na||Na.timeRemaining()>za)&&(Ma=!0)}function Za(e){null===_a&&f("246"),_a.remainingExpirationTime=0,Ra||(Ra=!0,Aa=e)}function es(e,t){var n=ja;ja=!0;try{return e(t)}finally{(ja=n)||Ca||Ka()}}function ts(e,t){if(ja&&!Fa){Fa=!0;try{return e(t)}finally{Fa=!1}}return e(t)}function ns(e,t){Ca&&f("187");var n=ja;ja=!0;try{return Ea(e,t)}finally{ja=n,Ka()}}function rs(e,t,n){if(Da)return e(t,n);ja||Ca||0===Ia||(Xa(Ia,!1,null),Ia=0);var r=Da,i=ja;ja=Da=!0;try{return e(t,n)}finally{Da=r,(ja=i)||Ca||Ka()}}function is(e){var t=ja;ja=!0;try{Ea(e)}finally{(ja=t)||Ca||Xa(1,!1,null)}}function os(e,t,n,r,i){var o=t.current;if(n){var a;n=n._reactInternalFiber;e:{for(2===sn(n)&&2===n.tag||f("170"),a=n;3!==a.tag;){if(yi(a)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}(a=a.return)||f("171")}a=a.stateNode.context}n=yi(n)?bi(n,a):a}else n=p;return null===t.context?t.context=n:t.pendingContext=n,t=i,(i=Di(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),Wi(o,i,r),ba(o,r),r}function as(e){var t=e._reactInternalFiber;return void 0===t&&("function"===typeof e.render?f("188"):f("268",Object.keys(e))),null===(e=ln(t))?null:e.stateNode}function ss(e,t,n,r){var i=t.current;return os(e,t,n,i=va(Ta(),i),r)}function cs(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function us(e){var t=e.findFiberByHostInstance;return function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Oi=Mi(function(e){return t.onCommitFiberRoot(n,e)}),Ii=Mi(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}(a({},e,{findHostInstanceByFiber:function(e){return null===(e=ln(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}var ls=es,ps=rs,fs=function(){Ca||0===Ia||(Xa(Ia,!1,null),Ia=0)};function ds(e){this._expirationTime=ga(),this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function hs(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function ys(e,t,n){this._internalRoot=_i(e,t,n)}function ms(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function gs(e,t,n,r,i){ms(n)||f("200");var o=n._reactRootContainer;if(o){if("function"===typeof i){var a=i;i=function(){var e=cs(o._internalRoot);a.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ys(e,!1,t)}(n,r),"function"===typeof i){var s=i;i=function(){var e=cs(o._internalRoot);s.call(e)}}ts(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)})}return cs(o._internalRoot)}function vs(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return ms(t)||f("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ct,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}We.injectFiberControlledHostComponent(Qr),ds.prototype.render=function(e){this._defer||f("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new hs;return os(e,t,null,n,r._onCommit),r},ds.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},ds.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||f("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;null===r&&f("251"),r._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,Ya(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},ds.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},hs.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},hs.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!==typeof n&&f("191",n),n()}}},ys.prototype.render=function(e,t){var n=this._internalRoot,r=new hs;return null!==(t=void 0===t?null:t)&&r.then(t),ss(e,n,null,r._onCommit),r},ys.prototype.unmount=function(e){var t=this._internalRoot,n=new hs;return null!==(e=void 0===e?null:e)&&n.then(e),ss(null,t,null,n._onCommit),n},ys.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new hs;return null!==(n=void 0===n?null:n)&&i.then(n),ss(t,r,e,i._onCommit),i},ys.prototype.createBatch=function(){var e=new ds(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime<=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Xe=ls,Ye=ps,Qe=fs;var bs={createPortal:vs,findDOMNode:function(e){return null==e?null:1===e.nodeType?e:as(e)},hydrate:function(e,t,n){return gs(null,e,t,!0,n)},render:function(e,t,n){return gs(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return(null==e||void 0===e._reactInternalFiber)&&f("38"),gs(e,t,n,!1,r)},unmountComponentAtNode:function(e){return ms(e)||f("40"),!!e._reactRootContainer&&(ts(function(){gs(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return vs.apply(void 0,arguments)},unstable_batchedUpdates:es,unstable_deferredUpdates:Sa,unstable_interactiveUpdates:rs,flushSync:ns,unstable_flushControlled:is,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:W,EventPluginRegistry:x,EventPropagators:ne,ReactControlledComponent:Ke,ReactDOMComponentTree:K,ReactDOMEventListener:Fn},unstable_createRoot:function(e,t){return new ys(e,!0,null!=t&&!0===t.hydrate)}};us({findFiberByHostInstance:V,bundleType:0,version:"16.4.2",rendererPackageName:"react-dom"});var Ts={default:bs},Ss=Ts&&bs||Ts;e.exports=Ss.default?Ss.default:Ss},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=n(204),c=n(214),u=n(215),l=n(56),p=n(12),f=n(217),d=function(e){function t(t){var n=e.call(this,t)||this;if(n.setSVGWhiteboard=function(e){n.eventHandler&&n.eventHandler.setSVGWhiteboard(e)},n.onEventInterceptorsReady=function(e){n.eventHandler&&(n.eventHandler.interceptMouseOrTouchEvent=e.interceptMouseOrTouchEvent)},n.state={isSpacePress:!1},t.operator){var r=n.shouldDisableOperations(t);n.eventHandler=new u.WhiteboardEventHandler(t.operator,r,t.tagBoxes),n.eventHandler.onSpaceKeyEvent=function(e){return n.setState({isSpacePress:e})}}return n}return i(t,e),t.prototype.componentWillReceiveProps=function(e,t){this.eventHandler&&(this.eventHandler.disableOperations=this.shouldDisableOperations(e),this.eventHandler.tagBoxes=e.tagBoxes,this.eventHandler.onIsMouseOrTouchOperatingChanged=e.onIsMouseOrTouchOperatingChanged,this.eventHandler.willInterceptKeyboardEvent=e.willInterceptKeyboardEvent,this.eventHandler.onKeyDown=e.onKeyDown,this.eventHandler.onKeyUp=e.onKeyUp)},t.prototype.componentWillUnmount=function(){this.eventHandler&&this.eventHandler.dispose()},t.prototype.shouldDisableOperations=function(e){var t=e.phase;return!!e.disableOperations||t!==l.RoomPhase.Connected},t.prototype.svgTransform=function(){var e=this.props.transform;return"translate("+e.deltaX+","+e.deltaY+") scale("+e.scaleX+","+e.scaleY+")"},t.prototype.createSvgWhiteboardStyle=function(){if(this.props.operator.willDisplayMouseCursor){var e=this.state.isSpacePress?"hand":this.props.appliance;return{cursor:this.props.mouseCursorDefinition[e]}}},t.prototype.createTextareaLayoutProps=function(){var e=this.props.tagBoxes.find(function(e){return"myText"===e.type});if(e){var t=this.props.transform,n=e.left,r=e.right,i=e.top,o=e.bottom;return n=n*t.scaleX+t.deltaX,r=r*t.scaleX+t.deltaX,{x:n,y:i=i*t.scaleY+t.deltaY,width:r-n,height:(o=o*t.scaleY+t.deltaY)-i,scale:t.scaleX,operator:this.props.operator,payload:e.payload}}return{x:0,y:0,width:0,height:0,scale:1}},t.prototype.render=function(){return a.createElement("div",{className:"svg-whiteboard",style:this.createSvgWhiteboardStyle(),ref:this.setSVGWhiteboard},"cloud"!==p.Scope&&a.createElement(c.MouseCursorLayout,{cursorViews:this.props.cursorViews}),a.createElement(f.TextareaLayout,o({},this.createTextareaLayoutProps(),{focusTextareaSetter:this.props.focusTextareaSetter})),a.createElement(s.TagBoxesLayout,{tagBoxes:this.props.tagBoxes,transform:this.props.transform,renderFactories:this.props.renderFactories,onEventInterceptorsReady:this.onEventInterceptorsReady}),a.createElement("div",{className:"svg-background"},a.createElement("svg",{width:"100%",height:"100%",version:"1.2"},a.createElement("g",{transform:this.svgTransform()},this.props.svgNodes))))},t}(a.Component);t.WhiteboardView=d},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(3),s=n(61);!function(e){e[e.TransformableDiv=0]="TransformableDiv",e[e.FixedDiv=1]="FixedDiv",e[e.None=2]="None"}(o||(o={}));var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.transformableDiv=null,t.fixedDiv=null,t.tagBoxRenders={},t.setTransformableDiv=function(e){t.transformableDiv=e},t.setFixedDiv=function(e){t.fixedDiv=e},t.setShadowDiv=function(e){for(var n in t.tagBoxRenders){var r=t.tagBoxRenders[n];r.setShadowDiv&&r.setShadowDiv(e)}t.shadowDiv=e},t.interceptMouseOrTouchEvent=function(e,n){var r=t.findRenderWithEvent(e,n),i={};if(r){var o=r.render,a=r.source;if(o.interceptEvent&&o.interceptEvent(e,n,a))return{targetsMap:i,intercepted:!0};for(var s in t.tagBoxRenders){var c=t.tagBoxRenders[s],u=c.findMouseOrTouchEventTargetId&&c.findMouseOrTouchEventTargetId(e,a);u&&(i[s]=u)}}return{targetsMap:i,intercepted:!1}},t}return i(t,e),t.prototype.componentWillMount=function(){this.props.onEventInterceptorsReady({interceptMouseOrTouchEvent:this.interceptMouseOrTouchEvent})},t.prototype.componentWillReceiveProps=function(e){this.props.tagBoxes===e.tagBoxes&&this.props.transform===e.transform||this.refreshRenderAndTheirParams(e)},t.prototype.findRenderWithEvent=function(e,t){var n,r,i=this.findBelongsDivAndChildElement(e.target),a=i.belongsDiv,c=i.childElement;switch(a){case o.TransformableDiv:n=s.TagBoxEventSource.Transformable,r=this.transformableDiv;break;case o.FixedDiv:n=s.TagBoxEventSource.Fixed,r=this.fixedDiv;break;default:return}var u=this.keyOfChild(c,r);return{render:this.tagBoxRenders[u],source:n}},t.prototype.findBelongsDivAndChildElement=function(e){for(;e.parentElement;){if(e.parentElement===this.transformableDiv)return{belongsDiv:o.TransformableDiv,childElement:e};if(e.parentElement===this.fixedDiv)return{belongsDiv:o.FixedDiv,childElement:e};e=e.parentElement}return{belongsDiv:o.None}},t.prototype.keyOfChild=function(e,t){for(var n=0;n<t.children.length;++n)if(t.children.item(n)===e){var r=0;for(var i in this.tagBoxRenders){if(r===n)return i;r++}break}throw new Error("can't find key for child")},t.prototype.allTagBoxRenders=function(){var e=[];for(var t in this.tagBoxRenders)e.push(this.tagBoxRenders[t]);return e},t.prototype.refreshRenderAndTheirParams=function(e){for(var t={},n=0,r=e.tagBoxes;n<r.length;n++){var i=r[n];(c=this.tagBoxRenders[i.key])&&c.type!==i.type&&(c=void 0);var o={left:i.left,right:i.right,top:i.top,bottom:i.bottom},a={key:i.key,rectangle:o,transform:e.transform,payload:i.payload};c?c.updateParams(a):((c=this.props.renderFactories.createRender(i.type)).updateParams(a),this.shadowDiv&&c.setShadowDiv&&c.setShadowDiv(this.shadowDiv)),t[i.key]=c,delete this.tagBoxRenders[i.key]}for(var s in this.tagBoxRenders){var c;(c=this.tagBoxRenders[s]).setShadowDiv&&c.setShadowDiv(null)}this.tagBoxRenders=t},t.prototype.render=function(){var e=this.allTagBoxRenders();return[a.createElement("div",{key:"fixed",className:"tag-boxes-fixed",ref:this.setFixedDiv},e.map(function(e){return e.renderFixed&&e.renderFixed()})),a.createElement("div",{key:"shadow",className:"tag-boxes-shadow",ref:this.setShadowDiv})]},t}(a.Component);t.TagBoxesLayout=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Transformable="transformable",e.Fixed="fixed"}(t.TagBoxEventSource||(t.TagBoxEventSource={})),function(e){e.Mouse="mouse",e.Touch="touch"}(t.TagBoxEventKind||(t.TagBoxEventKind={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(207),i=n(210),o=n(213),a=function(){function e(e){this.deviceType=e}return e.prototype.createRender=function(e){switch(e){case"myText":return new r.TextEditorRender;case"otherText":return new r.TextStateRender;case"selectedGroup":return new i.SelectedGroupRender;case"editable":return new i.EditableRender;case"editor":return new o.EditorRender(this.deviceType)}throw new Error('unrecognized type "'+e+'" of TagBox')},e}();t.TagBoxRenderFactories=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(208);t.TextEditorRender=r.TextEditorRender;var i=n(209);t.TextStateRender=i.TextStateRender},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(115),o=function(){function e(){}return Object.defineProperty(e.prototype,"type",{get:function(){return"myText"},enumerable:!0,configurable:!0}),e.prototype.interceptEvent=function(){return!0},e.prototype.updateParams=function(e){this.params=e},e.prototype.renderFixed=function(){return r.createElement(i.FixedTextareaBox,{key:this.params.key,params:this.params})},e.prototype.renderTransformable=function(){return null},e}();t.TextEditorRender=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(115),o=n(116),a=n(12),s=function(){function e(){}return Object.defineProperty(e.prototype,"type",{get:function(){return"otherText"},enumerable:!0,configurable:!0}),e.prototype.updateParams=function(e){this.params=e},e.prototype.renderFixed=function(){var e=this.params.payload,t=e.color,n=e.information,s={position:"absolute",top:-o.MouseCursorSize.height/2,left:-o.MouseCursorSize.width-5};return r.createElement(i.FixedTextareaBox,{key:this.params.key,params:this.params},"cloud"!==a.Scope&&r.createElement(o.MouseCursor,{color:t,information:n,appliance:"text",style:s}))},e}();t.TextStateRender=s},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(211)),r(n(212))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(25),o=n(29),a=function(){function e(){}return Object.defineProperty(e.prototype,"type",{get:function(){return"editable"},enumerable:!0,configurable:!0}),e.prototype.updateParams=function(e){this.params=e},e.prototype.renderFixed=function(){var e=this.params.payload,t=e.color,n=e.highlight,a=e.selectedBy,s=t[0],c=t[1],u=t[2];if(n||a!==i.BelongsTo.None){var l=o.findFixedRectangle(this.params),p=l.left,f=l.right,d=l.top,h={left:p,top:d,width:f-p,height:l.bottom-d,borderColor:"rgb("+s+","+c+","+u+")"};return r.createElement("div",{key:this.params.key,className:"highlight-box",style:h})}return null},e}();t.EditableRender=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(29),o=function(){function e(){}return Object.defineProperty(e.prototype,"type",{get:function(){return"selectedGroup"},enumerable:!0,configurable:!0}),e.prototype.updateParams=function(e){this.params=e},e.prototype.renderFixed=function(){var e=i.findFixedRectangle(this.params),t=e.left,n=e.right,o=e.top,a=e.bottom,s=this.params.payload.color,c=s[0],u=s[1],l=s[2],p={left:t,top:o,width:n-t,height:a-o,borderColor:"rgb("+c+","+u+","+l+")",backgroundColor:"rgba("+c+","+u+","+l+",0.15)"};return r.createElement("div",{key:this.params.key,className:"selected-group",style:p})},e}();t.SelectedGroupRender=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(29),o=n(12),a=function(){function e(e){this.deviceType=e,this.maskHtmlElement=null,this.operationPointsMap={}}return Object.defineProperty(e.prototype,"type",{get:function(){return"editor"},enumerable:!0,configurable:!0}),e.prototype.updateParams=function(e){this.params=e},e.prototype.findMouseOrTouchEventTargetId=function(e){if(this.maskHtmlElement&&this.latestTargetId)return this.latestTargetId;for(var t in this.operationPointsMap)if(this.operationPointsMap[t]===e.target)return this.latestTargetId=t,t},e.prototype.mapTargetIdToCursorMark=function(e){switch(e){case"LT":case"RB":return"cursor-nwse";case"LB":case"RT":return"cursor-nesw";case"T":case"B":return"cursor-ns";case"L":case"R":return"cursor-ew"}return""},e.prototype.renderFixed=function(){var e=this,t=i.findFixedRectangle(this.params),n=t.left,a=t.right,s=t.top,c=t.bottom,u=this.params.payload,l=u.color,p=u.isDragging,f=u.isUniformScale,d="rgb("+l[0]+","+l[1]+","+l[2]+")",h=a-n,y=c-s,m=this.deviceType===o.DeviceType.Desktop?4.5:17.5,g={left:n,top:s,width:h,height:y,borderColor:d};return[r.createElement("div",{key:this.params.key,className:"editor-box",style:g},this.renderOperationPoint("left-top cursor-nwse","LT",d),this.renderOperationPoint("right-top cursor-nesw","RT",d),this.renderOperationPoint("left-bottom cursor-nesw","LB",d),this.renderOperationPoint("right-bottom cursor-nwse","RB",d),!f&&this.renderOperationPoint("top cursor-ns","T",d,{left:h/2-m}),!f&&this.renderOperationPoint("right cursor-ew","R",d,{top:y/2-m}),!f&&this.renderOperationPoint("bottom cursor-ns","B",d,{left:h/2-m}),!f&&this.renderOperationPoint("left cursor-ew","L",d,{top:y/2-m})),p&&this.latestTargetId&&r.createElement("div",{key:this.params.key+"-mask",ref:function(t){return e.maskHtmlElement=t},className:"editor-box-mask "+this.mapTargetIdToCursorMark(this.latestTargetId)})]},e.prototype.renderOperationPoint=function(e,t,n,i){var a=this;return void 0===i&&(i={}),this.deviceType===o.DeviceType.Touch?r.createElement("div",{className:"operation-point-touch "+e,ref:function(e){return a.operationPointsMap[t]=e},style:i},r.createElement("div",{style:{backgroundColor:n}})):(i.backgroundColor=n,r.createElement("div",{className:"operation-point-desktop "+e,ref:function(e){return a.operationPointsMap[t]=e},style:i}))},e}();t.EditorRender=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(116),s=function(e){function t(t){var n=e.call(this,t)||this;return n.cursorViewsMap={},n.state={layoutRef:null},n}return i(t,e),t.prototype.componentDidUpdate=function(){if(this.props.cursorViews!==this.cursorViews){this.cursorViews=this.props.cursorViews;for(var e=0,t=this.cursorViews;e<t.length;e++){var n=t[e],r=this.cursorViewsMap[n.memberId];if(r){var i=r.parentElement,o=i.clientWidth,s=i.clientHeight/2,c=o/2+n.x-a.MouseCursorSize.width/2,u=s+n.y-a.MouseCursorSize.height/2;r.style.left=c+"px",r.style.top=u+"px"}}}},t.prototype.render=function(){var e=this;return o.createElement("div",{className:"mouse-cursor"},this.props.cursorViews.map(function(t){return o.createElement(a.MouseCursor,{key:""+t.memberId,memberId:t.memberId,color:t.color,information:t.information,appliance:t.appliance,cursorRef:function(n){n?e.cursorViewsMap[t.memberId]=n:delete e.cursorViewsMap[t.memberId]}})}))},t}(o.Component);t.MouseCursorLayout=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(117),i=n(216),o=n(61),a=function(){function e(e,t,n){var a=this;this.setSVGWhiteboard=function(e){a.desktopTransfer.ref=e,a.operationProxy.setHTMLDivElement(e)},this.filterKeyEvents=function(e,t){return!a.tagBoxes.some(function(e){return"myText"===e.type})&&(!!a.desktopTransfer.filterKeyEvents(e,t)&&(t===r.KeyEventStatus.Up?a.onKeyUp&&a.onKeyUp(e):a.onKeyDown&&a.onKeyDown(e),!a.willInterceptKeyboardEvent||!a.willInterceptKeyboardEvent(e)))},this.operator=e,this.tagBoxes=n,this.desktopTransfer=new i.DesktopTransfer(e,{spaceKeyEvent:function(e){a.onSpaceKeyEvent&&a.onSpaceKeyEvent(e)}}),this.operationProxy=new r.OperationProxy(e,t,{filterMouseEvents:function(e,t){return a.filterMouseOrTouchEvents(e,t,o.TagBoxEventKind.Mouse)},filterTouchEvents:function(e,t,n){return a.filterMouseOrTouchEvents(e,n,o.TagBoxEventKind.Touch)},filterKeyEvents:this.filterKeyEvents,onIsMouseOrTouchOperatingChanged:function(e){a.onIsMouseOrTouchOperatingChanged&&a.onIsMouseOrTouchOperatingChanged(e)}})}return Object.defineProperty(e.prototype,"disableOperations",{get:function(){return this.operationProxy.disableOperations},set:function(e){this.operationProxy.disableOperations=e},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.operationProxy.disableOperations=!1},e.prototype.filterMouseOrTouchEvents=function(e,t,n){switch(t){case r.EventStatus.Start:return this.filterMouseStartEvents(e,t,n);case r.EventStatus.Move:case r.EventStatus.End:return this.filterMouseMoveAndEndEvents(e,t);default:return}},e.prototype.filterMouseStartEvents=function(e,t,n){if(!this.isEventOnTextareaLayout(e)&&this.desktopTransfer.filterMouseOrTouchEvents(e,t)){var r=this.interceptMouseOrTouchEvent(e,n),i=r.targetsMap;if(!r.intercepted)return i}},e.prototype.isEventOnTextareaLayout=function(e){for(var t=e.target;t;){if("textarea-layout"===t.className)return!0;t=t.parentElement}return!1},e.prototype.filterMouseMoveAndEndEvents=function(e,t){return this.desktopTransfer.filterMouseOrTouchEvents(e,t)?{}:void 0},e}();t.WhiteboardEventHandler=a},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(117),a=n(118);!function(e){e[e.None=0]="None",e[e.Operating=1]="Operating"}(i||(i={}));var s=function(){function e(e,t){this.operator=e,this.keyCallbacks=t,this.isSpaceKeyDown=!1,this.operationStatus=i.None,this.latestMousePosition={x:0,y:0},this.keyCallbacks=r({},t)}return e.prototype.filterKeyEvents=function(e,t){return" "!==e.key||(this.isSpaceKeyDown=t===o.KeyEventStatus.Down,this.keyCallbacks.spaceKeyEvent(this.isSpaceKeyDown),!1===this.isSpaceKeyDown&&(this.operationStatus=i.None),!1)},e.prototype.filterMouseOrTouchEvents=function(e,t){if(!this.isSpaceKeyDown)return!0;switch(t){case o.EventStatus.Start:this.operationStatus=i.Operating;var n=this.eventPosition(e);this.latestMousePosition.x=n.x,this.latestMousePosition.y=n.y;break;case o.EventStatus.Move:if(this.operationStatus===i.Operating){n=this.eventPosition(e);this.operator.onViewTransform({offsetX:n.x-this.latestMousePosition.x,offsetY:n.y-this.latestMousePosition.y,x:n.x,y:n.y,scale:0}),this.latestMousePosition.x=n.x,this.latestMousePosition.y=n.y}break;case o.EventStatus.End:this.operationStatus=i.None}return!1},e.prototype.eventPosition=function(e){var t=a.pagePositionWith(this.ref),n=t.x,r=t.y,i=e,o=i.pageX,s=i.pageY;return{x:Math.floor(o)-n,y:Math.floor(s)-r}},e}();t.DesktopTransfer=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(218);t.TextareaLayout=r.TextareaLayout},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(219),s=n(220),c=n(17),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.textareaRefStyle=new a.TextareaRefStyle,t.defaultText="",t.shadow=null,t.setupTextarea=function(e){t.textareaRefStyle.updateTextareaRef(e),t.props.focusTextareaSetter&&e&&t.props.focusTextareaSetter(t.focusTextarea)},t.focusTextarea=function(e){var n=t.textareaRefStyle.textarea;e?(n.style.visibility="visible",n.focus()):(n.style.width="100px",n.style.height="100px",n.style.visibility="hidden",n.blur())},t.setTextareaShadowRef=function(e){e?(t.shadow=new s.TextEditorShadow(e,t.props.payload),t.props.payload&&t.updateColorAndSize(t.props.payload.textColor,t.props.payload.textSize)):(t.shadow.release(),t.shadow=null)},t.onTextAreaChange=function(e){var n=e.target.value;if(t.props.operator){t.shadow.updateText(n);var r=t.createTextareaBox(t.shadow);t.props.operator.onTextareaUpdate(r),t.textareaRefStyle.assertSize(r.width,r.height)}},t}return i(t,e),t.prototype.componentWillReceiveProps=function(e){!this.props.payload||!e.payload||this.props.payload===e.payload||c.checkValueIsEquals(this.props.payload.color,e.payload.color)&&this.isNumberEquals(this.props.payload.textSize,e.payload.textSize)||this.updateColorAndSize(e.payload.color,e.payload.textSize),e.payload&&!this.props.payload?(this.textareaRefStyle.textarea.value=e.payload.originalText,this.updateColorAndSize(e.payload.color,e.payload.textSize),this.focusTextarea(!0)):!e.payload&&this.props.payload&&(this.textareaRefStyle.textarea.value="",this.focusTextarea(!1))},t.prototype.isNumberEquals=function(e,t){return!(!Number.isNaN(e)||!Number.isNaN(t))||e===t},t.prototype.updateColorAndSize=function(e,t){this.shadow&&this.shadow.updateColorAndSize(e,t);var n=e[0],r=e[1],i=e[2];this.textareaRefStyle.textarea.style.color="rgb("+n+","+r+","+i+")",this.textareaRefStyle.textarea.style.fontSize=t+"px"},t.prototype.createTextareaBox=function(e){for(var t=e.textLineMaxWidth,n=e.textareaHeight,r=e.textLineRectList.length,i=0,o=0,a=e.textLineRectList;o<a.length;o++){i+=a[o].height}for(var s=(n-i)/r,c=[],u=s/2,l=0;l<e.textLineRectList.length;++l){var p=e.textLineRectList[l],f=u+p.height/2;this.pushTextLineReact(c,p,f),u+=p.height+s}return{scale:this.props.payload.scale,width:t,height:n,textLines:c,originalText:e.originalText}},t.prototype.pushTextLineReact=function(e,t,n){for(var r=0,i=t.textRanges;r<i.length;r++){var o=i[r];e.push({dx:o.begin,dy:n,textLength:o.length,text:o.text})}},t.prototype.render=function(){var e,t=this.props,n=t.x,r=t.y,i=t.width,a=t.height,s=t.payload;return s?(this.textareaRefStyle.updateRectangle(n,r,i,a,s),e={width:0,height:0,left:this.props.x,top:this.props.y,transform:"scale("+this.props.scale*s.scale+")"}):e={left:0,top:0,width:0,height:0},o.createElement("div",{className:"textarea-layout"},o.createElement("div",{className:"textarea-wrapper",style:e},o.createElement("textarea",{defaultValue:this.props.payload?this.defaultText:"",ref:this.setupTextarea,onChange:this.onTextAreaChange})),this.props.payload&&o.createElement("div",{className:"textarea-shadow",ref:this.setTextareaShadowRef}))},t}(o.Component);t.TextareaLayout=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=4,i=8;function o(e){return Math.max(r,e)}function a(e,t){return Math.max(t+i,e)}var s=function(){function e(){this.x=0,this.y=0,this.width=0,this.height=0,this.textSize=16,this.textColor=[0,0,0]}return Object.defineProperty(e.prototype,"textarea",{get:function(){return this.textareaRef},enumerable:!0,configurable:!0}),e.prototype.updateTextareaRef=function(e){this.textareaRef=e,this.refreshSize(),this.refreshPositionAndOthers()},e.prototype.assertSize=function(e,t){this.width=o(e),this.height=a(t,this.textSize),this.refreshSize()},e.prototype.updateRectangle=function(e,t,n,r,i){var s=i.textColor,c=i.textSize,u=i.scale;this.x=e,this.y=t,this.width=o(n/u),this.height=a(r/u,c),this.textSize=c,this.textColor=s,this.refreshSize(),this.refreshPositionAndOthers()},e.prototype.refreshSize=function(){this.textareaRef&&(this.textareaRef.style.width=this.width+"px",this.textareaRef.style.height=this.height+"px")},e.prototype.refreshPositionAndOthers=function(){if(this.textareaRef){var e=this.textColor,t=e[0],n=e[1],r=e[2];this.textareaRef.style.color="rgb("+t+","+n+","+r+")",this.textareaRef.style.fontSize=this.textSize+"px",this.textareaRef.style.left=this.x+"px",this.textareaRef.style.top=this.y+"px"}},e}();t.TextareaRefStyle=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(221),i=function(){function e(e,t){this.textLineMaxWidth=0,this.textareaHeight=0,this.textLineRectList=[];var n=t.textColor,i=t.textSize,o=t.originalText,a=n[0],s=n[1],c=n[2];this.textGauger=new r.TextGauger(e,n,i),this.textarea=document.createElement("textarea"),this.textarea.style.color="rgb("+a+","+s+","+c+")",this.textarea.style.fontSize=i+"px",e.appendChild(this.textarea),this.updateText(o)}return e.prototype.release=function(){this.textarea.remove(),this.textGauger.dispose()},e.prototype.updateColorAndSize=function(e,t){var n=e[0],r=e[1],i=e[2];this.textarea.style.color="rgb("+n+","+r+","+i+")",this.textarea.style.fontSize=t+"px",this.textGauger.updateColorAndSize(e,t),this.updateText(this.originalText)},e.prototype.updateText=function(e){var t=this;this.originalText=e;var n=e.split("\n");0===n.length?(this.textLineRectList=[],this.textLineMaxWidth=0,this.textareaHeight=this.textGauger.gaugeHeight()):(this.textLineRectList=n.map(function(e){""===e&&(e=" ");var n=t.textGauger.gaugeText(e);return n.text=e,n}),this.textLineMaxWidth=Math.max.apply(Math,this.textLineRectList.map(function(e){return e.width})),this.textareaHeight=this.countTextareaHeight(e))},e.prototype.countTextareaHeight=function(e){return 0===this.textLineRectList.length?0:1===this.textLineRectList.length?this.textLineRectList[0].height:(this.textarea.textContent=e,this.textarea.style.width=this.textLineMaxWidth+"px",this.textarea.style.height="auto",this.textarea.scrollHeight)},e}();t.TextEditorShadow=i},function(e,t,n){"use strict";function r(e){return e.replace(/[ <>&"\t]/g,function(e){switch(e){case" ":return"&nbsp;";case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case'"':return"&quot;";case"\t":return"&#9;";default:return e}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n){this.shadow=e,this.span=document.createElement("span"),e.appendChild(this.span),this.updateColorAndSize(t,n)}return e.prototype.updateColorAndSize=function(e,t){var n=e[0],r=e[1],i=e[2];this.span.style.color="rgb("+n+","+r+","+i+")",this.span.style.fontSize=t+"px"},e.prototype.dispose=function(){this.span.remove()},e.prototype.gaugeHeight=function(){return this.gaugeTextRect("&nbsp;").height},e.prototype.gaugeText=function(e){var t=e.match(/([^ ]+| +)/g);if(!t)return{width:0,height:0,textRanges:[]};for(var n=t.map(r),i=0,o=0,a="",s=[],c=0;c<n.length;++c){a+=n[c];var u=t[c],l=this.gaugeTextRect(a),p=l.width-i;this.isSpaces(u)||s.push({begin:i,length:p,text:u}),i=l.width,o=l.height}return{width:i,height:o,textRanges:s}},e.prototype.gaugeTextRect=function(e){return this.span.innerHTML=e,this.span.getBoundingClientRect()},e.prototype.isSpaces=function(e){return" "===e[0]},e}();t.TextGauger=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),c=n(0),u=n(57),l=n(120),p=n(113),f=n(12),d=n(40),h=n(119),y=function(e){function t(n){var r=e.call(this,n.animationTickGenFactory,n.deviceType,n.callbacks,!0,!1)||this;return r.didLoadFirstFrame=!1,r.observerMode=l.ObserverMode.Directory,r.followUserId=void 0,r.onPhaseChanged=function(e){var n=!1;r.didLoadFirstFrame||e===c.ReconstructorPhase.WaitingFirstFrame||(r.afterLoadFirstFrame(),r.didLoadFirstFrame=!0,n=!0),r.callbacks.onPhaseChanged&&r.callbacks.onPhaseChanged(t.covertPhase(e)),r.callbacks.onLoadFirstFrame&&n&&r.callbacks.onLoadFirstFrame()},r.beginPinch=function(){r.observerMode!==l.ObserverMode.Freedom&&(r.observerMode=l.ObserverMode.Freedom,r.stateTrigger.setAndCompare({observerState:r.getObserverState()}))},r.mouseCursorDefinition=n.mouseCursorDefinition,r.disableOperationsBeforeLoadFirstFrame=n.disableOperations,r.operator=r.createWhiteboardOperator(),r.zoomMaxScale=n.zoomMaxScale,r.zoomMinScale=n.zoomMinScale,r}return i(t,e),t.prototype.setupMediaPlayer=function(e,t,n){return o(this,void 0,void 0,function(){var t;return a(this,function(r){switch(r.label){case 0:return t=this,[4,n.createReconstructor(e,this.createReconstructorCallbacks())];case 1:return t.mediaAdapter=r.sent(),[2]}})})},t.prototype.setupMediaPlayerWithMediaAdapter=function(e,t,n){return o(this,void 0,void 0,function(){var r;return a(this,function(i){switch(i.label){case 0:return r=this,[4,n.create(e,t,this.createReconstructorCallbacks())];case 1:return r.mediaAdapter=i.sent(),[2]}})})},t.prototype.createReconstructorCallbacks=function(){var e=this;return{onRootChanged:function(){return e.notifyRootChanged()},onEventFire:function(t){return e.dispatchMagixEventWithObject(t)},escapeObjectFilter:s.isValidElement,onPhaseChanged:this.onPhaseChanged,onScheduleTimeChanged:this.callbacks.onScheduleTimeChanged,onCatchErrorWhenFetchBuffer:this.callbacks.onCatchErrorWhenFetchBuffer,onCatchErrorWhenAppendFrame:this.callbacks.onCatchErrorWhenAppendFrame}},t.prototype.afterLoadFirstFrame=function(){this.disableOperationsBeforeLoadFirstFrame!==this.displayerSyncNode.props.disableOperations&&this.displayerSyncNode.setProps({disableOperations:this.disableOperationsBeforeLoadFirstFrame}),this.setup();var e=this.applianceManager;this.stateTrigger=new h.StateTrigger({stateKeys:["observerState","globalState","members","pptImages"],state:{viewState:e.getViewStateWithUserId(this.followUserId),observerState:this.getObserverState(),globalState:e.getGlobalState(),members:e.getMemberDisplayers().map(u.DisplayerImplement.covertMemberDisplayerToMember),pptImages:e.getPptImages()},onStateChanged:this.callbacks.onPlayerStateChanged});var t=this.animationTickGen.createChildTickBeforeMe();this.sorter=new d.EventAndViewSorter(this.deviceType,t,this.camera,this.zoomMaxScale,this.zoomMinScale,{beginPinch:this.beginPinch})},t.prototype.notifyRootChanged=function(e){if(void 0===e&&(e=!1),this.refreshDisplayer(),this.didLoadFirstFrame){var t=this.applianceManager,n=this.stateTrigger.setAndCompare({viewState:this.applianceManager.getViewStateWithUserId(this.followUserId),observerState:this.getObserverState(),globalState:t.getGlobalState(),members:t.getMemberDisplayers().map(u.DisplayerImplement.covertMemberDisplayerToMember),pptImages:t.getPptImages()});e?this.camera.setIdealView(this.stateTrigger.state.viewState):n.viewState&&this.observerMode===l.ObserverMode.Directory&&this.camera.setIdealView(n.viewState.target)}},t.prototype.getObserverState=function(){var e=this.applianceManager,t=e.getViewStateWithUserId(this.followUserId);return{mode:this.observerMode,observerId:t.memberId,followUserId:this.followUserId,observerInformation:e.getInformationWithMemberId(t.memberId)}},t.prototype.bindHtmlElement=function(e){this.element!==e&&(this.element&&p.bindPlayer(this.element,null),this.element=e,this.element&&p.bindPlayer(this.element,{player:this}))},t.prototype.setObserverMode=function(e){this.observerMode!==e&&(this.observerMode=e,this.afterUpdateObserverState())},t.prototype.setFollowUserId=function(e){this.followUserId!==e&&(this.followUserId=e,this.afterUpdateObserverState())},t.prototype.cleanFollowUserId=function(){void 0!==this.followUserId&&(this.followUserId=void 0,this.afterUpdateObserverState())},t.prototype.afterUpdateObserverState=function(){this.stateTrigger.setAndCompare({observerState:this.getObserverState()}),this.notifyRootChanged(!0)},Object.defineProperty(t.prototype,"disableOperations",{get:function(){return this.didLoadFirstFrame?this.disableOperationsBeforeLoadFirstFrame:this.displayerSyncNode.props.disableOperations},set:function(e){this.didLoadFirstFrame?this.disableOperationsBeforeLoadFirstFrame=e:this.displayerSyncNode.setProps({disableOperations:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"observerId",{get:function(){if(this.didLoadFirstFrame){var e=this.stateTrigger.exportState.observerState.observerId;if(void 0!==e)return e}return c.AdminObserverId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){if(!this.didLoadFirstFrame)throw new Error("can't read state before load first frame");return this.stateTrigger.exportState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"applianceManager",{get:function(){return this.mediaAdapter.triggerObject},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentAppliance",{get:function(){return"selector"},enumerable:!0,configurable:!0}),t.prototype.shouldDisplayNow=function(){return!!this.mediaAdapter},t.prototype.onCameraTransformChanged=function(e){},Object.defineProperty(t.prototype,"uuid",{get:function(){return this.mediaAdapter.uuid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"phase",{get:function(){return t.covertPhase(this.mediaAdapter.phase)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scheduleTime",{get:function(){return this.mediaAdapter.scheduleTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeDuration",{get:function(){return this.mediaAdapter.timeDuration},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"framesCount",{get:function(){return this.mediaAdapter.framesCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"beginTimestamp",{get:function(){return this.mediaAdapter.beginTimestamp},enumerable:!0,configurable:!0}),t.prototype.play=function(){this.mediaAdapter.play()},t.prototype.pause=function(){this.mediaAdapter.pause()},t.prototype.stop=function(){this.mediaAdapter.stop(),this.dispose()},t.prototype.seekToScheduleTime=function(e){this.mediaAdapter.seekToScheduleTime(e)},t.prototype.zoomChange=function(e){this.sorter.zoomChange(e)},t.covertPhase=function(e){switch(e){case c.ReconstructorPhase.WaitingFirstFrame:return l.PlayerPhase.WaitingFirstFrame;case c.ReconstructorPhase.Playing:return l.PlayerPhase.Playing;case c.ReconstructorPhase.Pause:return l.PlayerPhase.Pause;case c.ReconstructorPhase.Stop:return l.PlayerPhase.Stop;case c.ReconstructorPhase.TouchedEnding:return l.PlayerPhase.TouchedEnding;case c.ReconstructorPhase.Buffering:case c.ReconstructorPhase.Seeking:return l.PlayerPhase.Buffering}},t.prototype.createWhiteboardOperator=function(){var e=this,t=function(){},n={deviceType:this.deviceType,willDisplayMouseCursor:!1,onTextareaUpdate:t,onKeyUp:t,onKeyDown:t,onMouseDown:t,onMouseUp:t,onMouseMove:t,onMouseLeave:t,onViewTransform:function(t){e.deviceType===f.DeviceType.Desktop&&e.sorter.viewTransform(t)},onTouchStart:function(t){e.deviceType===f.DeviceType.Touch&&e.sorter.touchStart(t)},onTouchMove:function(t){e.deviceType===f.DeviceType.Touch&&e.sorter.touchMove(t)},onTouchEnd:function(t){e.deviceType===f.DeviceType.Touch&&e.sorter.touchEnd(t)},onTouchCancel:function(t){e.deviceType===f.DeviceType.Touch&&e.sorter.touchCancel(t)}};return Object.freeze(n)},t}(u.DisplayerImplement);t.PlayerImplement=y},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getWholeMouseCursorDefinition=function(e){return void 0===e&&(e={}),Object.freeze(r({hand:'-webkit-image-set(url("https://sdk.herewhite.com/resource/mouse-cursor/hand-cursor.svg") 1x,\n                                 url("https://sdk.herewhite.com/resource/mouse-cursor/hand-cursor%402x.png") 2x) 0 0,\n                                 url("https://sdk.herewhite.com/resource/mouse-cursor/hand-cursor.png"), auto',selector:'-webkit-image-set(url("https://sdk.herewhite.com/resource/mouse-cursor/selector-cursor.png") 1x,\n                                     url("https://sdk.herewhite.com/resource/mouse-cursor/selector-cursor%402x.png") 2x) 5 4,\n                                     url("https://sdk.herewhite.com/resource/mouse-cursor/selector-cursor.jpg"), auto',pencil:'-webkit-image-set(url("https://sdk.herewhite.com/resource/mouse-cursor/pencil-cursor.png") 1x,\n                                   url("https://sdk.herewhite.com/resource/mouse-cursor/pencil-cursor%402x.png") 2x) 2 22,\n                                   url("https://sdk.herewhite.com/resource/mouse-cursor/pencil-cursor.jpg"), auto',eraser:'-webkit-image-set(url("https://sdk.herewhite.com/resource/mouse-cursor/easer-cursor.png") 1x,\n                                   url("https://sdk.herewhite.com/resource/mouse-cursor/easer-cursor%402x.png") 2x) 8 18,\n                                   url("https://sdk.herewhite.com/resource/mouse-cursor/easer-cursor.jpg"), auto',rectangle:"crosshair",ellipse:"crosshair",text:"text"},e))}},function(e,t){var n={default:this,call:function(e,t,n){var r="";"function"==typeof t&&(n=t,t={});var i={data:void 0===t?null:t};if("function"==typeof n){var o="dscb"+window.dscb++;window[o]=n,i._dscbstub=o}return i=JSON.stringify(i),window._dsbridge?r=_dsbridge.call(e,i):(window._dswk||-1!=navigator.userAgent.indexOf("_dsbridge"))&&(r=prompt("_dsbridge="+e,i)),JSON.parse(r||"{}").data},register:function(e,t,r){var i=r?window._dsaf:window._dsf;window._dsInit||(window._dsInit=!0,setTimeout(function(){n.call("_dsb.dsinit")},0)),"object"==typeof t?i._obs[e]=t:i[e]=t},registerAsyn:function(e,t){this.register(e,t,!0)},hasNativeMethod:function(e,t){return this.call("_dsb.hasNativeMethod",{name:e,type:t||"all"})},disableJavascriptDialogBlock:function(e){this.call("_dsb.disableJavascriptDialogBlock",{disable:!1!==e})}};!function(){if(!window._dsf){var e={_dsf:{_obs:{}},_dsaf:{_obs:{}},dscb:0,dsBridge:n,close:function(){n.call("_dsb.closePage")},_handleMessageFromNative:function(e){var t=JSON.parse(e.data),r={id:e.callbackId,complete:!0},i=this._dsf[e.method],o=this._dsaf[e.method],a=function(e,i){r.data=e.apply(i,t),n.call("_dsb.returnValue",r)},s=function(e,i){t.push(function(e,t){r.data=e,r.complete=!1!==t,n.call("_dsb.returnValue",r)}),e.apply(i,t)};if(i)a(i,this._dsf);else if(o)s(o,this._dsaf);else{var c=e.method.split(".");if(c.length<2)return;var u=c.pop(),l=c.join("."),p=this._dsf._obs,f=p[l]||{},d=f[u];if(d&&"function"==typeof d)return void a(d,f);if((d=(f=(p=this._dsaf._obs)[l]||{})[u])&&"function"==typeof d)return void s(d,f)}}};for(var t in e)window[t]=e[t];n.register("_hasJavascriptMethod",function(e,t){var n=e.split(".");if(n.length<2)return!(!_dsf[n]&&!_dsaf[n]);e=n.pop();var r=n.join("."),i=_dsf._obs[r]||_dsaf._obs[r];return i&&!!i[e]})}}(),e.exports=n},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!("undefined"===typeof window||!("ontouchstart"in window||window.DocumentTouch&&"undefined"!==typeof document&&document instanceof window.DocumentTouch))||!("undefined"===typeof navigator||!navigator.maxTouchPoints&&!navigator.msMaxTouchPoints)},e.exports=t.default},function(e,t){}]);
//# sourceMappingURL=main.1bac2c34.js.map